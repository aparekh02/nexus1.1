var qO=Object.defineProperty;var HO=(t,e,n)=>e in t?qO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var VO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ce=(t,e,n)=>HO(t,typeof e!="symbol"?e+"":e,n);var _H=VO((yr,wr)=>{function WO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KO(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var eg={exports:{}},Sc={},tg={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function GO(){if(Fw)return Qe;Fw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function _($,K,ee){this.props=$,this.context=K,this.refs=x,this.updater=ee||v}_.prototype.isReactComponent={},_.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function C(){}C.prototype=_.prototype;function T($,K,ee){this.props=$,this.context=K,this.refs=x,this.updater=ee||v}var O=T.prototype=new C;O.constructor=T,w(O,_.prototype),O.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function z($,K,ee){var se,ce={},me=null,J=null;if(K!=null)for(se in K.ref!==void 0&&(J=K.ref),K.key!==void 0&&(me=""+K.key),K)P.call(K,se)&&!B.hasOwnProperty(se)&&(ce[se]=K[se]);var ae=arguments.length-2;if(ae===1)ce.children=ee;else if(1<ae){for(var ge=Array(ae),le=0;le<ae;le++)ge[le]=arguments[le+2];ce.children=ge}if($&&$.defaultProps)for(se in ae=$.defaultProps,ae)ce[se]===void 0&&(ce[se]=ae[se]);return{$$typeof:t,type:$,key:me,ref:J,props:ce,_owner:U.current}}function Q($,K){return{$$typeof:t,type:$.type,key:K,ref:$.ref,props:$.props,_owner:$._owner}}function oe($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function L($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ee){return K[ee]})}var X=/\/+/g;function D($,K){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):K.toString(36)}function M($,K,ee,se,ce){var me=typeof $;(me==="undefined"||me==="boolean")&&($=null);var J=!1;if($===null)J=!0;else switch(me){case"string":case"number":J=!0;break;case"object":switch($.$$typeof){case t:case e:J=!0}}if(J)return J=$,ce=ce(J),$=se===""?"."+D(J,0):se,k(ce)?(ee="",$!=null&&(ee=$.replace(X,"$&/")+"/"),M(ce,K,ee,"",function(le){return le})):ce!=null&&(oe(ce)&&(ce=Q(ce,ee+(!ce.key||J&&J.key===ce.key?"":(""+ce.key).replace(X,"$&/")+"/")+$)),K.push(ce)),1;if(J=0,se=se===""?".":se+":",k($))for(var ae=0;ae<$.length;ae++){me=$[ae];var ge=se+D(me,ae);J+=M(me,K,ee,ge,ce)}else if(ge=m($),typeof ge=="function")for($=ge.call($),ae=0;!(me=$.next()).done;)me=me.value,ge=se+D(me,ae++),J+=M(me,K,ee,ge,ce);else if(me==="object")throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return J}function W($,K,ee){if($==null)return $;var se=[],ce=0;return M($,se,"","",function(me){return K.call(ee,me,ce++)}),se}function j($){if($._status===-1){var K=$._result;K=K(),K.then(function(ee){($._status===0||$._status===-1)&&($._status=1,$._result=ee)},function(ee){($._status===0||$._status===-1)&&($._status=2,$._result=ee)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var H={current:null},R={transition:null},F={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:R,ReactCurrentOwner:U};function q(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:W,forEach:function($,K,ee){W($,function(){K.apply(this,arguments)},ee)},count:function($){var K=0;return W($,function(){K++}),K},toArray:function($){return W($,function(K){return K})||[]},only:function($){if(!oe($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Qe.Component=_,Qe.Fragment=n,Qe.Profiler=s,Qe.PureComponent=T,Qe.StrictMode=r,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Qe.act=q,Qe.cloneElement=function($,K,ee){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var se=w({},$.props),ce=$.key,me=$.ref,J=$._owner;if(K!=null){if(K.ref!==void 0&&(me=K.ref,J=U.current),K.key!==void 0&&(ce=""+K.key),$.type&&$.type.defaultProps)var ae=$.type.defaultProps;for(ge in K)P.call(K,ge)&&!B.hasOwnProperty(ge)&&(se[ge]=K[ge]===void 0&&ae!==void 0?ae[ge]:K[ge])}var ge=arguments.length-2;if(ge===1)se.children=ee;else if(1<ge){ae=Array(ge);for(var le=0;le<ge;le++)ae[le]=arguments[le+2];se.children=ae}return{$$typeof:t,type:$.type,key:ce,ref:me,props:se,_owner:J}},Qe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},Qe.createElement=z,Qe.createFactory=function($){var K=z.bind(null,$);return K.type=$,K},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function($){return{$$typeof:c,render:$}},Qe.isValidElement=oe,Qe.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:j}},Qe.memo=function($,K){return{$$typeof:f,type:$,compare:K===void 0?null:K}},Qe.startTransition=function($){var K=R.transition;R.transition={};try{$()}finally{R.transition=K}},Qe.unstable_act=q,Qe.useCallback=function($,K){return H.current.useCallback($,K)},Qe.useContext=function($){return H.current.useContext($)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function($){return H.current.useDeferredValue($)},Qe.useEffect=function($,K){return H.current.useEffect($,K)},Qe.useId=function(){return H.current.useId()},Qe.useImperativeHandle=function($,K,ee){return H.current.useImperativeHandle($,K,ee)},Qe.useInsertionEffect=function($,K){return H.current.useInsertionEffect($,K)},Qe.useLayoutEffect=function($,K){return H.current.useLayoutEffect($,K)},Qe.useMemo=function($,K){return H.current.useMemo($,K)},Qe.useReducer=function($,K,ee){return H.current.useReducer($,K,ee)},Qe.useRef=function($){return H.current.useRef($)},Qe.useState=function($){return H.current.useState($)},Qe.useSyncExternalStore=function($,K,ee){return H.current.useSyncExternalStore($,K,ee)},Qe.useTransition=function(){return H.current.useTransition()},Qe.version="18.3.1",Qe}var qw;function kv(){return qw||(qw=1,tg.exports=GO()),tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function XO(){if(Hw)return Sc;Hw=1;var t=kv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var h,g={},m=null,v=null;f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(v=d.ref);for(h in d)r.call(d,h)&&!i.hasOwnProperty(h)&&(g[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)g[h]===void 0&&(g[h]=d[h]);return{$$typeof:e,type:c,key:m,ref:v,props:g,_owner:s.current}}return Sc.Fragment=n,Sc.jsx=l,Sc.jsxs=l,Sc}var Vw;function YO(){return Vw||(Vw=1,eg.exports=XO()),eg.exports}var b=YO(),N=kv();const fe=vu(N),zS=WO({__proto__:null,default:fe},[N]);var Td={},ng={exports:{}},rr={},rg={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function ZO(){return Ww||(Ww=1,(function(t){function e(R,F){var q=R.length;R.push(F);e:for(;0<q;){var $=q-1>>>1,K=R[$];if(0<s(K,F))R[$]=F,R[q]=K,q=$;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],q=R.pop();if(q!==F){R[0]=q;e:for(var $=0,K=R.length,ee=K>>>1;$<ee;){var se=2*($+1)-1,ce=R[se],me=se+1,J=R[me];if(0>s(ce,q))me<K&&0>s(J,ce)?(R[$]=J,R[me]=q,$=me):(R[$]=ce,R[se]=q,$=se);else if(me<K&&0>s(J,q))R[$]=J,R[me]=q,$=me;else break e}}return F}function s(R,F){var q=R.sortIndex-F.sortIndex;return q!==0?q:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,g=null,m=3,v=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(R){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=R)r(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=n(f)}}function k(R){if(x=!1,O(R),!w)if(n(d)!==null)w=!0,j(P);else{var F=n(f);F!==null&&H(k,F.startTime-R)}}function P(R,F){w=!1,x&&(x=!1,C(z),z=-1),v=!0;var q=m;try{for(O(F),g=n(d);g!==null&&(!(g.expirationTime>F)||R&&!L());){var $=g.callback;if(typeof $=="function"){g.callback=null,m=g.priorityLevel;var K=$(g.expirationTime<=F);F=t.unstable_now(),typeof K=="function"?g.callback=K:g===n(d)&&r(d),O(F)}else r(d);g=n(d)}if(g!==null)var ee=!0;else{var se=n(f);se!==null&&H(k,se.startTime-F),ee=!1}return ee}finally{g=null,m=q,v=!1}}var U=!1,B=null,z=-1,Q=5,oe=-1;function L(){return!(t.unstable_now()-oe<Q)}function X(){if(B!==null){var R=t.unstable_now();oe=R;var F=!0;try{F=B(!0,R)}finally{F?D():(U=!1,B=null)}}else U=!1}var D;if(typeof T=="function")D=function(){T(X)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=X,D=function(){W.postMessage(null)}}else D=function(){_(X,0)};function j(R){B=R,U||(U=!0,D())}function H(R,F){z=_(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,j(P))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var q=m;m=F;try{return R()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=m;m=R;try{return F()}finally{m=q}},t.unstable_scheduleCallback=function(R,F,q){var $=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,R={id:h++,callback:F,priorityLevel:R,startTime:q,expirationTime:K,sortIndex:-1},q>$?(R.sortIndex=q,e(f,R),n(d)===null&&R===n(f)&&(x?(C(z),z=-1):x=!0,H(k,q-$))):(R.sortIndex=K,e(d,R),w||v||(w=!0,j(P))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var F=m;return function(){var q=m;m=F;try{return R.apply(this,arguments)}finally{m=q}}}})(sg)),sg}var Kw;function JO(){return Kw||(Kw=1,rg.exports=ZO()),rg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function QO(){if(Gw)return rr;Gw=1;var t=kv(),e=JO();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function m(o){return d.call(g,o)?!0:d.call(h,o)?!1:f.test(o)?g[o]=!0:(h[o]=!0,!1)}function v(o,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,a,u,p){if(a===null||typeof a>"u"||v(o,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(o,a,u,p,y,S,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=o,this.type=a,this.sanitizeURL=S,this.removeEmptyString=A}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];_[a]=new x(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(C,T);_[a]=new x(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(C,T);_[a]=new x(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(C,T);_[a]=new x(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function O(o,a,u,p){var y=_.hasOwnProperty(a)?_[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,u,y,p)&&(u=null),p||y===null?m(a)&&(u===null?o.removeAttribute(a):o.setAttribute(a,""+u)):y.mustUseProperty?o[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,p=y.attributeNamespace,u===null?o.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?o.setAttributeNS(p,a,u):o.setAttribute(a,u))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),L=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),R=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var q=Object.assign,$;function K(o){if($===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+o}var ee=!1;function se(o,a){if(!o||ee)return"";ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var p=ie}Reflect.construct(o,[],a)}else{try{a.call()}catch(ie){p=ie}o.call(a.prototype)}else{try{throw Error()}catch(ie){p=ie}o()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var y=ie.stack.split(`
`),S=p.stack.split(`
`),A=y.length-1,V=S.length-1;1<=A&&0<=V&&y[A]!==S[V];)V--;for(;1<=A&&0<=V;A--,V--)if(y[A]!==S[V]){if(A!==1||V!==1)do if(A--,V--,0>V||y[A]!==S[V]){var Y=`
`+y[A].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=A&&0<=V);break}}}finally{ee=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?K(o):""}function ce(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=se(o.type,!1),o;case 11:return o=se(o.type.render,!1),o;case 1:return o=se(o.type,!0),o;default:return""}}function me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case B:return"Fragment";case U:return"Portal";case Q:return"Profiler";case z:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case oe:return(o._context.displayName||"Context")+".Provider";case X:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return a=o.displayName||null,a!==null?a:me(o.type)||"Memo";case j:a=o._payload,o=o._init;try{return me(o(a))}catch{}}return null}function J(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function le(o){var a=ge(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,S=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,S.call(this,A)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function xe(o){o._valueTracker||(o._valueTracker=le(o))}function Ee(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return o&&(p=ge(o)?o.checked?"true":"false":o.value),o=p,o!==u?(a.setValue(o),!0):!1}function ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ue(o,a){var u=a.checked;return q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function tt(o,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=ae(a.value!=null?a.value:u),o._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function At(o,a){a=a.checked,a!=null&&O(o,"checked",a,!1)}function Ct(o,a){At(o,a);var u=ae(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Mt(o,a.type,u):a.hasOwnProperty("defaultValue")&&Mt(o,a.type,ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function fn(o,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,u||a===o.value||(o.value=a),o.defaultValue=a}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function Mt(o,a,u){(a!=="number"||ze(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Bt=Array.isArray;function Vt(o,a,u,p){if(o=o.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=a.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&p&&(o[u].defaultSelected=!0)}else{for(u=""+ae(u),a=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function zn(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function lr(o,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Bt(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}o._wrapperState={initialValue:ae(u)}}function Qt(o,a){var u=ae(a.value),p=ae(a.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),a.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),p!=null&&(o.defaultValue=""+p)}function On(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function _r(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?_r(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Pt,Kt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,u,p,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Pt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function wt(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hn=["Webkit","ms","Moz","O"];Object.keys(rn).forEach(function(o){hn.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),rn[a]=rn[o]})});function wn(o,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||rn.hasOwnProperty(o)&&rn[o]?(""+a).trim():a+"px"}function Xn(o,a){o=o.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=wn(u,a[u],p);u==="float"&&(u="cssFloat"),p?o.setProperty(u,y):o[u]=y}}var bn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(o,a){if(a){if(bn[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function xn(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function Ut(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Gt=null,ut=null,sn=null;function Er(o){if(o=ac(o)){if(typeof Gt!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Hu(a),Gt(o.stateNode,o.type,a))}}function te(o){ut?sn?sn.push(o):sn=[o]:ut=o}function he(){if(ut){var o=ut,a=sn;if(sn=ut=null,Er(o),a)for(o=0;o<a.length;o++)Er(a[o])}}function _e(o,a){return o(a)}function ye(){}var Ne=!1;function Oe(o,a,u){if(Ne)return o(a,u);Ne=!0;try{return _e(o,a,u)}finally{Ne=!1,(ut!==null||sn!==null)&&(ye(),he())}}function Fe(o,a){var u=o.stateNode;if(u===null)return null;var p=Hu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Je=!1;if(c)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Je=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Je=!1}function ot(o,a,u,p,y,S,A,V,Y){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(u,ie)}catch(we){this.onError(we)}}var mt=!1,Tn=null,Nt=!1,Hs=null,yi={onError:function(o){mt=!0,Tn=o}};function wi(o,a,u,p,y,S,A,V,Y){mt=!1,Tn=null,ot.apply(yi,arguments)}function bi(o,a,u,p,y,S,A,V,Y){if(wi.apply(this,arguments),mt){if(mt){var ie=Tn;mt=!1,Tn=null}else throw Error(n(198));Nt||(Nt=!0,Hs=ie)}}function cr(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function Xt(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function xo(o){if(cr(o)!==o)throw Error(n(188))}function xi(o){var a=o.alternate;if(!a){if(a=cr(o),a===null)throw Error(n(188));return a!==o?null:o}for(var u=o,p=a;;){var y=u.return;if(y===null)break;var S=y.alternate;if(S===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===u)return xo(y),o;if(S===p)return xo(y),a;S=S.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=S;else{for(var A=!1,V=y.child;V;){if(V===u){A=!0,u=y,p=S;break}if(V===p){A=!0,p=y,u=S;break}V=V.sibling}if(!A){for(V=S.child;V;){if(V===u){A=!0,u=S,p=y;break}if(V===p){A=!0,p=S,u=y;break}V=V.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?o:a}function So(o){return o=xi(o),o!==null?_o(o):null}function _o(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=_o(o);if(a!==null)return a;o=o.sibling}return null}var Eo=e.unstable_scheduleCallback,on=e.unstable_cancelCallback,Si=e.unstable_shouldYield,Co=e.unstable_requestPaint,bt=e.unstable_now,_i=e.unstable_getCurrentPriorityLevel,Vs=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,qr=e.unstable_NormalPriority,Hr=e.unstable_LowPriority,Fn=e.unstable_IdlePriority,ur=null,An=null;function No(o){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ur,o,void 0,(o.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:ws,Ei=Math.log,ko=Math.LN2;function ws(o){return o>>>=0,o===0?32:31-(Ei(o)/ko|0)|0}var Nr=64,Yn=4194304;function kr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Or(o,a){var u=o.pendingLanes;if(u===0)return 0;var p=0,y=o.suspendedLanes,S=o.pingedLanes,A=u&268435455;if(A!==0){var V=A&~y;V!==0?p=kr(V):(S&=A,S!==0&&(p=kr(S)))}else A=u&~y,A!==0?p=kr(A):S!==0&&(p=kr(S));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,S=a&-a,y>=S||y===16&&(S&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)u=31-Sn(a),y=1<<u,p|=o[u],a&=~y;return p}function Ci(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bs(o,a){for(var u=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,S=o.pendingLanes;0<S;){var A=31-Sn(S),V=1<<A,Y=y[A];Y===-1?((V&u)===0||(V&p)!==0)&&(y[A]=Ci(V,a)):Y<=a&&(o.expiredLanes|=V),S&=~V}}function Ws(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Oo(){var o=Nr;return Nr<<=1,(Nr&4194240)===0&&(Nr=64),o}function Ks(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function Gs(o,a,u){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Sn(a),o[a]=u}function Yl(o,a){var u=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<u;){var y=31-Sn(u),S=1<<y;a[y]=0,p[y]=-1,o[y]=-1,u&=~S}}function Vr(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var p=31-Sn(u),y=1<<p;y&a|o[p]&a&&(o[p]|=a),u&=~y}}var Xe=0;function Tr(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ar,Ni,dr,wa,ba,ki=!1,To=[],fr=null,Rt=null,hr=null,xs=new Map,Pr=new Map,Zn=[],Ao="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(o,a){switch(o){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":xs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(a.pointerId)}}function Ss(o,a,u,p,y,S){return o===null||o.nativeEvent!==S?(o={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[y]},a!==null&&(a=ac(a),a!==null&&Ni(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Oi(o,a,u,p,y){switch(a){case"focusin":return fr=Ss(fr,o,a,u,p,y),!0;case"dragenter":return Rt=Ss(Rt,o,a,u,p,y),!0;case"mouseover":return hr=Ss(hr,o,a,u,p,y),!0;case"pointerover":var S=y.pointerId;return xs.set(S,Ss(xs.get(S)||null,o,a,u,p,y)),!0;case"gotpointercapture":return S=y.pointerId,Pr.set(S,Ss(Pr.get(S)||null,o,a,u,p,y)),!0}return!1}function Ti(o){var a=Ri(o.target);if(a!==null){var u=cr(a);if(u!==null){if(a=u.tag,a===13){if(a=Xt(u),a!==null){o.blockedOn=a,ba(o.priority,function(){dr(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function qn(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=nt(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var p=new u.constructor(u.type,u);zt=p,u.target.dispatchEvent(p),zt=null}else return a=ac(u),a!==null&&Ni(a),o.blockedOn=u,!1;a.shift()}return!0}function Ai(o,a,u){qn(o)&&u.delete(a)}function Pi(){ki=!1,fr!==null&&qn(fr)&&(fr=null),Rt!==null&&qn(Rt)&&(Rt=null),hr!==null&&qn(hr)&&(hr=null),xs.forEach(Ai),Pr.forEach(Ai)}function Xs(o,a){o.blockedOn===a&&(o.blockedOn=null,ki||(ki=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pi)))}function Ys(o){function a(y){return Xs(y,o)}if(0<To.length){Xs(To[0],o);for(var u=1;u<To.length;u++){var p=To[u];p.blockedOn===o&&(p.blockedOn=null)}}for(fr!==null&&Xs(fr,o),Rt!==null&&Xs(Rt,o),hr!==null&&Xs(hr,o),xs.forEach(a),Pr.forEach(a),u=0;u<Zn.length;u++)p=Zn[u],p.blockedOn===o&&(p.blockedOn=null);for(;0<Zn.length&&(u=Zn[0],u.blockedOn===null);)Ti(u),u.blockedOn===null&&Zn.shift()}var E=k.ReactCurrentBatchConfig,I=!0;function G(o,a,u,p){var y=Xe,S=E.transition;E.transition=null;try{Xe=1,Ve(o,a,u,p)}finally{Xe=y,E.transition=S}}function de(o,a,u,p){var y=Xe,S=E.transition;E.transition=null;try{Xe=4,Ve(o,a,u,p)}finally{Xe=y,E.transition=S}}function Ve(o,a,u,p){if(I){var y=nt(o,a,u,p);if(y===null)Hh(o,a,p,Me,u),xa(o,p);else if(Oi(y,o,a,u,p))p.stopPropagation();else if(xa(o,p),a&4&&-1<Ao.indexOf(o)){for(;y!==null;){var S=ac(y);if(S!==null&&Ar(S),S=nt(o,a,u,p),S===null&&Hh(o,a,p,Me,u),S===y)break;y=S}y!==null&&p.stopPropagation()}else Hh(o,a,p,null,u)}}var Me=null;function nt(o,a,u,p){if(Me=null,o=Ut(p),o=Ri(o),o!==null)if(a=cr(o),a===null)o=null;else if(u=a.tag,u===13){if(o=Xt(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Me=o,null}function rt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_i()){case Vs:return 1;case Cr:return 4;case qr:case Hr:return 16;case Fn:return 536870912;default:return 16}default:return 16}}var yt=null,it=null,Yt=null;function _n(){if(Yt)return Yt;var o,a=it,u=a.length,p,y="value"in yt?yt.value:yt.textContent,S=y.length;for(o=0;o<u&&a[o]===y[o];o++);var A=u-o;for(p=1;p<=A&&a[u-p]===y[S-p];p++);return Yt=y.slice(o,1<p?1-p:void 0)}function jt(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Zt(){return!0}function en(){return!1}function Ft(o){function a(u,p,y,S,A){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(u=o[V],this[V]=u?u(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Zt:en,this.isPropagationStopped=en,this}return q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),a}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Ft(Pn),Po=q({},Pn,{view:0,detail:0}),Sa=Ft(Po),Ro,Ph,Zl,Mu=q({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Zl&&(Zl&&o.type==="mousemove"?(Ro=o.screenX-Zl.screenX,Ph=o.screenY-Zl.screenY):Ph=Ro=0,Zl=o),Ro)},movementY:function(o){return"movementY"in o?o.movementY:Ph}}),P0=Ft(Mu),v2=q({},Mu,{dataTransfer:0}),y2=Ft(v2),w2=q({},Po,{relatedTarget:0}),Rh=Ft(w2),b2=q({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=Ft(b2),S2=q({},Pn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_2=Ft(S2),E2=q({},Pn,{data:0}),R0=Ft(E2),C2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O2(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=k2[o])?!!a[o]:!1}function jh(){return O2}var T2=q({},Po,{key:function(o){if(o.key){var a=C2[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=jt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?N2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(o){return o.type==="keypress"?jt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),A2=Ft(T2),P2=q({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=Ft(P2),R2=q({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),j2=Ft(R2),L2=q({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=Ft(L2),M2=q({},Mu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),D2=Ft(M2),$2=[9,13,27,32],Lh=c&&"CompositionEvent"in window,Jl=null;c&&"documentMode"in document&&(Jl=document.documentMode);var B2=c&&"TextEvent"in window&&!Jl,L0=c&&(!Lh||Jl&&8<Jl&&11>=Jl),I0=" ",M0=!1;function D0(o,a){switch(o){case"keyup":return $2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _a=!1;function z2(o,a){switch(o){case"compositionend":return $0(a);case"keypress":return a.which!==32?null:(M0=!0,I0);case"textInput":return o=a.data,o===I0&&M0?null:o;default:return null}}function U2(o,a){if(_a)return o==="compositionend"||!Lh&&D0(o,a)?(o=_n(),Yt=it=yt=null,_a=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L0&&a.locale!=="ko"?null:a.data;default:return null}}var F2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!F2[o.type]:a==="textarea"}function z0(o,a,u,p){te(p),a=Uu(a,"onChange"),0<a.length&&(u=new Wr("onChange","change",null,u,p),o.push({event:u,listeners:a}))}var Ql=null,ec=null;function q2(o){sy(o,0)}function Du(o){var a=Oa(o);if(Ee(a))return o}function H2(o,a){if(o==="change")return a}var U0=!1;if(c){var Ih;if(c){var Mh="oninput"in document;if(!Mh){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Mh=typeof F0.oninput=="function"}Ih=Mh}else Ih=!1;U0=Ih&&(!document.documentMode||9<document.documentMode)}function q0(){Ql&&(Ql.detachEvent("onpropertychange",H0),ec=Ql=null)}function H0(o){if(o.propertyName==="value"&&Du(ec)){var a=[];z0(a,ec,o,Ut(o)),Oe(q2,a)}}function V2(o,a,u){o==="focusin"?(q0(),Ql=a,ec=u,Ql.attachEvent("onpropertychange",H0)):o==="focusout"&&q0()}function W2(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Du(ec)}function K2(o,a){if(o==="click")return Du(a)}function G2(o,a){if(o==="input"||o==="change")return Du(a)}function X2(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Kr=typeof Object.is=="function"?Object.is:X2;function tc(o,a){if(Kr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!d.call(a,y)||!Kr(o[y],a[y]))return!1}return!0}function V0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function W0(o,a){var u=V0(o);o=0;for(var p;u;){if(u.nodeType===3){if(p=o+u.textContent.length,o<=a&&p>=a)return{node:u,offset:a-o};o=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=V0(u)}}function K0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?K0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function G0(){for(var o=window,a=ze();a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=ze(o.document)}return a}function Dh(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Y2(o){var a=G0(),u=o.focusedElem,p=o.selectionRange;if(a!==u&&u&&u.ownerDocument&&K0(u.ownerDocument.documentElement,u)){if(p!==null&&Dh(u)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(o,u.value.length);else if(o=(a=u.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=u.textContent.length,S=Math.min(p.start,y);p=p.end===void 0?S:Math.min(p.end,y),!o.extend&&S>p&&(y=p,p=S,S=y),y=W0(u,S);var A=W0(u,p);y&&A&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),S>p?(o.addRange(a),o.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),o.addRange(a)))}}for(a=[],o=u;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)o=a[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Z2=c&&"documentMode"in document&&11>=document.documentMode,Ea=null,$h=null,nc=null,Bh=!1;function X0(o,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bh||Ea==null||Ea!==ze(p)||(p=Ea,"selectionStart"in p&&Dh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nc&&tc(nc,p)||(nc=p,p=Uu($h,"onSelect"),0<p.length&&(a=new Wr("onSelect","select",null,a,u),o.push({event:a,listeners:p}),a.target=Ea)))}function $u(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var Ca={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},zh={},Y0={};c&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Bu(o){if(zh[o])return zh[o];if(!Ca[o])return o;var a=Ca[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in Y0)return zh[o]=a[u];return o}var Z0=Bu("animationend"),J0=Bu("animationiteration"),Q0=Bu("animationstart"),ey=Bu("transitionend"),ty=new Map,ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(o,a){ty.set(o,a),i(a,[o])}for(var Uh=0;Uh<ny.length;Uh++){var Fh=ny[Uh],J2=Fh.toLowerCase(),Q2=Fh[0].toUpperCase()+Fh.slice(1);jo(J2,"on"+Q2)}jo(Z0,"onAnimationEnd"),jo(J0,"onAnimationIteration"),jo(Q0,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(ey,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eO=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function ry(o,a,u){var p=o.type||"unknown-event";o.currentTarget=u,bi(p,a,void 0,o),o.currentTarget=null}function sy(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var p=o[u],y=p.event;p=p.listeners;e:{var S=void 0;if(a)for(var A=p.length-1;0<=A;A--){var V=p[A],Y=V.instance,ie=V.currentTarget;if(V=V.listener,Y!==S&&y.isPropagationStopped())break e;ry(y,V,ie),S=Y}else for(A=0;A<p.length;A++){if(V=p[A],Y=V.instance,ie=V.currentTarget,V=V.listener,Y!==S&&y.isPropagationStopped())break e;ry(y,V,ie),S=Y}}}if(Nt)throw o=Hs,Nt=!1,Hs=null,o}function kt(o,a){var u=a[Yh];u===void 0&&(u=a[Yh]=new Set);var p=o+"__bubble";u.has(p)||(oy(a,o,2,!1),u.add(p))}function qh(o,a,u){var p=0;a&&(p|=4),oy(u,o,p,a)}var zu="_reactListening"+Math.random().toString(36).slice(2);function sc(o){if(!o[zu]){o[zu]=!0,r.forEach(function(u){u!=="selectionchange"&&(eO.has(u)||qh(u,!1,o),qh(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[zu]||(a[zu]=!0,qh("selectionchange",!1,a))}}function oy(o,a,u,p){switch(rt(a)){case 1:var y=G;break;case 4:y=de;break;default:y=Ve}u=y.bind(null,a,u,o),y=void 0,!Je||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,u,{capture:!0,passive:y}):o.addEventListener(a,u,!0):y!==void 0?o.addEventListener(a,u,{passive:y}):o.addEventListener(a,u,!1)}function Hh(o,a,u,p,y){var S=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var Y=A.tag;if((Y===3||Y===4)&&(Y=A.stateNode.containerInfo,Y===y||Y.nodeType===8&&Y.parentNode===y))return;A=A.return}for(;V!==null;){if(A=Ri(V),A===null)return;if(Y=A.tag,Y===5||Y===6){p=S=A;continue e}V=V.parentNode}}p=p.return}Oe(function(){var ie=S,we=Ut(u),be=[];e:{var ve=ty.get(o);if(ve!==void 0){var ke=Wr,Pe=o;switch(o){case"keypress":if(jt(u)===0)break e;case"keydown":case"keyup":ke=A2;break;case"focusin":Pe="focus",ke=Rh;break;case"focusout":Pe="blur",ke=Rh;break;case"beforeblur":case"afterblur":ke=Rh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=j2;break;case Z0:case J0:case Q0:ke=x2;break;case ey:ke=I2;break;case"scroll":ke=Sa;break;case"wheel":ke=D2;break;case"copy":case"cut":case"paste":ke=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=j0}var Ie=(a&4)!==0,Jt=!Ie&&o==="scroll",ne=Ie?ve!==null?ve+"Capture":null:ve;Ie=[];for(var Z=ie,re;Z!==null;){re=Z;var Se=re.stateNode;if(re.tag===5&&Se!==null&&(re=Se,ne!==null&&(Se=Fe(Z,ne),Se!=null&&Ie.push(oc(Z,Se,re)))),Jt)break;Z=Z.return}0<Ie.length&&(ve=new ke(ve,Pe,null,u,we),be.push({event:ve,listeners:Ie}))}}if((a&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",ke=o==="mouseout"||o==="pointerout",ve&&u!==zt&&(Pe=u.relatedTarget||u.fromElement)&&(Ri(Pe)||Pe[Zs]))break e;if((ke||ve)&&(ve=we.window===we?we:(ve=we.ownerDocument)?ve.defaultView||ve.parentWindow:window,ke?(Pe=u.relatedTarget||u.toElement,ke=ie,Pe=Pe?Ri(Pe):null,Pe!==null&&(Jt=cr(Pe),Pe!==Jt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=ie),ke!==Pe)){if(Ie=P0,Se="onMouseLeave",ne="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(Ie=j0,Se="onPointerLeave",ne="onPointerEnter",Z="pointer"),Jt=ke==null?ve:Oa(ke),re=Pe==null?ve:Oa(Pe),ve=new Ie(Se,Z+"leave",ke,u,we),ve.target=Jt,ve.relatedTarget=re,Se=null,Ri(we)===ie&&(Ie=new Ie(ne,Z+"enter",Pe,u,we),Ie.target=re,Ie.relatedTarget=Jt,Se=Ie),Jt=Se,ke&&Pe)t:{for(Ie=ke,ne=Pe,Z=0,re=Ie;re;re=Na(re))Z++;for(re=0,Se=ne;Se;Se=Na(Se))re++;for(;0<Z-re;)Ie=Na(Ie),Z--;for(;0<re-Z;)ne=Na(ne),re--;for(;Z--;){if(Ie===ne||ne!==null&&Ie===ne.alternate)break t;Ie=Na(Ie),ne=Na(ne)}Ie=null}else Ie=null;ke!==null&&iy(be,ve,ke,Ie,!1),Pe!==null&&Jt!==null&&iy(be,Jt,Pe,Ie,!0)}}e:{if(ve=ie?Oa(ie):window,ke=ve.nodeName&&ve.nodeName.toLowerCase(),ke==="select"||ke==="input"&&ve.type==="file")var $e=H2;else if(B0(ve))if(U0)$e=G2;else{$e=W2;var qe=V2}else(ke=ve.nodeName)&&ke.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&($e=K2);if($e&&($e=$e(o,ie))){z0(be,$e,u,we);break e}qe&&qe(o,ve,ie),o==="focusout"&&(qe=ve._wrapperState)&&qe.controlled&&ve.type==="number"&&Mt(ve,"number",ve.value)}switch(qe=ie?Oa(ie):window,o){case"focusin":(B0(qe)||qe.contentEditable==="true")&&(Ea=qe,$h=ie,nc=null);break;case"focusout":nc=$h=Ea=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,X0(be,u,we);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":X0(be,u,we)}var He;if(Lh)e:{switch(o){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else _a?D0(o,u)&&(We="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(L0&&u.locale!=="ko"&&(_a||We!=="onCompositionStart"?We==="onCompositionEnd"&&_a&&(He=_n()):(yt=we,it="value"in yt?yt.value:yt.textContent,_a=!0)),qe=Uu(ie,We),0<qe.length&&(We=new R0(We,o,null,u,we),be.push({event:We,listeners:qe}),He?We.data=He:(He=$0(u),He!==null&&(We.data=He)))),(He=B2?z2(o,u):U2(o,u))&&(ie=Uu(ie,"onBeforeInput"),0<ie.length&&(we=new R0("onBeforeInput","beforeinput",null,u,we),be.push({event:we,listeners:ie}),we.data=He))}sy(be,a)})}function oc(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Uu(o,a){for(var u=a+"Capture",p=[];o!==null;){var y=o,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Fe(o,u),S!=null&&p.unshift(oc(o,S,y)),S=Fe(o,a),S!=null&&p.push(oc(o,S,y))),o=o.return}return p}function Na(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function iy(o,a,u,p,y){for(var S=a._reactName,A=[];u!==null&&u!==p;){var V=u,Y=V.alternate,ie=V.stateNode;if(Y!==null&&Y===p)break;V.tag===5&&ie!==null&&(V=ie,y?(Y=Fe(u,S),Y!=null&&A.unshift(oc(u,Y,V))):y||(Y=Fe(u,S),Y!=null&&A.push(oc(u,Y,V)))),u=u.return}A.length!==0&&o.push({event:a,listeners:A})}var tO=/\r\n?/g,nO=/\u0000|\uFFFD/g;function ay(o){return(typeof o=="string"?o:""+o).replace(tO,`
`).replace(nO,"")}function Fu(o,a,u){if(a=ay(a),ay(o)!==a&&u)throw Error(n(425))}function qu(){}var Vh=null,Wh=null;function Kh(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,rO=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,sO=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(o){return ly.resolve(null).then(o).catch(oO)}:Gh;function oO(o){setTimeout(function(){throw o})}function Xh(o,a){var u=a,p=0;do{var y=u.nextSibling;if(o.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){o.removeChild(y),Ys(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Ys(a)}function Lo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function cy(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}var ka=Math.random().toString(36).slice(2),_s="__reactFiber$"+ka,ic="__reactProps$"+ka,Zs="__reactContainer$"+ka,Yh="__reactEvents$"+ka,iO="__reactListeners$"+ka,aO="__reactHandles$"+ka;function Ri(o){var a=o[_s];if(a)return a;for(var u=o.parentNode;u;){if(a=u[Zs]||u[_s]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=cy(o);o!==null;){if(u=o[_s])return u;o=cy(o)}return a}o=u,u=o.parentNode}return null}function ac(o){return o=o[_s]||o[Zs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Oa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Hu(o){return o[ic]||null}var Zh=[],Ta=-1;function Io(o){return{current:o}}function Ot(o){0>Ta||(o.current=Zh[Ta],Zh[Ta]=null,Ta--)}function St(o,a){Ta++,Zh[Ta]=o.current,o.current=a}var Mo={},Rn=Io(Mo),Jn=Io(!1),ji=Mo;function Aa(o,a){var u=o.type.contextTypes;if(!u)return Mo;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in u)y[S]=a[S];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(o){return o=o.childContextTypes,o!=null}function Vu(){Ot(Jn),Ot(Rn)}function uy(o,a,u){if(Rn.current!==Mo)throw Error(n(168));St(Rn,a),St(Jn,u)}function dy(o,a,u){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(n(108,J(o)||"Unknown",y));return q({},u,p)}function Wu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Mo,ji=Rn.current,St(Rn,o),St(Jn,Jn.current),!0}function fy(o,a,u){var p=o.stateNode;if(!p)throw Error(n(169));u?(o=dy(o,a,ji),p.__reactInternalMemoizedMergedChildContext=o,Ot(Jn),Ot(Rn),St(Rn,o)):Ot(Jn),St(Jn,u)}var Js=null,Ku=!1,Jh=!1;function hy(o){Js===null?Js=[o]:Js.push(o)}function lO(o){Ku=!0,hy(o)}function Do(){if(!Jh&&Js!==null){Jh=!0;var o=0,a=Xe;try{var u=Js;for(Xe=1;o<u.length;o++){var p=u[o];do p=p(!0);while(p!==null)}Js=null,Ku=!1}catch(y){throw Js!==null&&(Js=Js.slice(o+1)),Eo(Vs,Do),y}finally{Xe=a,Jh=!1}}return null}var Pa=[],Ra=0,Gu=null,Xu=0,Rr=[],jr=0,Li=null,Qs=1,eo="";function Ii(o,a){Pa[Ra++]=Xu,Pa[Ra++]=Gu,Gu=o,Xu=a}function py(o,a,u){Rr[jr++]=Qs,Rr[jr++]=eo,Rr[jr++]=Li,Li=o;var p=Qs;o=eo;var y=32-Sn(p)-1;p&=~(1<<y),u+=1;var S=32-Sn(a)+y;if(30<S){var A=y-y%5;S=(p&(1<<A)-1).toString(32),p>>=A,y-=A,Qs=1<<32-Sn(a)+y|u<<y|p,eo=S+o}else Qs=1<<S|u<<y|p,eo=o}function Qh(o){o.return!==null&&(Ii(o,1),py(o,1,0))}function ep(o){for(;o===Gu;)Gu=Pa[--Ra],Pa[Ra]=null,Xu=Pa[--Ra],Pa[Ra]=null;for(;o===Li;)Li=Rr[--jr],Rr[jr]=null,eo=Rr[--jr],Rr[jr]=null,Qs=Rr[--jr],Rr[jr]=null}var pr=null,gr=null,Lt=!1,Gr=null;function gy(o,a){var u=Dr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=o,a=o.deletions,a===null?(o.deletions=[u],o.flags|=16):a.push(u)}function my(o,a){switch(o.tag){case 5:var u=o.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,pr=o,gr=Lo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,pr=o,gr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Li!==null?{id:Qs,overflow:eo}:null,o.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Dr(18,null,null,0),u.stateNode=a,u.return=o,o.child=u,pr=o,gr=null,!0):!1;default:return!1}}function tp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function np(o){if(Lt){var a=gr;if(a){var u=a;if(!my(o,a)){if(tp(o))throw Error(n(418));a=Lo(u.nextSibling);var p=pr;a&&my(o,a)?gy(p,u):(o.flags=o.flags&-4097|2,Lt=!1,pr=o)}}else{if(tp(o))throw Error(n(418));o.flags=o.flags&-4097|2,Lt=!1,pr=o}}}function vy(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;pr=o}function Yu(o){if(o!==pr)return!1;if(!Lt)return vy(o),Lt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Kh(o.type,o.memoizedProps)),a&&(a=gr)){if(tp(o))throw yy(),Error(n(418));for(;a;)gy(o,a),a=Lo(a.nextSibling)}if(vy(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(a===0){gr=Lo(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}o=o.nextSibling}gr=null}}else gr=pr?Lo(o.stateNode.nextSibling):null;return!0}function yy(){for(var o=gr;o;)o=Lo(o.nextSibling)}function ja(){gr=pr=null,Lt=!1}function rp(o){Gr===null?Gr=[o]:Gr.push(o)}var cO=k.ReactCurrentBatchConfig;function lc(o,a,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,o));var y=p,S=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(A){var V=y.refs;A===null?delete V[S]:V[S]=A},a._stringRef=S,a)}if(typeof o!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,o))}return o}function Zu(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function wy(o){var a=o._init;return a(o._payload)}function by(o){function a(ne,Z){if(o){var re=ne.deletions;re===null?(ne.deletions=[Z],ne.flags|=16):re.push(Z)}}function u(ne,Z){if(!o)return null;for(;Z!==null;)a(ne,Z),Z=Z.sibling;return null}function p(ne,Z){for(ne=new Map;Z!==null;)Z.key!==null?ne.set(Z.key,Z):ne.set(Z.index,Z),Z=Z.sibling;return ne}function y(ne,Z){return ne=Vo(ne,Z),ne.index=0,ne.sibling=null,ne}function S(ne,Z,re){return ne.index=re,o?(re=ne.alternate,re!==null?(re=re.index,re<Z?(ne.flags|=2,Z):re):(ne.flags|=2,Z)):(ne.flags|=1048576,Z)}function A(ne){return o&&ne.alternate===null&&(ne.flags|=2),ne}function V(ne,Z,re,Se){return Z===null||Z.tag!==6?(Z=Gp(re,ne.mode,Se),Z.return=ne,Z):(Z=y(Z,re),Z.return=ne,Z)}function Y(ne,Z,re,Se){var $e=re.type;return $e===B?we(ne,Z,re.props.children,Se,re.key):Z!==null&&(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===j&&wy($e)===Z.type)?(Se=y(Z,re.props),Se.ref=lc(ne,Z,re),Se.return=ne,Se):(Se=xd(re.type,re.key,re.props,null,ne.mode,Se),Se.ref=lc(ne,Z,re),Se.return=ne,Se)}function ie(ne,Z,re,Se){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=Xp(re,ne.mode,Se),Z.return=ne,Z):(Z=y(Z,re.children||[]),Z.return=ne,Z)}function we(ne,Z,re,Se,$e){return Z===null||Z.tag!==7?(Z=qi(re,ne.mode,Se,$e),Z.return=ne,Z):(Z=y(Z,re),Z.return=ne,Z)}function be(ne,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Gp(""+Z,ne.mode,re),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return re=xd(Z.type,Z.key,Z.props,null,ne.mode,re),re.ref=lc(ne,null,Z),re.return=ne,re;case U:return Z=Xp(Z,ne.mode,re),Z.return=ne,Z;case j:var Se=Z._init;return be(ne,Se(Z._payload),re)}if(Bt(Z)||F(Z))return Z=qi(Z,ne.mode,re,null),Z.return=ne,Z;Zu(ne,Z)}return null}function ve(ne,Z,re,Se){var $e=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return $e!==null?null:V(ne,Z,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case P:return re.key===$e?Y(ne,Z,re,Se):null;case U:return re.key===$e?ie(ne,Z,re,Se):null;case j:return $e=re._init,ve(ne,Z,$e(re._payload),Se)}if(Bt(re)||F(re))return $e!==null?null:we(ne,Z,re,Se,null);Zu(ne,re)}return null}function ke(ne,Z,re,Se,$e){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ne=ne.get(re)||null,V(Z,ne,""+Se,$e);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case P:return ne=ne.get(Se.key===null?re:Se.key)||null,Y(Z,ne,Se,$e);case U:return ne=ne.get(Se.key===null?re:Se.key)||null,ie(Z,ne,Se,$e);case j:var qe=Se._init;return ke(ne,Z,re,qe(Se._payload),$e)}if(Bt(Se)||F(Se))return ne=ne.get(re)||null,we(Z,ne,Se,$e,null);Zu(Z,Se)}return null}function Pe(ne,Z,re,Se){for(var $e=null,qe=null,He=Z,We=Z=0,mn=null;He!==null&&We<re.length;We++){He.index>We?(mn=He,He=null):mn=He.sibling;var pt=ve(ne,He,re[We],Se);if(pt===null){He===null&&(He=mn);break}o&&He&&pt.alternate===null&&a(ne,He),Z=S(pt,Z,We),qe===null?$e=pt:qe.sibling=pt,qe=pt,He=mn}if(We===re.length)return u(ne,He),Lt&&Ii(ne,We),$e;if(He===null){for(;We<re.length;We++)He=be(ne,re[We],Se),He!==null&&(Z=S(He,Z,We),qe===null?$e=He:qe.sibling=He,qe=He);return Lt&&Ii(ne,We),$e}for(He=p(ne,He);We<re.length;We++)mn=ke(He,ne,We,re[We],Se),mn!==null&&(o&&mn.alternate!==null&&He.delete(mn.key===null?We:mn.key),Z=S(mn,Z,We),qe===null?$e=mn:qe.sibling=mn,qe=mn);return o&&He.forEach(function(Wo){return a(ne,Wo)}),Lt&&Ii(ne,We),$e}function Ie(ne,Z,re,Se){var $e=F(re);if(typeof $e!="function")throw Error(n(150));if(re=$e.call(re),re==null)throw Error(n(151));for(var qe=$e=null,He=Z,We=Z=0,mn=null,pt=re.next();He!==null&&!pt.done;We++,pt=re.next()){He.index>We?(mn=He,He=null):mn=He.sibling;var Wo=ve(ne,He,pt.value,Se);if(Wo===null){He===null&&(He=mn);break}o&&He&&Wo.alternate===null&&a(ne,He),Z=S(Wo,Z,We),qe===null?$e=Wo:qe.sibling=Wo,qe=Wo,He=mn}if(pt.done)return u(ne,He),Lt&&Ii(ne,We),$e;if(He===null){for(;!pt.done;We++,pt=re.next())pt=be(ne,pt.value,Se),pt!==null&&(Z=S(pt,Z,We),qe===null?$e=pt:qe.sibling=pt,qe=pt);return Lt&&Ii(ne,We),$e}for(He=p(ne,He);!pt.done;We++,pt=re.next())pt=ke(He,ne,We,pt.value,Se),pt!==null&&(o&&pt.alternate!==null&&He.delete(pt.key===null?We:pt.key),Z=S(pt,Z,We),qe===null?$e=pt:qe.sibling=pt,qe=pt);return o&&He.forEach(function(FO){return a(ne,FO)}),Lt&&Ii(ne,We),$e}function Jt(ne,Z,re,Se){if(typeof re=="object"&&re!==null&&re.type===B&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case P:e:{for(var $e=re.key,qe=Z;qe!==null;){if(qe.key===$e){if($e=re.type,$e===B){if(qe.tag===7){u(ne,qe.sibling),Z=y(qe,re.props.children),Z.return=ne,ne=Z;break e}}else if(qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===j&&wy($e)===qe.type){u(ne,qe.sibling),Z=y(qe,re.props),Z.ref=lc(ne,qe,re),Z.return=ne,ne=Z;break e}u(ne,qe);break}else a(ne,qe);qe=qe.sibling}re.type===B?(Z=qi(re.props.children,ne.mode,Se,re.key),Z.return=ne,ne=Z):(Se=xd(re.type,re.key,re.props,null,ne.mode,Se),Se.ref=lc(ne,Z,re),Se.return=ne,ne=Se)}return A(ne);case U:e:{for(qe=re.key;Z!==null;){if(Z.key===qe)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){u(ne,Z.sibling),Z=y(Z,re.children||[]),Z.return=ne,ne=Z;break e}else{u(ne,Z);break}else a(ne,Z);Z=Z.sibling}Z=Xp(re,ne.mode,Se),Z.return=ne,ne=Z}return A(ne);case j:return qe=re._init,Jt(ne,Z,qe(re._payload),Se)}if(Bt(re))return Pe(ne,Z,re,Se);if(F(re))return Ie(ne,Z,re,Se);Zu(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Z!==null&&Z.tag===6?(u(ne,Z.sibling),Z=y(Z,re),Z.return=ne,ne=Z):(u(ne,Z),Z=Gp(re,ne.mode,Se),Z.return=ne,ne=Z),A(ne)):u(ne,Z)}return Jt}var La=by(!0),xy=by(!1),Ju=Io(null),Qu=null,Ia=null,sp=null;function op(){sp=Ia=Qu=null}function ip(o){var a=Ju.current;Ot(Ju),o._currentValue=a}function ap(o,a,u){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===u)break;o=o.return}}function Ma(o,a){Qu=o,sp=Ia=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(er=!0),o.firstContext=null)}function Lr(o){var a=o._currentValue;if(sp!==o)if(o={context:o,memoizedValue:a,next:null},Ia===null){if(Qu===null)throw Error(n(308));Ia=o,Qu.dependencies={lanes:0,firstContext:o}}else Ia=Ia.next=o;return a}var Mi=null;function lp(o){Mi===null?Mi=[o]:Mi.push(o)}function Sy(o,a,u,p){var y=a.interleaved;return y===null?(u.next=u,lp(a)):(u.next=y.next,y.next=u),a.interleaved=u,to(o,p)}function to(o,a){o.lanes|=a;var u=o.alternate;for(u!==null&&(u.lanes|=a),u=o,o=o.return;o!==null;)o.childLanes|=a,u=o.alternate,u!==null&&(u.childLanes|=a),u=o,o=o.return;return u.tag===3?u.stateNode:null}var $o=!1;function cp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function no(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Bo(o,a,u){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(dt&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,to(o,u)}return y=p.interleaved,y===null?(a.next=a,lp(p)):(a.next=y.next,y.next=a),p.interleaved=a,to(o,u)}function ed(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,Vr(o,u)}}function Ey(o,a){var u=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?y=S=A:S=S.next=A,u=u.next}while(u!==null);S===null?y=S=a:S=S.next=a}else y=S=a;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:p.shared,effects:p.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}function td(o,a,u,p){var y=o.updateQueue;$o=!1;var S=y.firstBaseUpdate,A=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var Y=V,ie=Y.next;Y.next=null,A===null?S=ie:A.next=ie,A=Y;var we=o.alternate;we!==null&&(we=we.updateQueue,V=we.lastBaseUpdate,V!==A&&(V===null?we.firstBaseUpdate=ie:V.next=ie,we.lastBaseUpdate=Y))}if(S!==null){var be=y.baseState;A=0,we=ie=Y=null,V=S;do{var ve=V.lane,ke=V.eventTime;if((p&ve)===ve){we!==null&&(we=we.next={eventTime:ke,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Pe=o,Ie=V;switch(ve=a,ke=u,Ie.tag){case 1:if(Pe=Ie.payload,typeof Pe=="function"){be=Pe.call(ke,be,ve);break e}be=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ie.payload,ve=typeof Pe=="function"?Pe.call(ke,be,ve):Pe,ve==null)break e;be=q({},be,ve);break e;case 2:$o=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,ve=y.effects,ve===null?y.effects=[V]:ve.push(V))}else ke={eventTime:ke,lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},we===null?(ie=we=ke,Y=be):we=we.next=ke,A|=ve;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ve=V,V=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(we===null&&(Y=be),y.baseState=Y,y.firstBaseUpdate=ie,y.lastBaseUpdate=we,a=y.shared.interleaved,a!==null){y=a;do A|=y.lane,y=y.next;while(y!==a)}else S===null&&(y.shared.lanes=0);Bi|=A,o.lanes=A,o.memoizedState=be}}function Cy(o,a,u){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var cc={},Es=Io(cc),uc=Io(cc),dc=Io(cc);function Di(o){if(o===cc)throw Error(n(174));return o}function up(o,a){switch(St(dc,a),St(uc,o),St(Es,cc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Wt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Wt(a,o)}Ot(Es),St(Es,a)}function Da(){Ot(Es),Ot(uc),Ot(dc)}function Ny(o){Di(dc.current);var a=Di(Es.current),u=Wt(a,o.type);a!==u&&(St(uc,o),St(Es,u))}function dp(o){uc.current===o&&(Ot(Es),Ot(uc))}var Dt=Io(0);function nd(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fp=[];function hp(){for(var o=0;o<fp.length;o++)fp[o]._workInProgressVersionPrimary=null;fp.length=0}var rd=k.ReactCurrentDispatcher,pp=k.ReactCurrentBatchConfig,$i=0,$t=null,an=null,pn=null,sd=!1,fc=!1,hc=0,uO=0;function jn(){throw Error(n(321))}function gp(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!Kr(o[u],a[u]))return!1;return!0}function mp(o,a,u,p,y,S){if($i=S,$t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,rd.current=o===null||o.memoizedState===null?pO:gO,o=u(p,y),fc){S=0;do{if(fc=!1,hc=0,25<=S)throw Error(n(301));S+=1,pn=an=null,a.updateQueue=null,rd.current=mO,o=u(p,y)}while(fc)}if(rd.current=ad,a=an!==null&&an.next!==null,$i=0,pn=an=$t=null,sd=!1,a)throw Error(n(300));return o}function vp(){var o=hc!==0;return hc=0,o}function Cs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?$t.memoizedState=pn=o:pn=pn.next=o,pn}function Ir(){if(an===null){var o=$t.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var a=pn===null?$t.memoizedState:pn.next;if(a!==null)pn=a,an=o;else{if(o===null)throw Error(n(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},pn===null?$t.memoizedState=pn=o:pn=pn.next=o}return pn}function pc(o,a){return typeof a=="function"?a(o):a}function yp(o){var a=Ir(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var p=an,y=p.baseQueue,S=u.pending;if(S!==null){if(y!==null){var A=y.next;y.next=S.next,S.next=A}p.baseQueue=y=S,u.pending=null}if(y!==null){S=y.next,p=p.baseState;var V=A=null,Y=null,ie=S;do{var we=ie.lane;if(($i&we)===we)Y!==null&&(Y=Y.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:o(p,ie.action);else{var be={lane:we,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Y===null?(V=Y=be,A=p):Y=Y.next=be,$t.lanes|=we,Bi|=we}ie=ie.next}while(ie!==null&&ie!==S);Y===null?A=p:Y.next=V,Kr(p,a.memoizedState)||(er=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=Y,u.lastRenderedState=p}if(o=u.interleaved,o!==null){y=o;do S=y.lane,$t.lanes|=S,Bi|=S,y=y.next;while(y!==o)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function wp(o){var a=Ir(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var p=u.dispatch,y=u.pending,S=a.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do S=o(S,A.action),A=A.next;while(A!==y);Kr(S,a.memoizedState)||(er=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),u.lastRenderedState=S}return[S,p]}function ky(){}function Oy(o,a){var u=$t,p=Ir(),y=a(),S=!Kr(p.memoizedState,y);if(S&&(p.memoizedState=y,er=!0),p=p.queue,bp(Py.bind(null,u,p,o),[o]),p.getSnapshot!==a||S||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,gc(9,Ay.bind(null,u,p,y,a),void 0,null),gn===null)throw Error(n(349));($i&30)!==0||Ty(u,a,y)}return y}function Ty(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function Ay(o,a,u,p){a.value=u,a.getSnapshot=p,Ry(a)&&jy(o)}function Py(o,a,u){return u(function(){Ry(a)&&jy(o)})}function Ry(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!Kr(o,u)}catch{return!0}}function jy(o){var a=to(o,1);a!==null&&Jr(a,o,1,-1)}function Ly(o){var a=Cs();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:o},a.queue=o,o=o.dispatch=hO.bind(null,$t,o),[a.memoizedState,o]}function gc(o,a,u,p){return o={tag:o,create:a,destroy:u,deps:p,next:null},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.lastEffect=o.next=o):(u=a.lastEffect,u===null?a.lastEffect=o.next=o:(p=u.next,u.next=o,o.next=p,a.lastEffect=o)),o}function Iy(){return Ir().memoizedState}function od(o,a,u,p){var y=Cs();$t.flags|=o,y.memoizedState=gc(1|a,u,void 0,p===void 0?null:p)}function id(o,a,u,p){var y=Ir();p=p===void 0?null:p;var S=void 0;if(an!==null){var A=an.memoizedState;if(S=A.destroy,p!==null&&gp(p,A.deps)){y.memoizedState=gc(a,u,S,p);return}}$t.flags|=o,y.memoizedState=gc(1|a,u,S,p)}function My(o,a){return od(8390656,8,o,a)}function bp(o,a){return id(2048,8,o,a)}function Dy(o,a){return id(4,2,o,a)}function $y(o,a){return id(4,4,o,a)}function By(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function zy(o,a,u){return u=u!=null?u.concat([o]):null,id(4,4,By.bind(null,a,o),u)}function xp(){}function Uy(o,a){var u=Ir();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&gp(a,p[1])?p[0]:(u.memoizedState=[o,a],o)}function Fy(o,a){var u=Ir();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&gp(a,p[1])?p[0]:(o=o(),u.memoizedState=[o,a],o)}function qy(o,a,u){return($i&21)===0?(o.baseState&&(o.baseState=!1,er=!0),o.memoizedState=u):(Kr(u,a)||(u=Oo(),$t.lanes|=u,Bi|=u,o.baseState=!0),a)}function dO(o,a){var u=Xe;Xe=u!==0&&4>u?u:4,o(!0);var p=pp.transition;pp.transition={};try{o(!1),a()}finally{Xe=u,pp.transition=p}}function Hy(){return Ir().memoizedState}function fO(o,a,u){var p=qo(o);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Vy(o))Wy(a,u);else if(u=Sy(o,a,u,p),u!==null){var y=Vn();Jr(u,o,p,y),Ky(u,a,p)}}function hO(o,a,u){var p=qo(o),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vy(o))Wy(a,y);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var A=a.lastRenderedState,V=S(A,u);if(y.hasEagerState=!0,y.eagerState=V,Kr(V,A)){var Y=a.interleaved;Y===null?(y.next=y,lp(a)):(y.next=Y.next,Y.next=y),a.interleaved=y;return}}catch{}finally{}u=Sy(o,a,y,p),u!==null&&(y=Vn(),Jr(u,o,p,y),Ky(u,a,p))}}function Vy(o){var a=o.alternate;return o===$t||a!==null&&a===$t}function Wy(o,a){fc=sd=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function Ky(o,a,u){if((u&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,Vr(o,u)}}var ad={readContext:Lr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},pO={readContext:Lr,useCallback:function(o,a){return Cs().memoizedState=[o,a===void 0?null:a],o},useContext:Lr,useEffect:My,useImperativeHandle:function(o,a,u){return u=u!=null?u.concat([o]):null,od(4194308,4,By.bind(null,a,o),u)},useLayoutEffect:function(o,a){return od(4194308,4,o,a)},useInsertionEffect:function(o,a){return od(4,2,o,a)},useMemo:function(o,a){var u=Cs();return a=a===void 0?null:a,o=o(),u.memoizedState=[o,a],o},useReducer:function(o,a,u){var p=Cs();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=fO.bind(null,$t,o),[p.memoizedState,o]},useRef:function(o){var a=Cs();return o={current:o},a.memoizedState=o},useState:Ly,useDebugValue:xp,useDeferredValue:function(o){return Cs().memoizedState=o},useTransition:function(){var o=Ly(!1),a=o[0];return o=dO.bind(null,o[1]),Cs().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,u){var p=$t,y=Cs();if(Lt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),gn===null)throw Error(n(349));($i&30)!==0||Ty(p,a,u)}y.memoizedState=u;var S={value:u,getSnapshot:a};return y.queue=S,My(Py.bind(null,p,S,o),[o]),p.flags|=2048,gc(9,Ay.bind(null,p,S,u,a),void 0,null),u},useId:function(){var o=Cs(),a=gn.identifierPrefix;if(Lt){var u=eo,p=Qs;u=(p&~(1<<32-Sn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=hc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=uO++,a=":"+a+"r"+u.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},gO={readContext:Lr,useCallback:Uy,useContext:Lr,useEffect:bp,useImperativeHandle:zy,useInsertionEffect:Dy,useLayoutEffect:$y,useMemo:Fy,useReducer:yp,useRef:Iy,useState:function(){return yp(pc)},useDebugValue:xp,useDeferredValue:function(o){var a=Ir();return qy(a,an.memoizedState,o)},useTransition:function(){var o=yp(pc)[0],a=Ir().memoizedState;return[o,a]},useMutableSource:ky,useSyncExternalStore:Oy,useId:Hy,unstable_isNewReconciler:!1},mO={readContext:Lr,useCallback:Uy,useContext:Lr,useEffect:bp,useImperativeHandle:zy,useInsertionEffect:Dy,useLayoutEffect:$y,useMemo:Fy,useReducer:wp,useRef:Iy,useState:function(){return wp(pc)},useDebugValue:xp,useDeferredValue:function(o){var a=Ir();return an===null?a.memoizedState=o:qy(a,an.memoizedState,o)},useTransition:function(){var o=wp(pc)[0],a=Ir().memoizedState;return[o,a]},useMutableSource:ky,useSyncExternalStore:Oy,useId:Hy,unstable_isNewReconciler:!1};function Xr(o,a){if(o&&o.defaultProps){a=q({},a),o=o.defaultProps;for(var u in o)a[u]===void 0&&(a[u]=o[u]);return a}return a}function Sp(o,a,u,p){a=o.memoizedState,u=u(p,a),u=u==null?a:q({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var ld={isMounted:function(o){return(o=o._reactInternals)?cr(o)===o:!1},enqueueSetState:function(o,a,u){o=o._reactInternals;var p=Vn(),y=qo(o),S=no(p,y);S.payload=a,u!=null&&(S.callback=u),a=Bo(o,S,y),a!==null&&(Jr(a,o,y,p),ed(a,o,y))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var p=Vn(),y=qo(o),S=no(p,y);S.tag=1,S.payload=a,u!=null&&(S.callback=u),a=Bo(o,S,y),a!==null&&(Jr(a,o,y,p),ed(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=Vn(),p=qo(o),y=no(u,p);y.tag=2,a!=null&&(y.callback=a),a=Bo(o,y,p),a!==null&&(Jr(a,o,p,u),ed(a,o,p))}};function Gy(o,a,u,p,y,S,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,A):a.prototype&&a.prototype.isPureReactComponent?!tc(u,p)||!tc(y,S):!0}function Xy(o,a,u){var p=!1,y=Mo,S=a.contextType;return typeof S=="object"&&S!==null?S=Lr(S):(y=Qn(a)?ji:Rn.current,p=a.contextTypes,S=(p=p!=null)?Aa(o,y):Mo),a=new a(u,S),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ld,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=S),a}function Yy(o,a,u,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==o&&ld.enqueueReplaceState(a,a.state,null)}function _p(o,a,u,p){var y=o.stateNode;y.props=u,y.state=o.memoizedState,y.refs={},cp(o);var S=a.contextType;typeof S=="object"&&S!==null?y.context=Lr(S):(S=Qn(a)?ji:Rn.current,y.context=Aa(o,S)),y.state=o.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Sp(o,a,S,u),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&ld.enqueueReplaceState(y,y.state,null),td(o,u,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function $a(o,a){try{var u="",p=a;do u+=ce(p),p=p.return;while(p);var y=u}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:a,stack:y,digest:null}}function Ep(o,a,u){return{value:o,source:null,stack:u??null,digest:a??null}}function Cp(o,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var vO=typeof WeakMap=="function"?WeakMap:Map;function Zy(o,a,u){u=no(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){gd||(gd=!0,zp=p),Cp(o,a)},u}function Jy(o,a,u){u=no(-1,u),u.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;u.payload=function(){return p(y)},u.callback=function(){Cp(o,a)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){Cp(o,a),typeof p!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),u}function Qy(o,a,u){var p=o.pingCache;if(p===null){p=o.pingCache=new vO;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(u)||(y.add(u),o=PO.bind(null,o,a,u),a.then(o,o))}function ew(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function tw(o,a,u,p,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=no(-1,1),a.tag=2,Bo(u,a,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var yO=k.ReactCurrentOwner,er=!1;function Hn(o,a,u,p){a.child=o===null?xy(a,null,u,p):La(a,o.child,u,p)}function nw(o,a,u,p,y){u=u.render;var S=a.ref;return Ma(a,y),p=mp(o,a,u,p,S,y),u=vp(),o!==null&&!er?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ro(o,a,y)):(Lt&&u&&Qh(a),a.flags|=1,Hn(o,a,p,y),a.child)}function rw(o,a,u,p,y){if(o===null){var S=u.type;return typeof S=="function"&&!Kp(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=S,sw(o,a,S,p,y)):(o=xd(u.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(S=o.child,(o.lanes&y)===0){var A=S.memoizedProps;if(u=u.compare,u=u!==null?u:tc,u(A,p)&&o.ref===a.ref)return ro(o,a,y)}return a.flags|=1,o=Vo(S,p),o.ref=a.ref,o.return=a,a.child=o}function sw(o,a,u,p,y){if(o!==null){var S=o.memoizedProps;if(tc(S,p)&&o.ref===a.ref)if(er=!1,a.pendingProps=p=S,(o.lanes&y)!==0)(o.flags&131072)!==0&&(er=!0);else return a.lanes=o.lanes,ro(o,a,y)}return Np(o,a,u,p,y)}function ow(o,a,u){var p=a.pendingProps,y=p.children,S=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(za,mr),mr|=u;else{if((u&1073741824)===0)return o=S!==null?S.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,St(za,mr),mr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:u,St(za,mr),mr|=p}else S!==null?(p=S.baseLanes|u,a.memoizedState=null):p=u,St(za,mr),mr|=p;return Hn(o,a,y,u),a.child}function iw(o,a){var u=a.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Np(o,a,u,p,y){var S=Qn(u)?ji:Rn.current;return S=Aa(a,S),Ma(a,y),u=mp(o,a,u,p,S,y),p=vp(),o!==null&&!er?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ro(o,a,y)):(Lt&&p&&Qh(a),a.flags|=1,Hn(o,a,u,y),a.child)}function aw(o,a,u,p,y){if(Qn(u)){var S=!0;Wu(a)}else S=!1;if(Ma(a,y),a.stateNode===null)ud(o,a),Xy(a,u,p),_p(a,u,p,y),p=!0;else if(o===null){var A=a.stateNode,V=a.memoizedProps;A.props=V;var Y=A.context,ie=u.contextType;typeof ie=="object"&&ie!==null?ie=Lr(ie):(ie=Qn(u)?ji:Rn.current,ie=Aa(a,ie));var we=u.getDerivedStateFromProps,be=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function";be||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==p||Y!==ie)&&Yy(a,A,p,ie),$o=!1;var ve=a.memoizedState;A.state=ve,td(a,p,A,y),Y=a.memoizedState,V!==p||ve!==Y||Jn.current||$o?(typeof we=="function"&&(Sp(a,u,we,p),Y=a.memoizedState),(V=$o||Gy(a,u,V,p,ve,Y,ie))?(be||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Y),A.props=p,A.state=Y,A.context=ie,p=V):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,_y(o,a),V=a.memoizedProps,ie=a.type===a.elementType?V:Xr(a.type,V),A.props=ie,be=a.pendingProps,ve=A.context,Y=u.contextType,typeof Y=="object"&&Y!==null?Y=Lr(Y):(Y=Qn(u)?ji:Rn.current,Y=Aa(a,Y));var ke=u.getDerivedStateFromProps;(we=typeof ke=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==be||ve!==Y)&&Yy(a,A,p,Y),$o=!1,ve=a.memoizedState,A.state=ve,td(a,p,A,y);var Pe=a.memoizedState;V!==be||ve!==Pe||Jn.current||$o?(typeof ke=="function"&&(Sp(a,u,ke,p),Pe=a.memoizedState),(ie=$o||Gy(a,u,ie,p,ve,Pe,Y)||!1)?(we||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Pe,Y),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Pe,Y)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Pe),A.props=p,A.state=Pe,A.context=Y,p=ie):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ve===o.memoizedState||(a.flags|=1024),p=!1)}return kp(o,a,u,p,S,y)}function kp(o,a,u,p,y,S){iw(o,a);var A=(a.flags&128)!==0;if(!p&&!A)return y&&fy(a,u,!1),ro(o,a,S);p=a.stateNode,yO.current=a;var V=A&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&A?(a.child=La(a,o.child,null,S),a.child=La(a,null,V,S)):Hn(o,a,V,S),a.memoizedState=p.state,y&&fy(a,u,!0),a.child}function lw(o){var a=o.stateNode;a.pendingContext?uy(o,a.pendingContext,a.pendingContext!==a.context):a.context&&uy(o,a.context,!1),up(o,a.containerInfo)}function cw(o,a,u,p,y){return ja(),rp(y),a.flags|=256,Hn(o,a,u,p),a.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Tp(o){return{baseLanes:o,cachePool:null,transitions:null}}function uw(o,a,u){var p=a.pendingProps,y=Dt.current,S=!1,A=(a.flags&128)!==0,V;if((V=A)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(S=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),St(Dt,y&1),o===null)return np(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=p.children,o=p.fallback,S?(p=a.mode,S=a.child,A={mode:"hidden",children:A},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=A):S=Sd(A,p,0,null),o=qi(o,p,u,null),S.return=a,o.return=a,S.sibling=o,a.child=S,a.child.memoizedState=Tp(u),a.memoizedState=Op,o):Ap(a,A));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return wO(o,a,A,p,V,y,u);if(S){S=p.fallback,A=a.mode,y=o.child,V=y.sibling;var Y={mode:"hidden",children:p.children};return(A&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=Y,a.deletions=null):(p=Vo(y,Y),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?S=Vo(V,S):(S=qi(S,A,u,null),S.flags|=2),S.return=a,p.return=a,p.sibling=S,a.child=p,p=S,S=a.child,A=o.child.memoizedState,A=A===null?Tp(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},S.memoizedState=A,S.childLanes=o.childLanes&~u,a.memoizedState=Op,p}return S=o.child,o=S.sibling,p=Vo(S,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,o!==null&&(u=a.deletions,u===null?(a.deletions=[o],a.flags|=16):u.push(o)),a.child=p,a.memoizedState=null,p}function Ap(o,a){return a=Sd({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function cd(o,a,u,p){return p!==null&&rp(p),La(a,o.child,null,u),o=Ap(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function wO(o,a,u,p,y,S,A){if(u)return a.flags&256?(a.flags&=-257,p=Ep(Error(n(422))),cd(o,a,A,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(S=p.fallback,y=a.mode,p=Sd({mode:"visible",children:p.children},y,0,null),S=qi(S,y,A,null),S.flags|=2,p.return=a,S.return=a,p.sibling=S,a.child=p,(a.mode&1)!==0&&La(a,o.child,null,A),a.child.memoizedState=Tp(A),a.memoizedState=Op,S);if((a.mode&1)===0)return cd(o,a,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,S=Error(n(419)),p=Ep(S,p,void 0),cd(o,a,A,p)}if(V=(A&o.childLanes)!==0,er||V){if(p=gn,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|A))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,to(o,y),Jr(p,o,y,-1))}return Wp(),p=Ep(Error(n(421))),cd(o,a,A,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=RO.bind(null,o),y._reactRetry=a,null):(o=S.treeContext,gr=Lo(y.nextSibling),pr=a,Lt=!0,Gr=null,o!==null&&(Rr[jr++]=Qs,Rr[jr++]=eo,Rr[jr++]=Li,Qs=o.id,eo=o.overflow,Li=a),a=Ap(a,p.children),a.flags|=4096,a)}function dw(o,a,u){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),ap(o.return,a,u)}function Pp(o,a,u,p,y){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=u,S.tailMode=y)}function fw(o,a,u){var p=a.pendingProps,y=p.revealOrder,S=p.tail;if(Hn(o,a,p.children,u),p=Dt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dw(o,u,a);else if(o.tag===19)dw(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(St(Dt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)o=u.alternate,o!==null&&nd(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Pp(a,!1,y,u,S);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&nd(o)===null){a.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}Pp(a,!0,u,null,S);break;case"together":Pp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ud(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ro(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),Bi|=a.lanes,(u&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,u=Vo(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Vo(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function bO(o,a,u){switch(a.tag){case 3:lw(a),ja();break;case 5:Ny(a);break;case 1:Qn(a.type)&&Wu(a);break;case 4:up(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;St(Ju,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(St(Dt,Dt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?uw(o,a,u):(St(Dt,Dt.current&1),o=ro(o,a,u),o!==null?o.sibling:null);St(Dt,Dt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(o.flags&128)!==0){if(p)return fw(o,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),St(Dt,Dt.current),p)break;return null;case 22:case 23:return a.lanes=0,ow(o,a,u)}return ro(o,a,u)}var hw,Rp,pw,gw;hw=function(o,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Rp=function(){},pw=function(o,a,u,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Di(Es.current);var S=null;switch(u){case"input":y=Ue(o,y),p=Ue(o,p),S=[];break;case"select":y=q({},y,{value:void 0}),p=q({},p,{value:void 0}),S=[];break;case"textarea":y=zn(o,y),p=zn(o,p),S=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=qu)}Un(u,p);var A;u=null;for(ie in y)if(!p.hasOwnProperty(ie)&&y.hasOwnProperty(ie)&&y[ie]!=null)if(ie==="style"){var V=y[ie];for(A in V)V.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?S||(S=[]):(S=S||[]).push(ie,null));for(ie in p){var Y=p[ie];if(V=y!=null?y[ie]:void 0,p.hasOwnProperty(ie)&&Y!==V&&(Y!=null||V!=null))if(ie==="style")if(V){for(A in V)!V.hasOwnProperty(A)||Y&&Y.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in Y)Y.hasOwnProperty(A)&&V[A]!==Y[A]&&(u||(u={}),u[A]=Y[A])}else u||(S||(S=[]),S.push(ie,u)),u=Y;else ie==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,V=V?V.__html:void 0,Y!=null&&V!==Y&&(S=S||[]).push(ie,Y)):ie==="children"?typeof Y!="string"&&typeof Y!="number"||(S=S||[]).push(ie,""+Y):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(Y!=null&&ie==="onScroll"&&kt("scroll",o),S||V===Y||(S=[])):(S=S||[]).push(ie,Y))}u&&(S=S||[]).push("style",u);var ie=S;(a.updateQueue=ie)&&(a.flags|=4)}},gw=function(o,a,u,p){u!==p&&(a.flags|=4)};function mc(o,a){if(!Lt)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Ln(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,p=0;if(a)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=u,a}function xO(o,a,u){var p=a.pendingProps;switch(ep(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(a),null;case 1:return Qn(a.type)&&Vu(),Ln(a),null;case 3:return p=a.stateNode,Da(),Ot(Jn),Ot(Rn),hp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Yu(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gr!==null&&(qp(Gr),Gr=null))),Rp(o,a),Ln(a),null;case 5:dp(a);var y=Di(dc.current);if(u=a.type,o!==null&&a.stateNode!=null)pw(o,a,u,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return Ln(a),null}if(o=Di(Es.current),Yu(a)){p=a.stateNode,u=a.type;var S=a.memoizedProps;switch(p[_s]=a,p[ic]=S,o=(a.mode&1)!==0,u){case"dialog":kt("cancel",p),kt("close",p);break;case"iframe":case"object":case"embed":kt("load",p);break;case"video":case"audio":for(y=0;y<rc.length;y++)kt(rc[y],p);break;case"source":kt("error",p);break;case"img":case"image":case"link":kt("error",p),kt("load",p);break;case"details":kt("toggle",p);break;case"input":tt(p,S),kt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},kt("invalid",p);break;case"textarea":lr(p,S),kt("invalid",p)}Un(u,S),y=null;for(var A in S)if(S.hasOwnProperty(A)){var V=S[A];A==="children"?typeof V=="string"?p.textContent!==V&&(S.suppressHydrationWarning!==!0&&Fu(p.textContent,V,o),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(S.suppressHydrationWarning!==!0&&Fu(p.textContent,V,o),y=["children",""+V]):s.hasOwnProperty(A)&&V!=null&&A==="onScroll"&&kt("scroll",p)}switch(u){case"input":xe(p),fn(p,S,!0);break;case"textarea":xe(p),On(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=qu)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=_r(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=A.createElement(u,{is:p.is}):(o=A.createElement(u),u==="select"&&(A=o,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):o=A.createElementNS(o,u),o[_s]=a,o[ic]=p,hw(o,a,!1,!1),a.stateNode=o;e:{switch(A=xn(u,p),u){case"dialog":kt("cancel",o),kt("close",o),y=p;break;case"iframe":case"object":case"embed":kt("load",o),y=p;break;case"video":case"audio":for(y=0;y<rc.length;y++)kt(rc[y],o);y=p;break;case"source":kt("error",o),y=p;break;case"img":case"image":case"link":kt("error",o),kt("load",o),y=p;break;case"details":kt("toggle",o),y=p;break;case"input":tt(o,p),y=Ue(o,p),kt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=q({},p,{value:void 0}),kt("invalid",o);break;case"textarea":lr(o,p),y=zn(o,p),kt("invalid",o);break;default:y=p}Un(u,y),V=y;for(S in V)if(V.hasOwnProperty(S)){var Y=V[S];S==="style"?Xn(o,Y):S==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Kt(o,Y)):S==="children"?typeof Y=="string"?(u!=="textarea"||Y!=="")&&wt(o,Y):typeof Y=="number"&&wt(o,""+Y):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?Y!=null&&S==="onScroll"&&kt("scroll",o):Y!=null&&O(o,S,Y,A))}switch(u){case"input":xe(o),fn(o,p,!1);break;case"textarea":xe(o),On(o);break;case"option":p.value!=null&&o.setAttribute("value",""+ae(p.value));break;case"select":o.multiple=!!p.multiple,S=p.value,S!=null?Vt(o,!!p.multiple,S,!1):p.defaultValue!=null&&Vt(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=qu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ln(a),null;case 6:if(o&&a.stateNode!=null)gw(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=Di(dc.current),Di(Es.current),Yu(a)){if(p=a.stateNode,u=a.memoizedProps,p[_s]=a,(S=p.nodeValue!==u)&&(o=pr,o!==null))switch(o.tag){case 3:Fu(p.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Fu(p.nodeValue,u,(o.mode&1)!==0)}S&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[_s]=a,a.stateNode=p}return Ln(a),null;case 13:if(Ot(Dt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Lt&&gr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)yy(),ja(),a.flags|=98560,S=!1;else if(S=Yu(a),p!==null&&p.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[_s]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ln(a),S=!1}else Gr!==null&&(qp(Gr),Gr=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Dt.current&1)!==0?ln===0&&(ln=3):Wp())),a.updateQueue!==null&&(a.flags|=4),Ln(a),null);case 4:return Da(),Rp(o,a),o===null&&sc(a.stateNode.containerInfo),Ln(a),null;case 10:return ip(a.type._context),Ln(a),null;case 17:return Qn(a.type)&&Vu(),Ln(a),null;case 19:if(Ot(Dt),S=a.memoizedState,S===null)return Ln(a),null;if(p=(a.flags&128)!==0,A=S.rendering,A===null)if(p)mc(S,!1);else{if(ln!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(A=nd(o),A!==null){for(a.flags|=128,mc(S,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)S=u,o=p,S.flags&=14680066,A=S.alternate,A===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=A.childLanes,S.lanes=A.lanes,S.child=A.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=A.memoizedProps,S.memoizedState=A.memoizedState,S.updateQueue=A.updateQueue,S.type=A.type,o=A.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return St(Dt,Dt.current&1|2),a.child}o=o.sibling}S.tail!==null&&bt()>Ua&&(a.flags|=128,p=!0,mc(S,!1),a.lanes=4194304)}else{if(!p)if(o=nd(A),o!==null){if(a.flags|=128,p=!0,u=o.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),mc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!Lt)return Ln(a),null}else 2*bt()-S.renderingStartTime>Ua&&u!==1073741824&&(a.flags|=128,p=!0,mc(S,!1),a.lanes=4194304);S.isBackwards?(A.sibling=a.child,a.child=A):(u=S.last,u!==null?u.sibling=A:a.child=A,S.last=A)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=bt(),a.sibling=null,u=Dt.current,St(Dt,p?u&1|2:u&1),a):(Ln(a),null);case 22:case 23:return Vp(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(mr&1073741824)!==0&&(Ln(a),a.subtreeFlags&6&&(a.flags|=8192)):Ln(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function SO(o,a){switch(ep(a),a.tag){case 1:return Qn(a.type)&&Vu(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Da(),Ot(Jn),Ot(Rn),hp(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return dp(a),null;case 13:if(Ot(Dt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ja()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Ot(Dt),null;case 4:return Da(),null;case 10:return ip(a.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var dd=!1,In=!1,_O=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Ba(o,a){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){qt(o,a,p)}else u.current=null}function jp(o,a,u){try{u()}catch(p){qt(o,a,p)}}var mw=!1;function EO(o,a){if(Vh=I,o=G0(),Dh(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var A=0,V=-1,Y=-1,ie=0,we=0,be=o,ve=null;t:for(;;){for(var ke;be!==u||y!==0&&be.nodeType!==3||(V=A+y),be!==S||p!==0&&be.nodeType!==3||(Y=A+p),be.nodeType===3&&(A+=be.nodeValue.length),(ke=be.firstChild)!==null;)ve=be,be=ke;for(;;){if(be===o)break t;if(ve===u&&++ie===y&&(V=A),ve===S&&++we===p&&(Y=A),(ke=be.nextSibling)!==null)break;be=ve,ve=be.parentNode}be=ke}u=V===-1||Y===-1?null:{start:V,end:Y}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wh={focusedElem:o,selectionRange:u},I=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Pe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ie=Pe.memoizedProps,Jt=Pe.memoizedState,ne=a.stateNode,Z=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Xr(a.type,Ie),Jt);ne.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var re=a.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){qt(a,a.return,Se)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Pe=mw,mw=!1,Pe}function vc(o,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var S=y.destroy;y.destroy=void 0,S!==void 0&&jp(a,u,S)}y=y.next}while(y!==p)}}function fd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&o)===o){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Lp(o){var a=o.ref;if(a!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof a=="function"?a(o):a.current=o}}function vw(o){var a=o.alternate;a!==null&&(o.alternate=null,vw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[_s],delete a[ic],delete a[Yh],delete a[iO],delete a[aO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function yw(o){return o.tag===5||o.tag===3||o.tag===4}function ww(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ip(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(o,a):u.insertBefore(o,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(o,u)):(a=u,a.appendChild(o)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=qu));else if(p!==4&&(o=o.child,o!==null))for(Ip(o,a,u),o=o.sibling;o!==null;)Ip(o,a,u),o=o.sibling}function Mp(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Mp(o,a,u),o=o.sibling;o!==null;)Mp(o,a,u),o=o.sibling}var En=null,Yr=!1;function zo(o,a,u){for(u=u.child;u!==null;)bw(o,a,u),u=u.sibling}function bw(o,a,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ur,u)}catch{}switch(u.tag){case 5:In||Ba(u,a);case 6:var p=En,y=Yr;En=null,zo(o,a,u),En=p,Yr=y,En!==null&&(Yr?(o=En,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):En.removeChild(u.stateNode));break;case 18:En!==null&&(Yr?(o=En,u=u.stateNode,o.nodeType===8?Xh(o.parentNode,u):o.nodeType===1&&Xh(o,u),Ys(o)):Xh(En,u.stateNode));break;case 4:p=En,y=Yr,En=u.stateNode.containerInfo,Yr=!0,zo(o,a,u),En=p,Yr=y;break;case 0:case 11:case 14:case 15:if(!In&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var S=y,A=S.destroy;S=S.tag,A!==void 0&&((S&2)!==0||(S&4)!==0)&&jp(u,a,A),y=y.next}while(y!==p)}zo(o,a,u);break;case 1:if(!In&&(Ba(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(V){qt(u,a,V)}zo(o,a,u);break;case 21:zo(o,a,u);break;case 22:u.mode&1?(In=(p=In)||u.memoizedState!==null,zo(o,a,u),In=p):zo(o,a,u);break;default:zo(o,a,u)}}function xw(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new _O),a.forEach(function(p){var y=jO.bind(null,o,p);u.has(p)||(u.add(p),p.then(y,y))})}}function Zr(o,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var S=o,A=a,V=A;e:for(;V!==null;){switch(V.tag){case 5:En=V.stateNode,Yr=!1;break e;case 3:En=V.stateNode.containerInfo,Yr=!0;break e;case 4:En=V.stateNode.containerInfo,Yr=!0;break e}V=V.return}if(En===null)throw Error(n(160));bw(S,A,y),En=null,Yr=!1;var Y=y.alternate;Y!==null&&(Y.return=null),y.return=null}catch(ie){qt(y,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Sw(a,o),a=a.sibling}function Sw(o,a){var u=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Zr(a,o),Ns(o),p&4){try{vc(3,o,o.return),fd(3,o)}catch(Ie){qt(o,o.return,Ie)}try{vc(5,o,o.return)}catch(Ie){qt(o,o.return,Ie)}}break;case 1:Zr(a,o),Ns(o),p&512&&u!==null&&Ba(u,u.return);break;case 5:if(Zr(a,o),Ns(o),p&512&&u!==null&&Ba(u,u.return),o.flags&32){var y=o.stateNode;try{wt(y,"")}catch(Ie){qt(o,o.return,Ie)}}if(p&4&&(y=o.stateNode,y!=null)){var S=o.memoizedProps,A=u!==null?u.memoizedProps:S,V=o.type,Y=o.updateQueue;if(o.updateQueue=null,Y!==null)try{V==="input"&&S.type==="radio"&&S.name!=null&&At(y,S),xn(V,A);var ie=xn(V,S);for(A=0;A<Y.length;A+=2){var we=Y[A],be=Y[A+1];we==="style"?Xn(y,be):we==="dangerouslySetInnerHTML"?Kt(y,be):we==="children"?wt(y,be):O(y,we,be,ie)}switch(V){case"input":Ct(y,S);break;case"textarea":Qt(y,S);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var ke=S.value;ke!=null?Vt(y,!!S.multiple,ke,!1):ve!==!!S.multiple&&(S.defaultValue!=null?Vt(y,!!S.multiple,S.defaultValue,!0):Vt(y,!!S.multiple,S.multiple?[]:"",!1))}y[ic]=S}catch(Ie){qt(o,o.return,Ie)}}break;case 6:if(Zr(a,o),Ns(o),p&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,S=o.memoizedProps;try{y.nodeValue=S}catch(Ie){qt(o,o.return,Ie)}}break;case 3:if(Zr(a,o),Ns(o),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Ys(a.containerInfo)}catch(Ie){qt(o,o.return,Ie)}break;case 4:Zr(a,o),Ns(o);break;case 13:Zr(a,o),Ns(o),y=o.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(Bp=bt())),p&4&&xw(o);break;case 22:if(we=u!==null&&u.memoizedState!==null,o.mode&1?(In=(ie=In)||we,Zr(a,o),In=ie):Zr(a,o),Ns(o),p&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!we&&(o.mode&1)!==0)for(Te=o,we=o.child;we!==null;){for(be=Te=we;Te!==null;){switch(ve=Te,ke=ve.child,ve.tag){case 0:case 11:case 14:case 15:vc(4,ve,ve.return);break;case 1:Ba(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,u=ve.return;try{a=p,Pe.props=a.memoizedProps,Pe.state=a.memoizedState,Pe.componentWillUnmount()}catch(Ie){qt(p,u,Ie)}}break;case 5:Ba(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Cw(be);continue}}ke!==null?(ke.return=ve,Te=ke):Cw(be)}we=we.sibling}e:for(we=null,be=o;;){if(be.tag===5){if(we===null){we=be;try{y=be.stateNode,ie?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(V=be.stateNode,Y=be.memoizedProps.style,A=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,V.style.display=wn("display",A))}catch(Ie){qt(o,o.return,Ie)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=ie?"":be.memoizedProps}catch(Ie){qt(o,o.return,Ie)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===o)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===o)break e;for(;be.sibling===null;){if(be.return===null||be.return===o)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Zr(a,o),Ns(o),p&4&&xw(o);break;case 21:break;default:Zr(a,o),Ns(o)}}function Ns(o){var a=o.flags;if(a&2){try{e:{for(var u=o.return;u!==null;){if(yw(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(wt(y,""),p.flags&=-33);var S=ww(o);Mp(o,S,y);break;case 3:case 4:var A=p.stateNode.containerInfo,V=ww(o);Ip(o,V,A);break;default:throw Error(n(161))}}catch(Y){qt(o,o.return,Y)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function CO(o,a,u){Te=o,_w(o)}function _w(o,a,u){for(var p=(o.mode&1)!==0;Te!==null;){var y=Te,S=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||dd;if(!A){var V=y.alternate,Y=V!==null&&V.memoizedState!==null||In;V=dd;var ie=In;if(dd=A,(In=Y)&&!ie)for(Te=y;Te!==null;)A=Te,Y=A.child,A.tag===22&&A.memoizedState!==null?Nw(y):Y!==null?(Y.return=A,Te=Y):Nw(y);for(;S!==null;)Te=S,_w(S),S=S.sibling;Te=y,dd=V,In=ie}Ew(o)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,Te=S):Ew(o)}}function Ew(o){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:In||fd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!In)if(u===null)p.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:Xr(a.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Cy(a,S,p);break;case 3:var A=a.updateQueue;if(A!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Cy(a,A,u)}break;case 5:var V=a.stateNode;if(u===null&&a.flags&4){u=V;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&u.focus();break;case"img":Y.src&&(u.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var we=ie.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&Ys(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||a.flags&512&&Lp(a)}catch(ve){qt(a,a.return,ve)}}if(a===o){Te=null;break}if(u=a.sibling,u!==null){u.return=a.return,Te=u;break}Te=a.return}}function Cw(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Te=u;break}Te=a.return}}function Nw(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{fd(4,a)}catch(Y){qt(a,u,Y)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(Y){qt(a,y,Y)}}var S=a.return;try{Lp(a)}catch(Y){qt(a,S,Y)}break;case 5:var A=a.return;try{Lp(a)}catch(Y){qt(a,A,Y)}}}catch(Y){qt(a,a.return,Y)}if(a===o){Te=null;break}var V=a.sibling;if(V!==null){V.return=a.return,Te=V;break}Te=a.return}}var NO=Math.ceil,hd=k.ReactCurrentDispatcher,Dp=k.ReactCurrentOwner,Mr=k.ReactCurrentBatchConfig,dt=0,gn=null,tn=null,Cn=0,mr=0,za=Io(0),ln=0,yc=null,Bi=0,pd=0,$p=0,wc=null,tr=null,Bp=0,Ua=1/0,so=null,gd=!1,zp=null,Uo=null,md=!1,Fo=null,vd=0,bc=0,Up=null,yd=-1,wd=0;function Vn(){return(dt&6)!==0?bt():yd!==-1?yd:yd=bt()}function qo(o){return(o.mode&1)===0?1:(dt&2)!==0&&Cn!==0?Cn&-Cn:cO.transition!==null?(wd===0&&(wd=Oo()),wd):(o=Xe,o!==0||(o=window.event,o=o===void 0?16:rt(o.type)),o)}function Jr(o,a,u,p){if(50<bc)throw bc=0,Up=null,Error(n(185));Gs(o,u,p),((dt&2)===0||o!==gn)&&(o===gn&&((dt&2)===0&&(pd|=u),ln===4&&Ho(o,Cn)),nr(o,p),u===1&&dt===0&&(a.mode&1)===0&&(Ua=bt()+500,Ku&&Do()))}function nr(o,a){var u=o.callbackNode;bs(o,a);var p=Or(o,o===gn?Cn:0);if(p===0)u!==null&&on(u),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(u!=null&&on(u),a===1)o.tag===0?lO(Ow.bind(null,o)):hy(Ow.bind(null,o)),sO(function(){(dt&6)===0&&Do()}),u=null;else{switch(Tr(p)){case 1:u=Vs;break;case 4:u=Cr;break;case 16:u=qr;break;case 536870912:u=Fn;break;default:u=qr}u=Mw(u,kw.bind(null,o))}o.callbackPriority=a,o.callbackNode=u}}function kw(o,a){if(yd=-1,wd=0,(dt&6)!==0)throw Error(n(327));var u=o.callbackNode;if(Fa()&&o.callbackNode!==u)return null;var p=Or(o,o===gn?Cn:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=bd(o,p);else{a=p;var y=dt;dt|=2;var S=Aw();(gn!==o||Cn!==a)&&(so=null,Ua=bt()+500,Ui(o,a));do try{TO();break}catch(V){Tw(o,V)}while(!0);op(),hd.current=S,dt=y,tn!==null?a=0:(gn=null,Cn=0,a=ln)}if(a!==0){if(a===2&&(y=Ws(o),y!==0&&(p=y,a=Fp(o,y))),a===1)throw u=yc,Ui(o,0),Ho(o,p),nr(o,bt()),u;if(a===6)Ho(o,p);else{if(y=o.current.alternate,(p&30)===0&&!kO(y)&&(a=bd(o,p),a===2&&(S=Ws(o),S!==0&&(p=S,a=Fp(o,S))),a===1))throw u=yc,Ui(o,0),Ho(o,p),nr(o,bt()),u;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Fi(o,tr,so);break;case 3:if(Ho(o,p),(p&130023424)===p&&(a=Bp+500-bt(),10<a)){if(Or(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Vn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Gh(Fi.bind(null,o,tr,so),a);break}Fi(o,tr,so);break;case 4:if(Ho(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var A=31-Sn(p);S=1<<A,A=a[A],A>y&&(y=A),p&=~S}if(p=y,p=bt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*NO(p/1960))-p,10<p){o.timeoutHandle=Gh(Fi.bind(null,o,tr,so),p);break}Fi(o,tr,so);break;case 5:Fi(o,tr,so);break;default:throw Error(n(329))}}}return nr(o,bt()),o.callbackNode===u?kw.bind(null,o):null}function Fp(o,a){var u=wc;return o.current.memoizedState.isDehydrated&&(Ui(o,a).flags|=256),o=bd(o,a),o!==2&&(a=tr,tr=u,a!==null&&qp(a)),o}function qp(o){tr===null?tr=o:tr.push.apply(tr,o)}function kO(o){for(var a=o;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],S=y.getSnapshot;y=y.value;try{if(!Kr(S(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ho(o,a){for(a&=~$p,a&=~pd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var u=31-Sn(a),p=1<<u;o[u]=-1,a&=~p}}function Ow(o){if((dt&6)!==0)throw Error(n(327));Fa();var a=Or(o,0);if((a&1)===0)return nr(o,bt()),null;var u=bd(o,a);if(o.tag!==0&&u===2){var p=Ws(o);p!==0&&(a=p,u=Fp(o,p))}if(u===1)throw u=yc,Ui(o,0),Ho(o,a),nr(o,bt()),u;if(u===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Fi(o,tr,so),nr(o,bt()),null}function Hp(o,a){var u=dt;dt|=1;try{return o(a)}finally{dt=u,dt===0&&(Ua=bt()+500,Ku&&Do())}}function zi(o){Fo!==null&&Fo.tag===0&&(dt&6)===0&&Fa();var a=dt;dt|=1;var u=Mr.transition,p=Xe;try{if(Mr.transition=null,Xe=1,o)return o()}finally{Xe=p,Mr.transition=u,dt=a,(dt&6)===0&&Do()}}function Vp(){mr=za.current,Ot(za)}function Ui(o,a){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,rO(u)),tn!==null)for(u=tn.return;u!==null;){var p=u;switch(ep(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Vu();break;case 3:Da(),Ot(Jn),Ot(Rn),hp();break;case 5:dp(p);break;case 4:Da();break;case 13:Ot(Dt);break;case 19:Ot(Dt);break;case 10:ip(p.type._context);break;case 22:case 23:Vp()}u=u.return}if(gn=o,tn=o=Vo(o.current,null),Cn=mr=a,ln=0,yc=null,$p=pd=Bi=0,tr=wc=null,Mi!==null){for(a=0;a<Mi.length;a++)if(u=Mi[a],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,S=u.pending;if(S!==null){var A=S.next;S.next=y,p.next=A}u.pending=p}Mi=null}return o}function Tw(o,a){do{var u=tn;try{if(op(),rd.current=ad,sd){for(var p=$t.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}sd=!1}if($i=0,pn=an=$t=null,fc=!1,hc=0,Dp.current=null,u===null||u.return===null){ln=1,yc=a,tn=null;break}e:{var S=o,A=u.return,V=u,Y=a;if(a=Cn,V.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Y,we=V,be=we.tag;if((we.mode&1)===0&&(be===0||be===11||be===15)){var ve=we.alternate;ve?(we.updateQueue=ve.updateQueue,we.memoizedState=ve.memoizedState,we.lanes=ve.lanes):(we.updateQueue=null,we.memoizedState=null)}var ke=ew(A);if(ke!==null){ke.flags&=-257,tw(ke,A,V,S,a),ke.mode&1&&Qy(S,ie,a),a=ke,Y=ie;var Pe=a.updateQueue;if(Pe===null){var Ie=new Set;Ie.add(Y),a.updateQueue=Ie}else Pe.add(Y);break e}else{if((a&1)===0){Qy(S,ie,a),Wp();break e}Y=Error(n(426))}}else if(Lt&&V.mode&1){var Jt=ew(A);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),tw(Jt,A,V,S,a),rp($a(Y,V));break e}}S=Y=$a(Y,V),ln!==4&&(ln=2),wc===null?wc=[S]:wc.push(S),S=A;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var ne=Zy(S,Y,a);Ey(S,ne);break e;case 1:V=Y;var Z=S.type,re=S.stateNode;if((S.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Uo===null||!Uo.has(re)))){S.flags|=65536,a&=-a,S.lanes|=a;var Se=Jy(S,V,a);Ey(S,Se);break e}}S=S.return}while(S!==null)}Rw(u)}catch($e){a=$e,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function Aw(){var o=hd.current;return hd.current=ad,o===null?ad:o}function Wp(){(ln===0||ln===3||ln===2)&&(ln=4),gn===null||(Bi&268435455)===0&&(pd&268435455)===0||Ho(gn,Cn)}function bd(o,a){var u=dt;dt|=2;var p=Aw();(gn!==o||Cn!==a)&&(so=null,Ui(o,a));do try{OO();break}catch(y){Tw(o,y)}while(!0);if(op(),dt=u,hd.current=p,tn!==null)throw Error(n(261));return gn=null,Cn=0,ln}function OO(){for(;tn!==null;)Pw(tn)}function TO(){for(;tn!==null&&!Si();)Pw(tn)}function Pw(o){var a=Iw(o.alternate,o,mr);o.memoizedProps=o.pendingProps,a===null?Rw(o):tn=a,Dp.current=null}function Rw(o){var a=o;do{var u=a.alternate;if(o=a.return,(a.flags&32768)===0){if(u=xO(u,a,mr),u!==null){tn=u;return}}else{if(u=SO(u,a),u!==null){u.flags&=32767,tn=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,tn=null;return}}if(a=a.sibling,a!==null){tn=a;return}tn=a=o}while(a!==null);ln===0&&(ln=5)}function Fi(o,a,u){var p=Xe,y=Mr.transition;try{Mr.transition=null,Xe=1,AO(o,a,u,p)}finally{Mr.transition=y,Xe=p}return null}function AO(o,a,u,p){do Fa();while(Fo!==null);if((dt&6)!==0)throw Error(n(327));u=o.finishedWork;var y=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var S=u.lanes|u.childLanes;if(Yl(o,S),o===gn&&(tn=gn=null,Cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||md||(md=!0,Mw(qr,function(){return Fa(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=Mr.transition,Mr.transition=null;var A=Xe;Xe=1;var V=dt;dt|=4,Dp.current=null,EO(o,u),Sw(u,o),Y2(Wh),I=!!Vh,Wh=Vh=null,o.current=u,CO(u),Co(),dt=V,Xe=A,Mr.transition=S}else o.current=u;if(md&&(md=!1,Fo=o,vd=y),S=o.pendingLanes,S===0&&(Uo=null),No(u.stateNode),nr(o,bt()),a!==null)for(p=o.onRecoverableError,u=0;u<a.length;u++)y=a[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(gd)throw gd=!1,o=zp,zp=null,o;return(vd&1)!==0&&o.tag!==0&&Fa(),S=o.pendingLanes,(S&1)!==0?o===Up?bc++:(bc=0,Up=o):bc=0,Do(),null}function Fa(){if(Fo!==null){var o=Tr(vd),a=Mr.transition,u=Xe;try{if(Mr.transition=null,Xe=16>o?16:o,Fo===null)var p=!1;else{if(o=Fo,Fo=null,vd=0,(dt&6)!==0)throw Error(n(331));var y=dt;for(dt|=4,Te=o.current;Te!==null;){var S=Te,A=S.child;if((Te.flags&16)!==0){var V=S.deletions;if(V!==null){for(var Y=0;Y<V.length;Y++){var ie=V[Y];for(Te=ie;Te!==null;){var we=Te;switch(we.tag){case 0:case 11:case 15:vc(8,we,S)}var be=we.child;if(be!==null)be.return=we,Te=be;else for(;Te!==null;){we=Te;var ve=we.sibling,ke=we.return;if(vw(we),we===ie){Te=null;break}if(ve!==null){ve.return=ke,Te=ve;break}Te=ke}}}var Pe=S.alternate;if(Pe!==null){var Ie=Pe.child;if(Ie!==null){Pe.child=null;do{var Jt=Ie.sibling;Ie.sibling=null,Ie=Jt}while(Ie!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&A!==null)A.return=S,Te=A;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:vc(9,S,S.return)}var ne=S.sibling;if(ne!==null){ne.return=S.return,Te=ne;break e}Te=S.return}}var Z=o.current;for(Te=Z;Te!==null;){A=Te;var re=A.child;if((A.subtreeFlags&2064)!==0&&re!==null)re.return=A,Te=re;else e:for(A=Z;Te!==null;){if(V=Te,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:fd(9,V)}}catch($e){qt(V,V.return,$e)}if(V===A){Te=null;break e}var Se=V.sibling;if(Se!==null){Se.return=V.return,Te=Se;break e}Te=V.return}}if(dt=y,Do(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ur,o)}catch{}p=!0}return p}finally{Xe=u,Mr.transition=a}}return!1}function jw(o,a,u){a=$a(u,a),a=Zy(o,a,1),o=Bo(o,a,1),a=Vn(),o!==null&&(Gs(o,1,a),nr(o,a))}function qt(o,a,u){if(o.tag===3)jw(o,o,u);else for(;a!==null;){if(a.tag===3){jw(a,o,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Uo===null||!Uo.has(p))){o=$a(u,o),o=Jy(a,o,1),a=Bo(a,o,1),o=Vn(),a!==null&&(Gs(a,1,o),nr(a,o));break}}a=a.return}}function PO(o,a,u){var p=o.pingCache;p!==null&&p.delete(a),a=Vn(),o.pingedLanes|=o.suspendedLanes&u,gn===o&&(Cn&u)===u&&(ln===4||ln===3&&(Cn&130023424)===Cn&&500>bt()-Bp?Ui(o,0):$p|=u),nr(o,a)}function Lw(o,a){a===0&&((o.mode&1)===0?a=1:(a=Yn,Yn<<=1,(Yn&130023424)===0&&(Yn=4194304)));var u=Vn();o=to(o,a),o!==null&&(Gs(o,a,u),nr(o,u))}function RO(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),Lw(o,u)}function jO(o,a){var u=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Lw(o,u)}var Iw;Iw=function(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps||Jn.current)er=!0;else{if((o.lanes&u)===0&&(a.flags&128)===0)return er=!1,bO(o,a,u);er=(o.flags&131072)!==0}else er=!1,Lt&&(a.flags&1048576)!==0&&py(a,Xu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;ud(o,a),o=a.pendingProps;var y=Aa(a,Rn.current);Ma(a,u),y=mp(null,a,p,o,y,u);var S=vp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(p)?(S=!0,Wu(a)):S=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,cp(a),y.updater=ld,a.stateNode=y,y._reactInternals=a,_p(a,p,o,u),a=kp(null,a,p,!0,S,u)):(a.tag=0,Lt&&S&&Qh(a),Hn(null,a,y,u),a=a.child),a;case 16:p=a.elementType;e:{switch(ud(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=IO(p),o=Xr(p,o),y){case 0:a=Np(null,a,p,o,u);break e;case 1:a=aw(null,a,p,o,u);break e;case 11:a=nw(null,a,p,o,u);break e;case 14:a=rw(null,a,p,Xr(p.type,o),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),Np(o,a,p,y,u);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),aw(o,a,p,y,u);case 3:e:{if(lw(a),o===null)throw Error(n(387));p=a.pendingProps,S=a.memoizedState,y=S.element,_y(o,a),td(a,p,null,u);var A=a.memoizedState;if(p=A.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){y=$a(Error(n(423)),a),a=cw(o,a,p,u,y);break e}else if(p!==y){y=$a(Error(n(424)),a),a=cw(o,a,p,u,y);break e}else for(gr=Lo(a.stateNode.containerInfo.firstChild),pr=a,Lt=!0,Gr=null,u=xy(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ja(),p===y){a=ro(o,a,u);break e}Hn(o,a,p,u)}a=a.child}return a;case 5:return Ny(a),o===null&&np(a),p=a.type,y=a.pendingProps,S=o!==null?o.memoizedProps:null,A=y.children,Kh(p,y)?A=null:S!==null&&Kh(p,S)&&(a.flags|=32),iw(o,a),Hn(o,a,A,u),a.child;case 6:return o===null&&np(a),null;case 13:return uw(o,a,u);case 4:return up(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=La(a,null,p,u):Hn(o,a,p,u),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),nw(o,a,p,y,u);case 7:return Hn(o,a,a.pendingProps,u),a.child;case 8:return Hn(o,a,a.pendingProps.children,u),a.child;case 12:return Hn(o,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,S=a.memoizedProps,A=y.value,St(Ju,p._currentValue),p._currentValue=A,S!==null)if(Kr(S.value,A)){if(S.children===y.children&&!Jn.current){a=ro(o,a,u);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var V=S.dependencies;if(V!==null){A=S.child;for(var Y=V.firstContext;Y!==null;){if(Y.context===p){if(S.tag===1){Y=no(-1,u&-u),Y.tag=2;var ie=S.updateQueue;if(ie!==null){ie=ie.shared;var we=ie.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),ie.pending=Y}}S.lanes|=u,Y=S.alternate,Y!==null&&(Y.lanes|=u),ap(S.return,u,a),V.lanes|=u;break}Y=Y.next}}else if(S.tag===10)A=S.type===a.type?null:S.child;else if(S.tag===18){if(A=S.return,A===null)throw Error(n(341));A.lanes|=u,V=A.alternate,V!==null&&(V.lanes|=u),ap(A,u,a),A=S.sibling}else A=S.child;if(A!==null)A.return=S;else for(A=S;A!==null;){if(A===a){A=null;break}if(S=A.sibling,S!==null){S.return=A.return,A=S;break}A=A.return}S=A}Hn(o,a,y.children,u),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Ma(a,u),y=Lr(y),p=p(y),a.flags|=1,Hn(o,a,p,u),a.child;case 14:return p=a.type,y=Xr(p,a.pendingProps),y=Xr(p.type,y),rw(o,a,p,y,u);case 15:return sw(o,a,a.type,a.pendingProps,u);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),ud(o,a),a.tag=1,Qn(p)?(o=!0,Wu(a)):o=!1,Ma(a,u),Xy(a,p,y),_p(a,p,y,u),kp(null,a,p,!0,o,u);case 19:return fw(o,a,u);case 22:return ow(o,a,u)}throw Error(n(156,a.tag))};function Mw(o,a){return Eo(o,a)}function LO(o,a,u,p){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(o,a,u,p){return new LO(o,a,u,p)}function Kp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function IO(o){if(typeof o=="function")return Kp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===X)return 11;if(o===W)return 14}return 2}function Vo(o,a){var u=o.alternate;return u===null?(u=Dr(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function xd(o,a,u,p,y,S){var A=2;if(p=o,typeof o=="function")Kp(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case B:return qi(u.children,y,S,a);case z:A=8,y|=8;break;case Q:return o=Dr(12,u,a,y|2),o.elementType=Q,o.lanes=S,o;case D:return o=Dr(13,u,a,y),o.elementType=D,o.lanes=S,o;case M:return o=Dr(19,u,a,y),o.elementType=M,o.lanes=S,o;case H:return Sd(u,y,S,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case oe:A=10;break e;case L:A=9;break e;case X:A=11;break e;case W:A=14;break e;case j:A=16,p=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Dr(A,u,a,y),a.elementType=o,a.type=p,a.lanes=S,a}function qi(o,a,u,p){return o=Dr(7,o,p,a),o.lanes=u,o}function Sd(o,a,u,p){return o=Dr(22,o,p,a),o.elementType=H,o.lanes=u,o.stateNode={isHidden:!1},o}function Gp(o,a,u){return o=Dr(6,o,null,a),o.lanes=u,o}function Xp(o,a,u){return a=Dr(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function MO(o,a,u,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Yp(o,a,u,p,y,S,A,V,Y){return o=new MO(o,a,u,V,Y),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Dr(3,null,null,a),o.current=S,S.stateNode=o,S.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(S),o}function DO(o,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:o,containerInfo:a,implementation:u}}function Dw(o){if(!o)return Mo;o=o._reactInternals;e:{if(cr(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var u=o.type;if(Qn(u))return dy(o,u,a)}return a}function $w(o,a,u,p,y,S,A,V,Y){return o=Yp(u,p,!0,o,y,S,A,V,Y),o.context=Dw(null),u=o.current,p=Vn(),y=qo(u),S=no(p,y),S.callback=a??null,Bo(u,S,y),o.current.lanes=y,Gs(o,y,p),nr(o,p),o}function _d(o,a,u,p){var y=a.current,S=Vn(),A=qo(y);return u=Dw(u),a.context===null?a.context=u:a.pendingContext=u,a=no(S,A),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Bo(y,a,A),o!==null&&(Jr(o,y,A,S),ed(o,y,A)),A}function Ed(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Bw(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function Zp(o,a){Bw(o,a),(o=o.alternate)&&Bw(o,a)}function $O(){return null}var zw=typeof reportError=="function"?reportError:function(o){console.error(o)};function Jp(o){this._internalRoot=o}Cd.prototype.render=Jp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));_d(o,a,null,null)},Cd.prototype.unmount=Jp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;zi(function(){_d(null,o,null,null)}),a[Zs]=null}};function Cd(o){this._internalRoot=o}Cd.prototype.unstable_scheduleHydration=function(o){if(o){var a=wa();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Zn.length&&a!==0&&a<Zn[u].priority;u++);Zn.splice(u,0,o),u===0&&Ti(o)}};function Qp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Nd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Uw(){}function BO(o,a,u,p,y){if(y){if(typeof p=="function"){var S=p;p=function(){var ie=Ed(A);S.call(ie)}}var A=$w(a,p,o,0,null,!1,!1,"",Uw);return o._reactRootContainer=A,o[Zs]=A.current,sc(o.nodeType===8?o.parentNode:o),zi(),A}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var ie=Ed(Y);V.call(ie)}}var Y=Yp(o,0,!1,null,null,!1,!1,"",Uw);return o._reactRootContainer=Y,o[Zs]=Y.current,sc(o.nodeType===8?o.parentNode:o),zi(function(){_d(a,Y,u,p)}),Y}function kd(o,a,u,p,y){var S=u._reactRootContainer;if(S){var A=S;if(typeof y=="function"){var V=y;y=function(){var Y=Ed(A);V.call(Y)}}_d(a,A,o,y)}else A=BO(u,a,o,y,p);return Ed(A)}Ar=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var u=kr(a.pendingLanes);u!==0&&(Vr(a,u|1),nr(a,bt()),(dt&6)===0&&(Ua=bt()+500,Do()))}break;case 13:zi(function(){var p=to(o,1);if(p!==null){var y=Vn();Jr(p,o,1,y)}}),Zp(o,1)}},Ni=function(o){if(o.tag===13){var a=to(o,134217728);if(a!==null){var u=Vn();Jr(a,o,134217728,u)}Zp(o,134217728)}},dr=function(o){if(o.tag===13){var a=qo(o),u=to(o,a);if(u!==null){var p=Vn();Jr(u,o,a,p)}Zp(o,a)}},wa=function(){return Xe},ba=function(o,a){var u=Xe;try{return Xe=o,a()}finally{Xe=u}},Gt=function(o,a,u){switch(a){case"input":if(Ct(o,u),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==o&&p.form===o.form){var y=Hu(p);if(!y)throw Error(n(90));Ee(p),Ct(p,y)}}}break;case"textarea":Qt(o,u);break;case"select":a=u.value,a!=null&&Vt(o,!!u.multiple,a,!1)}},_e=Hp,ye=zi;var zO={usingClientEntryPoint:!1,Events:[ac,Oa,Hu,te,he,Hp]},xc={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UO={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=So(o),o===null?null:o.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||$O,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ur=Od.inject(UO),An=Od}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zO,rr.createPortal=function(o,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(a))throw Error(n(200));return DO(o,a,null,u)},rr.createRoot=function(o,a){if(!Qp(o))throw Error(n(299));var u=!1,p="",y=zw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Yp(o,1,!1,null,null,u,!1,p,y),o[Zs]=a.current,sc(o.nodeType===8?o.parentNode:o),new Jp(a)},rr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=So(a),o=o===null?null:o.stateNode,o},rr.flushSync=function(o){return zi(o)},rr.hydrate=function(o,a,u){if(!Nd(a))throw Error(n(200));return kd(null,o,a,!0,u)},rr.hydrateRoot=function(o,a,u){if(!Qp(o))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,y=!1,S="",A=zw;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),a=$w(a,null,o,1,u??null,y,!1,S,A),o[Zs]=a.current,sc(o),p)for(o=0;o<p.length;o++)u=p[o],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Cd(a)},rr.render=function(o,a,u){if(!Nd(a))throw Error(n(200));return kd(null,o,a,!1,u)},rr.unmountComponentAtNode=function(o){if(!Nd(o))throw Error(n(40));return o._reactRootContainer?(zi(function(){kd(null,null,o,!1,function(){o._reactRootContainer=null,o[Zs]=null})}),!0):!1},rr.unstable_batchedUpdates=Hp,rr.unstable_renderSubtreeIntoContainer=function(o,a,u,p){if(!Nd(u))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return kd(o,a,u,!1,p)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var Xw;function US(){if(Xw)return ng.exports;Xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=QO(),ng.exports}var Yw;function eT(){if(Yw)return Td;Yw=1;var t=US();return Td.createRoot=t.createRoot,Td.hydrateRoot=t.hydrateRoot,Td}var tT=eT();function FS(t,e){return function(){return t.apply(e,arguments)}}const{toString:nT}=Object.prototype,{getPrototypeOf:Ov}=Object,{iterator:Qf,toStringTag:qS}=Symbol,eh=(t=>e=>{const n=nT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hs=t=>(t=t.toLowerCase(),e=>eh(e)===t),th=t=>e=>typeof e===t,{isArray:zl}=Array,Gc=th("undefined");function yu(t){return t!==null&&!Gc(t)&&t.constructor!==null&&!Gc(t.constructor)&&or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HS=hs("ArrayBuffer");function rT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HS(t.buffer),e}const sT=th("string"),or=th("function"),VS=th("number"),wu=t=>t!==null&&typeof t=="object",oT=t=>t===!0||t===!1,df=t=>{if(eh(t)!=="object")return!1;const e=Ov(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(qS in t)&&!(Qf in t)},iT=t=>{if(!wu(t)||yu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},aT=hs("Date"),lT=hs("File"),cT=hs("Blob"),uT=hs("FileList"),dT=t=>wu(t)&&or(t.pipe),fT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||or(t.append)&&((e=eh(t))==="formdata"||e==="object"&&or(t.toString)&&t.toString()==="[object FormData]"))},hT=hs("URLSearchParams"),[pT,gT,mT,vT]=["ReadableStream","Request","Response","Headers"].map(hs),yT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),zl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(yu(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let c;for(r=0;r<l;r++)c=i[r],e.call(null,t[c],c,t)}}function WS(t,e){if(yu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KS=t=>!Gc(t)&&t!==Zi;function am(){const{caseless:t}=KS(this)&&this||{},e={},n=(r,s)=>{const i=t&&WS(e,s)||s;df(e[i])&&df(r)?e[i]=am(e[i],r):df(r)?e[i]=am({},r):zl(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&bu(arguments[r],n);return e}const wT=(t,e,n,{allOwnKeys:r}={})=>(bu(e,(s,i)=>{n&&or(s)?t[i]=FS(s,n):t[i]=s},{allOwnKeys:r}),t),bT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ST=(t,e,n,r)=>{let s,i,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)l=s[i],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Ov(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_T=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ET=t=>{if(!t)return null;if(zl(t))return t;let e=t.length;if(!VS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},CT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ov(Uint8Array)),NT=(t,e)=>{const r=(t&&t[Qf]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},kT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},OT=hs("HTMLFormElement"),TT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Zw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AT=hs("RegExp"),GS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};bu(n,(s,i)=>{let l;(l=e(s,i,t))!==!1&&(r[i]=l||s)}),Object.defineProperties(t,r)},PT=t=>{GS(t,(e,n)=>{if(or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RT=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return zl(t)?r(t):r(String(t).split(e)),n},jT=()=>{},LT=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function IT(t){return!!(t&&or(t.append)&&t[qS]==="FormData"&&t[Qf])}const MT=t=>{const e=new Array(10),n=(r,s)=>{if(wu(r)){if(e.indexOf(r)>=0)return;if(yu(r))return r;if(!("toJSON"in r)){e[s]=r;const i=zl(r)?[]:{};return bu(r,(l,c)=>{const d=n(l,s+1);!Gc(d)&&(i[c]=d)}),e[s]=void 0,i}}return r};return n(t,0)},DT=hs("AsyncFunction"),$T=t=>t&&(wu(t)||or(t))&&or(t.then)&&or(t.catch),XS=((t,e)=>t?setImmediate:e?((n,r)=>(Zi.addEventListener("message",({source:s,data:i})=>{s===Zi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Zi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",or(Zi.postMessage)),BT=typeof queueMicrotask<"u"?queueMicrotask.bind(Zi):typeof process<"u"&&process.nextTick||XS,zT=t=>t!=null&&or(t[Qf]),ue={isArray:zl,isArrayBuffer:HS,isBuffer:yu,isFormData:fT,isArrayBufferView:rT,isString:sT,isNumber:VS,isBoolean:oT,isObject:wu,isPlainObject:df,isEmptyObject:iT,isReadableStream:pT,isRequest:gT,isResponse:mT,isHeaders:vT,isUndefined:Gc,isDate:aT,isFile:lT,isBlob:cT,isRegExp:AT,isFunction:or,isStream:dT,isURLSearchParams:hT,isTypedArray:CT,isFileList:uT,forEach:bu,merge:am,extend:wT,trim:yT,stripBOM:bT,inherits:xT,toFlatObject:ST,kindOf:eh,kindOfTest:hs,endsWith:_T,toArray:ET,forEachEntry:NT,matchAll:kT,isHTMLForm:OT,hasOwnProperty:Zw,hasOwnProp:Zw,reduceDescriptors:GS,freezeMethods:PT,toObjectSet:RT,toCamelCase:TT,noop:jT,toFiniteNumber:LT,findKey:WS,global:Zi,isContextDefined:KS,isSpecCompliantForm:IT,toJSONObject:MT,isAsyncFn:DT,isThenable:$T,setImmediate:XS,asap:BT,isIterable:zT};function Ge(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ue.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const YS=Ge.prototype,ZS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZS[t]={value:t}});Object.defineProperties(Ge,ZS);Object.defineProperty(YS,"isAxiosError",{value:!0});Ge.from=(t,e,n,r,s,i)=>{const l=Object.create(YS);return ue.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Ge.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const UT=null;function lm(t){return ue.isPlainObject(t)||ue.isArray(t)}function JS(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function Jw(t,e,n){return t?t.concat(e).map(function(s,i){return s=JS(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function FT(t){return ue.isArray(t)&&!t.some(lm)}const qT=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function nh(t,e,n){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!ue.isUndefined(_[x])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(ue.isDate(w))return w.toISOString();if(ue.isBoolean(w))return w.toString();if(!d&&ue.isBlob(w))throw new Ge("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(w)||ue.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,x,_){let C=w;if(w&&!_&&typeof w=="object"){if(ue.endsWith(x,"{}"))x=r?x:x.slice(0,-2),w=JSON.stringify(w);else if(ue.isArray(w)&&FT(w)||(ue.isFileList(w)||ue.endsWith(x,"[]"))&&(C=ue.toArray(w)))return x=JS(x),C.forEach(function(O,k){!(ue.isUndefined(O)||O===null)&&e.append(l===!0?Jw([x],k,i):l===null?x:x+"[]",f(O))}),!1}return lm(w)?!0:(e.append(Jw(_,x,i),f(w)),!1)}const g=[],m=Object.assign(qT,{defaultVisitor:h,convertValue:f,isVisitable:lm});function v(w,x){if(!ue.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(w),ue.forEach(w,function(C,T){(!(ue.isUndefined(C)||C===null)&&s.call(e,C,ue.isString(T)?T.trim():T,x,m))===!0&&v(C,x?x.concat(T):[T])}),g.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Qw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Tv(t,e){this._pairs=[],t&&nh(t,this,e)}const QS=Tv.prototype;QS.append=function(e,n){this._pairs.push([e,n])};QS.toString=function(e){const n=e?function(r){return e.call(this,r,Qw)}:Qw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function HT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e_(t,e,n){if(!e)return t;const r=n&&n.encode||HT;ue.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=ue.isURLSearchParams(e)?e.toString():new Tv(e,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class eb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(r){r!==null&&e(r)})}}const t_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VT=typeof URLSearchParams<"u"?URLSearchParams:Tv,WT=typeof FormData<"u"?FormData:null,KT=typeof Blob<"u"?Blob:null,GT={isBrowser:!0,classes:{URLSearchParams:VT,FormData:WT,Blob:KT},protocols:["http","https","file","blob","url","data"]},Av=typeof window<"u"&&typeof document<"u",cm=typeof navigator=="object"&&navigator||void 0,XT=Av&&(!cm||["ReactNative","NativeScript","NS"].indexOf(cm.product)<0),YT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZT=Av&&window.location.href||"http://localhost",JT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Av,hasStandardBrowserEnv:XT,hasStandardBrowserWebWorkerEnv:YT,navigator:cm,origin:ZT},Symbol.toStringTag,{value:"Module"})),Mn={...JT,...GT};function QT(t,e){return nh(t,new Mn.classes.URLSearchParams,{visitor:function(n,r,s,i){return Mn.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function eA(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tA(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function n_(t){function e(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=i>=n.length;return l=!l&&ue.isArray(s)?s.length:l,d?(ue.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!ue.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],i)&&ue.isArray(s[l])&&(s[l]=tA(s[l])),!c)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const n={};return ue.forEachEntry(t,(r,s)=>{e(eA(r),s,n,0)}),n}return null}function nA(t,e,n){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xu={transitional:t_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ue.isObject(e);if(i&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return s?JSON.stringify(n_(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return QT(e,this.formSerializer).toString();if((c=ue.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return nh(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),nA(e)):e}],transformResponse:[function(e){const n=this.transitional||xu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Ge.from(c,Ge.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{xu.headers[t]={}});const rA=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sA=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&rA[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tb=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function ff(t){return t===!1||t==null?t:ue.isArray(t)?t.map(ff):String(t)}function oA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function og(t,e,n,r,s){if(ue.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ue.isString(e)){if(ue.isString(r))return e.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(e)}}function aA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function lA(t,e){const n=ue.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,l){return this[r].call(this,e,s,i,l)},configurable:!0})})}let ir=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(c,d,f){const h=_c(d);if(!h)throw new Error("header name must be a non-empty string");const g=ue.findKey(s,h);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||d]=ff(c))}const l=(c,d)=>ue.forEach(c,(f,h)=>i(f,h,d));if(ue.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ue.isString(e)&&(e=e.trim())&&!iA(e))l(sA(e),n);else if(ue.isObject(e)&&ue.isIterable(e)){let c={},d,f;for(const h of e){if(!ue.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(d=c[f])?ue.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}l(c,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=_c(e),e){const r=ue.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return oA(s);if(ue.isFunction(n))return n.call(this,s,r);if(ue.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_c(e),e){const r=ue.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||og(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(l){if(l=_c(l),l){const c=ue.findKey(r,l);c&&(!n||og(r,r[c],c,n))&&(delete r[c],s=!0)}}return ue.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||og(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return ue.forEach(this,(s,i)=>{const l=ue.findKey(r,i);if(l){n[l]=ff(s),delete n[i];return}const c=e?aA(i):String(i).trim();c!==i&&delete n[i],n[c]=ff(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ue.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[tb]=this[tb]={accessors:{}}).accessors,s=this.prototype;function i(l){const c=_c(l);r[c]||(lA(s,l),r[c]=!0)}return ue.isArray(e)?e.forEach(i):i(e),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(ir.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ue.freezeMethods(ir);function ig(t,e){const n=this||xu,r=e||n,s=ir.from(r.headers);let i=r.data;return ue.forEach(t,function(c){i=c.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function r_(t){return!!(t&&t.__CANCEL__)}function Ul(t,e,n){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,e,n),this.name="CanceledError"}ue.inherits(Ul,Ge,{__CANCEL__:!0});function s_(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uA(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),h=r[i];l||(l=f),n[s]=d,r[s]=f;let g=i,m=0;for(;g!==s;)m+=n[g++],g=g%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-l<e)return;const v=h&&f-h;return v?Math.round(m*1e3/v):void 0}}function dA(t,e){let n=0,r=1e3/e,s,i;const l=(f,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const h=Date.now(),g=h-n;g>=r?l(f,h):(s=f,i||(i=setTimeout(()=>{i=null,l(s)},r-g)))},()=>s&&l(s)]}const Ef=(t,e,n=3)=>{let r=0;const s=uA(50,250);return dA(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,d=l-r,f=s(d),h=l<=c;r=l;const g={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&h?(c-l)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(g)},n)},nb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rb=t=>(...e)=>ue.asap(()=>t(...e)),fA=Mn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Mn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,hA=Mn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const l=[t+"="+encodeURIComponent(e)];ue.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ue.isString(r)&&l.push("path="+r),ue.isString(s)&&l.push("domain="+s),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function o_(t,e,n){let r=!pA(e);return t&&(r||n==!1)?gA(t,e):e}const sb=t=>t instanceof ir?{...t}:t;function ra(t,e){e=e||{};const n={};function r(f,h,g,m){return ue.isPlainObject(f)&&ue.isPlainObject(h)?ue.merge.call({caseless:m},f,h):ue.isPlainObject(h)?ue.merge({},h):ue.isArray(h)?h.slice():h}function s(f,h,g,m){if(ue.isUndefined(h)){if(!ue.isUndefined(f))return r(void 0,f,g,m)}else return r(f,h,g,m)}function i(f,h){if(!ue.isUndefined(h))return r(void 0,h)}function l(f,h){if(ue.isUndefined(h)){if(!ue.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function c(f,h,g){if(g in e)return r(f,h);if(g in t)return r(void 0,f)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,h,g)=>s(sb(f),sb(h),g,!0)};return ue.forEach(Object.keys({...t,...e}),function(h){const g=d[h]||s,m=g(t[h],e[h],h);ue.isUndefined(m)&&g!==c||(n[h]=m)}),n}const i_=t=>{const e=ra({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:c}=e;e.headers=l=ir.from(l),e.url=e_(o_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(ue.isFormData(n)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...h]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Mn.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(e)),r||r!==!1&&fA(e.url))){const f=s&&i&&hA.read(i);f&&l.set(s,f)}return e},mA=typeof XMLHttpRequest<"u",vA=mA&&function(t){return new Promise(function(n,r){const s=i_(t);let i=s.data;const l=ir.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,h,g,m,v,w;function x(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function C(){if(!_)return;const O=ir.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:O,config:t,request:_};s_(function(B){n(B),x()},function(B){r(B),x()},P),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new Ge("Request aborted",Ge.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new Ge("Network Error",Ge.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||t_;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new Ge(k,P.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,_)),_=null},i===void 0&&l.setContentType(null),"setRequestHeader"in _&&ue.forEach(l.toJSON(),function(k,P){_.setRequestHeader(P,k)}),ue.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),c&&c!=="json"&&(_.responseType=s.responseType),f&&([m,w]=Ef(f,!0),_.addEventListener("progress",m)),d&&_.upload&&([g,v]=Ef(d),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=O=>{_&&(r(!O||O.type?new Ul(null,t,_):O),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const T=cA(s.url);if(T&&Mn.protocols.indexOf(T)===-1){r(new Ge("Unsupported protocol "+T+":",Ge.ERR_BAD_REQUEST,t));return}_.send(i||null)})},yA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(f){if(!s){s=!0,c();const h=f instanceof Error?f:this.reason;r.abort(h instanceof Ge?h:new Ul(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,i(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>ue.asap(c),d}},wA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},bA=async function*(t,e){for await(const n of xA(t))yield*wA(n,e)},xA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ob=(t,e,n,r)=>{const s=bA(t,e);let i=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await s.next();if(f){c(),d.close();return}let g=h.byteLength;if(n){let m=i+=g;n(m)}d.enqueue(new Uint8Array(h))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},rh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=rh&&typeof ReadableStream=="function",SA=rh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),l_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_A=a_&&l_(()=>{let t=!1;const e=new Request(Mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ib=64*1024,um=a_&&l_(()=>ue.isReadableStream(new Response("").body)),Cf={stream:um&&(t=>t.body)};rh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cf[e]&&(Cf[e]=ue.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,r)})})})(new Response);const EA=async t=>{if(t==null)return 0;if(ue.isBlob(t))return t.size;if(ue.isSpecCompliantForm(t))return(await new Request(Mn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(t)||ue.isArrayBuffer(t))return t.byteLength;if(ue.isURLSearchParams(t)&&(t=t+""),ue.isString(t))return(await SA(t)).byteLength},CA=async(t,e)=>{const n=ue.toFiniteNumber(t.getContentLength());return n??EA(e)},NA=rh&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:h,withCredentials:g="same-origin",fetchOptions:m}=i_(t);f=f?(f+"").toLowerCase():"text";let v=yA([s,i&&i.toAbortSignal()],l),w;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let _;try{if(d&&_A&&n!=="get"&&n!=="head"&&(_=await CA(h,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),U;if(ue.isFormData(r)&&(U=P.headers.get("content-type"))&&h.setContentType(U),P.body){const[B,z]=nb(_,Ef(rb(d)));r=ob(P.body,ib,B,z)}}ue.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{...m,signal:v,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:C?g:void 0});let T=await fetch(w,m);const O=um&&(f==="stream"||f==="response");if(um&&(c||O&&x)){const P={};["status","statusText","headers"].forEach(Q=>{P[Q]=T[Q]});const U=ue.toFiniteNumber(T.headers.get("content-length")),[B,z]=c&&nb(U,Ef(rb(c),!0))||[];T=new Response(ob(T.body,ib,B,()=>{z&&z(),x&&x()}),P)}f=f||"text";let k=await Cf[ue.findKey(Cf,f)||"text"](T,t);return!O&&x&&x(),await new Promise((P,U)=>{s_(P,U,{data:k,headers:ir.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:w})})}catch(C){throw x&&x(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,w),{cause:C.cause||C}):Ge.from(C,C&&C.code,t,w)}}),dm={http:UT,xhr:vA,fetch:NA};ue.forEach(dm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ab=t=>`- ${t}`,kA=t=>ue.isFunction(t)||t===null||t===!1,c_={getAdapter:t=>{t=ue.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let l;if(r=n,!kA(n)&&(r=dm[(l=String(n)).toLowerCase()],r===void 0))throw new Ge(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?i.length>1?`since :
`+i.map(ab).join(`
`):" "+ab(i[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:dm};function ag(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ul(null,t)}function lb(t){return ag(t),t.headers=ir.from(t.headers),t.data=ig.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(t.adapter||xu.adapter)(t).then(function(r){return ag(t),r.data=ig.call(t,t.transformResponse,r),r.headers=ir.from(r.headers),r},function(r){return r_(r)||(ag(t),r&&r.response&&(r.response.data=ig.call(t,t.transformResponse,r.response),r.response.headers=ir.from(r.response.headers))),Promise.reject(r)})}const u_="1.11.0",sh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const cb={};sh.transitional=function(e,n,r){function s(i,l){return"[Axios v"+u_+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(e===!1)throw new Ge(s(l," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!cb[l]&&(cb[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,l,c):!0}};sh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function OA(t,e,n){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],l=e[i];if(l){const c=t[i],d=c===void 0||l(c,i,t);if(d!==!0)throw new Ge("option "+i+" must be "+d,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+i,Ge.ERR_BAD_OPTION)}}const hf={assertOptions:OA,validators:sh},ks=hf.validators;let Qi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eb,response:new eb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ra(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&hf.assertOptions(r,{silentJSONParsing:ks.transitional(ks.boolean),forcedJSONParsing:ks.transitional(ks.boolean),clarifyTimeoutError:ks.transitional(ks.boolean)},!1),s!=null&&(ue.isFunction(s)?n.paramsSerializer={serialize:s}:hf.assertOptions(s,{encode:ks.function,serialize:ks.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hf.assertOptions(n,{baseUrl:ks.spelling("baseURL"),withXsrfToken:ks.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&ue.merge(i.common,i[n.method]);i&&ue.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),n.headers=ir.concat(l,i);const c=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(d=d&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let h,g=0,m;if(!d){const w=[lb.bind(this),void 0];for(w.unshift(...c),w.push(...f),m=w.length,h=Promise.resolve(n);g<m;)h=h.then(w[g++],w[g++]);return h}m=c.length;let v=n;for(g=0;g<m;){const w=c[g++],x=c[g++];try{v=w(v)}catch(_){x.call(this,_);break}}try{h=lb.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,m=f.length;g<m;)h=h.then(f[g++],f[g++]);return h}getUri(e){e=ra(this.defaults,e);const n=o_(e.baseURL,e.url,e.allowAbsoluteUrls);return e_(n,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Qi.prototype[e]=function(n,r){return this.request(ra(r||{},{method:e,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function n(r){return function(i,l,c){return this.request(ra(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Qi.prototype[e]=n(),Qi.prototype[e+"Form"]=n(!0)});let TA=class d_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},e(function(i,l,c){r.reason||(r.reason=new Ul(i,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new d_(function(s){e=s}),cancel:e}}};function AA(t){return function(n){return t.apply(null,n)}}function PA(t){return ue.isObject(t)&&t.isAxiosError===!0}const fm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fm).forEach(([t,e])=>{fm[e]=t});function f_(t){const e=new Qi(t),n=FS(Qi.prototype.request,e);return ue.extend(n,Qi.prototype,e,{allOwnKeys:!0}),ue.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return f_(ra(t,s))},n}const Ze=f_(xu);Ze.Axios=Qi;Ze.CanceledError=Ul;Ze.CancelToken=TA;Ze.isCancel=r_;Ze.VERSION=u_;Ze.toFormData=nh;Ze.AxiosError=Ge;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=AA;Ze.isAxiosError=PA;Ze.mergeConfig=ra;Ze.AxiosHeaders=ir;Ze.formToJSON=t=>n_(ue.isHTMLForm(t)?new FormData(t):t);Ze.getAdapter=c_.getAdapter;Ze.HttpStatusCode=fm;Ze.default=Ze;const{Axios:kH,AxiosError:OH,CanceledError:TH,isCancel:AH,CancelToken:PH,VERSION:RH,all:jH,Cancel:LH,isAxiosError:IH,spread:MH,toFormData:DH,AxiosHeaders:$H,HttpStatusCode:BH,formToJSON:zH,getAdapter:UH,mergeConfig:FH}=Ze;function ub(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function h_(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ub(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ub(t[s],null)}}}}function Ht(...t){return N.useCallback(h_(...t),t)}function kl(t){const e=RA(t),n=N.forwardRef((r,s)=>{const{children:i,...l}=r,c=N.Children.toArray(i),d=c.find(LA);if(d){const f=d.props.children,h=c.map(g=>g===d?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:g);return b.jsx(e,{...l,ref:s,children:N.isValidElement(f)?N.cloneElement(f,void 0,h):null})}return b.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var p_=kl("Slot");function RA(t){const e=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const l=MA(s),c=IA(i,s.props);return s.type!==N.Fragment&&(c.ref=r?h_(r,l):l),N.cloneElement(s,c)}return N.Children.count(s)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jA=Symbol("radix.slottable");function LA(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jA}function IA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function MA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function g_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=g_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function m_(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=g_(t))&&(r&&(r+=" "),r+=e);return r}const db=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fb=m_,v_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return fb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(f=>{const h=n==null?void 0:n[f],g=i==null?void 0:i[f];if(h===null)return null;const m=db(h)||db(g);return s[f][m]}),c=n&&Object.entries(n).reduce((f,h)=>{let[g,m]=h;return m===void 0||(f[g]=m),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:g,className:m,...v}=h;return Object.entries(v).every(w=>{let[x,_]=w;return Array.isArray(_)?_.includes({...i,...c}[x]):{...i,...c}[x]===_})?[...f,g,m]:f},[]);return fb(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},Pv="-",DA=t=>{const e=BA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Pv);return c[0]===""&&c.length!==1&&c.shift(),y_(c,e)||$A(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},y_=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?y_(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Pv);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},hb=/^\[(.+)\]$/,$A=t=>{if(hb.test(t)){const e=hb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BA=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)hm(n[s],r,s,e);return r},hm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:pb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(zA(s)){hm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{hm(l,pb(e,i),n,r)})})},pb=(t,e)=>{let n=t;return e.split(Pv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zA=t=>t.isThemeGetter,UA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},pm="!",gm=":",FA=gm.length,qA=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let l=0,c=0,d=0,f;for(let w=0;w<s.length;w++){let x=s[w];if(l===0&&c===0){if(x===gm){i.push(s.slice(d,w)),d=w+FA;continue}if(x==="/"){f=w;continue}}x==="["?l++:x==="]"?l--:x==="("?c++:x===")"&&c--}const h=i.length===0?s:s.substring(d),g=HA(h),m=g!==h,v=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const s=e+gm,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},HA=t=>t.endsWith(pm)?t.substring(0,t.length-1):t.startsWith(pm)?t.substring(1):t,VA=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},WA=t=>({cache:UA(t.cacheSize),parseClassName:qA(t),sortModifiers:VA(t),...DA(t)}),KA=/\s+/,GA=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],c=t.trim().split(KA);let d="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{isExternal:g,modifiers:m,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}=n(h);if(g){d=h+(d.length>0?" "+d:d);continue}let _=!!x,C=r(_?w.substring(0,x):w);if(!C){if(!_){d=h+(d.length>0?" "+d:d);continue}if(C=r(w),!C){d=h+(d.length>0?" "+d:d);continue}_=!1}const T=i(m).join(":"),O=v?T+pm:T,k=O+C;if(l.includes(k))continue;l.push(k);const P=s(C,_);for(let U=0;U<P.length;++U){const B=P[U];l.push(O+B)}d=h+(d.length>0?" "+d:d)}return d};function XA(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=w_(e))&&(r&&(r+=" "),r+=n);return r}const w_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=w_(t[r]))&&(n&&(n+=" "),n+=e);return n};function YA(t,...e){let n,r,s,i=l;function l(d){const f=e.reduce((h,g)=>g(h),t());return n=WA(f),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const f=r(d);if(f)return f;const h=GA(d,n);return s(d,h),h}return function(){return i(XA.apply(null,arguments))}}const cn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},b_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZA=/^\d+\/\d+$/,JA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qa=t=>ZA.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),Ko=t=>!!t&&Number.isInteger(Number(t)),lg=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),oo=t=>JA.test(t),rP=()=>!0,sP=t=>QA.test(t)&&!eP.test(t),S_=()=>!1,oP=t=>tP.test(t),iP=t=>nP.test(t),aP=t=>!Re(t)&&!je(t),lP=t=>Fl(t,C_,S_),Re=t=>b_.test(t),Hi=t=>Fl(t,N_,sP),cg=t=>Fl(t,hP,Ye),gb=t=>Fl(t,__,S_),cP=t=>Fl(t,E_,iP),Ad=t=>Fl(t,k_,oP),je=t=>x_.test(t),Ec=t=>ql(t,N_),uP=t=>ql(t,pP),mb=t=>ql(t,__),dP=t=>ql(t,C_),fP=t=>ql(t,E_),Pd=t=>ql(t,k_,!0),Fl=(t,e,n)=>{const r=b_.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ql=(t,e,n=!1)=>{const r=x_.exec(t);return r?r[1]?e(r[1]):n:!1},__=t=>t==="position"||t==="percentage",E_=t=>t==="image"||t==="url",C_=t=>t==="length"||t==="size"||t==="bg-size",N_=t=>t==="length",hP=t=>t==="number",pP=t=>t==="family-name",k_=t=>t==="shadow",gP=()=>{const t=cn("color"),e=cn("font"),n=cn("text"),r=cn("font-weight"),s=cn("tracking"),i=cn("leading"),l=cn("breakpoint"),c=cn("container"),d=cn("spacing"),f=cn("radius"),h=cn("shadow"),g=cn("inset-shadow"),m=cn("text-shadow"),v=cn("drop-shadow"),w=cn("blur"),x=cn("perspective"),_=cn("aspect"),C=cn("ease"),T=cn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...k(),je,Re],U=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],z=()=>[je,Re,d],Q=()=>[qa,"full","auto",...z()],oe=()=>[Ko,"none","subgrid",je,Re],L=()=>["auto",{span:["full",Ko,je,Re]},Ko,je,Re],X=()=>[Ko,"auto",je,Re],D=()=>["auto","min","max","fr",je,Re],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...z()],H=()=>[qa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],R=()=>[t,je,Re],F=()=>[...k(),mb,gb,{position:[je,Re]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",dP,lP,{size:[je,Re]}],K=()=>[lg,Ec,Hi],ee=()=>["","none","full",f,je,Re],se=()=>["",Ye,Ec,Hi],ce=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Ye,lg,mb,gb],ae=()=>["","none",w,je,Re],ge=()=>["none",Ye,je,Re],le=()=>["none",Ye,je,Re],xe=()=>[Ye,je,Re],Ee=()=>[qa,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oo],breakpoint:[oo],color:[rP],container:[oo],"drop-shadow":[oo],ease:["in","out","in-out"],font:[aP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oo],shadow:[oo],spacing:["px",Ye],text:[oo],"text-shadow":[oo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qa,Re,je,_]}],container:["container"],columns:[{columns:[Ye,Re,je,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ko,"auto",je,Re]}],basis:[{basis:[qa,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,qa,"auto","initial","none",Re]}],grow:[{grow:["",Ye,je,Re]}],shrink:[{shrink:["",Ye,je,Re]}],order:[{order:[Ko,"first","last","none",je,Re]}],"grid-cols":[{"grid-cols":oe()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":oe()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,Ec,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lg,Re]}],"font-family":[{font:[uP,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,je,Re]}],"line-clamp":[{"line-clamp":[Ye,"none",je,cg]}],leading:[{leading:[i,...z()]}],"list-image":[{"list-image":["none",je,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",je,Hi]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ye,"auto",je,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ko,je,Re],radial:["",je,Re],conic:[Ko,je,Re]},fP,cP]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,je,Re]}],"outline-w":[{outline:["",Ye,Ec,Hi]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",h,Pd,Ad]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",g,Pd,Ad]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ye,Hi]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",m,Pd,Ad]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ye,je,Re]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[je,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Re]}],filter:[{filter:["","none",je,Re]}],blur:[{blur:ae()}],brightness:[{brightness:[Ye,je,Re]}],contrast:[{contrast:[Ye,je,Re]}],"drop-shadow":[{"drop-shadow":["","none",v,Pd,Ad]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ye,je,Re]}],"hue-rotate":[{"hue-rotate":[Ye,je,Re]}],invert:[{invert:["",Ye,je,Re]}],saturate:[{saturate:[Ye,je,Re]}],sepia:[{sepia:["",Ye,je,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Re]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,je,Re]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,je,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,je,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,je,Re]}],"backdrop-invert":[{"backdrop-invert":["",Ye,je,Re]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,je,Re]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,je,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,je,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",je,Re]}],ease:[{ease:["linear","initial",C,je,Re]}],delay:[{delay:[Ye,je,Re]}],animate:[{animate:["none",T,je,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,je,Re]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[je,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Re]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ye,Ec,Hi,cg]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mP=YA(gP);function It(...t){return mP(m_(t))}const vP=v_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-orange-500 text-white shadow-xs hover:bg-orange-600",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function lt({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?p_:"button";return b.jsx(i,{"data-slot":"button",className:It(vP({variant:e,size:n,className:t})),...s})}function rs({className:t,type:e,...n}){return b.jsx("input",{type:e,"data-slot":"input",className:It("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Su=US();const yP=vu(Su);var wP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=wP.reduce((t,e)=>{const n=kl(`Primitive.${e}`),r=N.forwardRef((s,i)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function bP(t,e){t&&Su.flushSync(()=>t.dispatchEvent(e))}var xP="Label",O_=N.forwardRef((t,e)=>b.jsx(ht.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));O_.displayName=xP;var SP=O_;function yn({className:t,...e}){return b.jsx(SP,{"data-slot":"label",className:It("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Xc({className:t,...e}){return b.jsx("div",{"data-slot":"card",className:It("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Nf({className:t,...e}){return b.jsx("div",{"data-slot":"card-header",className:It("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function kf({className:t,...e}){return b.jsx("div",{"data-slot":"card-title",className:It("leading-none font-semibold",t),...e})}function vb({className:t,...e}){return b.jsx("div",{"data-slot":"card-description",className:It("text-muted-foreground text-sm",t),...e})}function Yc({className:t,...e}){return b.jsx("div",{"data-slot":"card-content",className:It("px-6",t),...e})}function ct(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function _P(t,e){const n=N.createContext(e),r=i=>{const{children:l,...c}=i,d=N.useMemo(()=>c,Object.values(c));return b.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(i){const l=N.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Hl(t,e=[]){let n=[];function r(i,l){const c=N.createContext(l),d=n.length;n=[...n,l];const f=g=>{var C;const{scope:m,children:v,...w}=g,x=((C=m==null?void 0:m[t])==null?void 0:C[d])||c,_=N.useMemo(()=>w,Object.values(w));return b.jsx(x.Provider,{value:_,children:v})};f.displayName=i+"Provider";function h(g,m){var x;const v=((x=m==null?void 0:m[t])==null?void 0:x[d])||c,w=N.useContext(v);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=n.map(l=>N.createContext(l));return function(c){const d=(c==null?void 0:c[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,EP(s,...e)]}function EP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(i)[`__scope${f}`];return{...c,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function T_(t){const e=t+"CollectionProvider",[n,r]=Hl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:_,children:C}=x,T=fe.useRef(null),O=fe.useRef(new Map).current;return b.jsx(s,{scope:_,itemMap:O,collectionRef:T,children:C})};l.displayName=e;const c=t+"CollectionSlot",d=kl(c),f=fe.forwardRef((x,_)=>{const{scope:C,children:T}=x,O=i(c,C),k=Ht(_,O.collectionRef);return b.jsx(d,{ref:k,children:T})});f.displayName=c;const h=t+"CollectionItemSlot",g="data-radix-collection-item",m=kl(h),v=fe.forwardRef((x,_)=>{const{scope:C,children:T,...O}=x,k=fe.useRef(null),P=Ht(_,k),U=i(h,C);return fe.useEffect(()=>(U.itemMap.set(k,{ref:k,...O}),()=>void U.itemMap.delete(k))),b.jsx(m,{[g]:"",ref:P,children:T})});v.displayName=h;function w(x){const _=i(t+"CollectionConsumer",x);return fe.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const O=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((U,B)=>O.indexOf(U.ref.current)-O.indexOf(B.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},w,r]}var Bn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},CP=zS[" useId ".trim().toString()]||(()=>{}),NP=0;function ai(t){const[e,n]=N.useState(CP());return Bn(()=>{n(r=>r??String(NP++))},[t]),t||(e?`radix-${e}`:"")}function ci(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var kP=zS[" useInsertionEffect ".trim().toString()]||Bn;function Zc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,l]=OP({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const h=N.useRef(t!==void 0);N.useEffect(()=>{const g=h.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,r])}const f=N.useCallback(h=>{var g;if(c){const m=TP(h)?h(t):h;m!==t&&((g=l.current)==null||g.call(l,m))}else i(h)},[c,t,i,l]);return[d,f]}function OP({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),s=N.useRef(n),i=N.useRef(e);return kP(()=>{i.current=e},[e]),N.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function TP(t){return typeof t=="function"}var AP=N.createContext(void 0);function Rv(t){const e=N.useContext(AP);return t||e||"ltr"}var ug="rovingFocusGroup.onEntryFocus",PP={bubbles:!1,cancelable:!0},_u="RovingFocusGroup",[mm,A_,RP]=T_(_u),[jP,P_]=Hl(_u,[RP]),[LP,IP]=jP(_u),R_=N.forwardRef((t,e)=>b.jsx(mm.Provider,{scope:t.__scopeRovingFocusGroup,children:b.jsx(mm.Slot,{scope:t.__scopeRovingFocusGroup,children:b.jsx(MP,{...t,ref:e})})}));R_.displayName=_u;var MP=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...g}=t,m=N.useRef(null),v=Ht(e,m),w=Rv(i),[x,_]=Zc({prop:l,defaultProp:c??null,onChange:d,caller:_u}),[C,T]=N.useState(!1),O=ci(f),k=A_(n),P=N.useRef(!1),[U,B]=N.useState(0);return N.useEffect(()=>{const z=m.current;if(z)return z.addEventListener(ug,O),()=>z.removeEventListener(ug,O)},[O]),b.jsx(LP,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:N.useCallback(z=>_(z),[_]),onItemShiftTab:N.useCallback(()=>T(!0),[]),onFocusableItemAdd:N.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:N.useCallback(()=>B(z=>z-1),[]),children:b.jsx(ht.div,{tabIndex:C||U===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:ct(t.onMouseDown,()=>{P.current=!0}),onFocus:ct(t.onFocus,z=>{const Q=!P.current;if(z.target===z.currentTarget&&Q&&!C){const oe=new CustomEvent(ug,PP);if(z.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const L=k().filter(j=>j.focusable),X=L.find(j=>j.active),D=L.find(j=>j.id===x),W=[X,D,...L].filter(Boolean).map(j=>j.ref.current);I_(W,h)}}P.current=!1}),onBlur:ct(t.onBlur,()=>T(!1))})})}),j_="RovingFocusGroupItem",L_=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...c}=t,d=ai(),f=i||d,h=IP(j_,n),g=h.currentTabStopId===f,m=A_(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:x}=h;return N.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),b.jsx(mm.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:b.jsx(ht.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...c,ref:e,onMouseDown:ct(t.onMouseDown,_=>{r?h.onItemFocus(f):_.preventDefault()}),onFocus:ct(t.onFocus,()=>h.onItemFocus(f)),onKeyDown:ct(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=BP(_,h.orientation,h.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let O=m().filter(k=>k.focusable).map(k=>k.ref.current);if(C==="last")O.reverse();else if(C==="prev"||C==="next"){C==="prev"&&O.reverse();const k=O.indexOf(_.currentTarget);O=h.loop?zP(O,k+1):O.slice(k+1)}setTimeout(()=>I_(O))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:x!=null}):l})})});L_.displayName=j_;var DP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $P(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function BP(t,e,n){const r=$P(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DP[r]}function I_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zP(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UP=R_,FP=L_;function qP(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Eu=t=>{const{present:e,children:n}=t,r=HP(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Ht(r.ref,VP(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};Eu.displayName="Presence";function HP(t){const[e,n]=N.useState(),r=N.useRef(null),s=N.useRef(t),i=N.useRef("none"),l=t?"mounted":"unmounted",[c,d]=qP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Rd(r.current);i.current=c==="mounted"?f:"none"},[c]),Bn(()=>{const f=r.current,h=s.current;if(h!==t){const m=i.current,v=Rd(f);t?d("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Bn(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,g=v=>{const x=Rd(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(d("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=v=>{v.target===e&&(i.current=Rd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Rd(t){return(t==null?void 0:t.animationName)||"none"}function VP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oh="Tabs",[WP,qH]=Hl(oh,[P_]),M_=P_(),[KP,jv]=WP(oh),D_=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=t,h=Rv(c),[g,m]=Zc({prop:r,onChange:s,defaultProp:i??"",caller:oh});return b.jsx(KP,{scope:n,baseId:ai(),value:g,onValueChange:m,orientation:l,dir:h,activationMode:d,children:b.jsx(ht.div,{dir:h,"data-orientation":l,...f,ref:e})})});D_.displayName=oh;var $_="TabsList",B_=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=jv($_,n),l=M_(n);return b.jsx(UP,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:b.jsx(ht.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});B_.displayName=$_;var z_="TabsTrigger",U_=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,l=jv(z_,n),c=M_(n),d=H_(l.baseId,r),f=V_(l.baseId,r),h=r===l.value;return b.jsx(FP,{asChild:!0,...c,focusable:!s,active:h,children:b.jsx(ht.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:e,onMouseDown:ct(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:ct(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:ct(t.onFocus,()=>{const g=l.activationMode!=="manual";!h&&!s&&g&&l.onValueChange(r)})})})});U_.displayName=z_;var F_="TabsContent",q_=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=t,c=jv(F_,n),d=H_(c.baseId,r),f=V_(c.baseId,r),h=r===c.value,g=N.useRef(h);return N.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),b.jsx(Eu,{present:s||h,children:({present:m})=>b.jsx(ht.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:f,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:m&&i})})});q_.displayName=F_;function H_(t,e){return`${t}-trigger-${e}`}function V_(t,e){return`${t}-content-${e}`}var GP=D_,XP=B_,YP=U_,ZP=q_;function JP({className:t,...e}){return b.jsx(GP,{"data-slot":"tabs",className:It("flex flex-col gap-2",t),...e})}function QP({className:t,...e}){return b.jsx(XP,{"data-slot":"tabs-list",className:It("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function yb({className:t,...e}){return b.jsx(YP,{"data-slot":"tabs-trigger",className:It("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function wb({className:t,...e}){return b.jsx(ZP,{"data-slot":"tabs-content",className:It("flex-1 outline-none",t),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bb=t=>{const e=tR(t);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),nR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},d)=>N.createElement("svg",{ref:d,...rR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:W_("lucide",s),...!i&&!nR(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,h])=>N.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(sR,{ref:i,iconNode:e,className:W_(`lucide-${eR(bb(t))}`,`lucide-${t}`,r),...s}));return n.displayName=bb(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vm=vt("arrow-left",oR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ym=vt("book-open",iR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],K_=vt("brain",aR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cR=vt("check",lR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G_=vt("chevron-down",uR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fR=vt("chevron-up",dR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pR=vt("circle",hR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],X_=vt("clock",gR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],vR=vt("cloud-off",mR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xb=vt("cloud",yR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bR=vt("download",wR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ti=vt("file-text",xR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Y_=vt("file-up",SR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wm=vt("history",_R);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],CR=vt("lightbulb",ER);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],kR=vt("log-out",NR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lv=vt("plus",OR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AR=vt("save",TR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],RR=vt("school",PR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LR=vt("settings",jR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Z_=vt("sparkles",IR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Sb=vt("square",MR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$R=vt("target",DR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],zR=vt("test-tube",BR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],J_=vt("trash-2",UR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Q_=vt("upload",FR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_b=vt("user",qR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Eb=vt("users",HR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eE=vt("x",VR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cb=vt("zap",WR),KR="https://nexus-backend-f2td.onrender.com";Ze.defaults.baseURL=KR;Ze.defaults.withCredentials=!0;const Nb=["Math","Science","History","Art","Computer Science","English"],kb=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),Ob=t=>t.length>=6,Tb=t=>t.trim().length>=2;function GR({isOpen:t,onClose:e,onAuthSuccess:n}){const[r,s]=N.useState(!1),[i,l]=N.useState(""),[c,d]=N.useState({}),[f,h]=N.useState({email:"",password:""}),[g,m]=N.useState({name:"",email:"",password:"",school:"",classes:[],confirmPassword:""}),v=N.useMemo(()=>{const B={};return g.name&&!Tb(g.name)&&(B.name="Name must be at least 2 characters"),g.email&&!kb(g.email)&&(B.email="Please enter a valid email address"),g.password&&!Ob(g.password)&&(B.password="Password must be at least 6 characters"),g.confirmPassword&&g.password!==g.confirmPassword&&(B.confirmPassword="Passwords do not match"),g.school&&g.school.trim().length<2&&(B.school="School name must be at least 2 characters"),B},[g]),w=N.useMemo(()=>Tb(g.name)&&kb(g.email)&&Ob(g.password)&&g.password===g.confirmPassword&&g.school.trim().length>=2&&g.classes.length>0&&Object.keys(v).length===0,[g,v]),x=(B,z)=>{B&&(localStorage.setItem("user",JSON.stringify(B)),B.access_token&&(Ze.defaults.headers.common.Authorization=`Bearer ${B.access_token}`)),console.log("Authentication successful:",z),e(),n&&typeof n=="function"&&n(B),setTimeout(()=>{window.location.reload()},100)},_=N.useCallback((B,z)=>{h(Q=>({...Q,[B]:z})),i&&l("")},[i]),C=N.useCallback((B,z)=>{m(Q=>({...Q,[B]:z})),i&&l(""),c[B]&&d(Q=>{const oe={...Q};return delete oe[B],oe})},[i,c]),T=async B=>{var z,Q,oe,L;B.preventDefault(),s(!0),l("");try{const X=await Ze.post("/login",{email:f.email,password:f.password},{headers:{"Content-Type":"application/json"},withCredentials:!0});X.data.success?(x(X.data.user,X.data.message||"Login successful"),h({email:"",password:""})):l(X.data.message||"Login failed")}catch(X){console.error("Login error:",X),l(((Q=(z=X.response)==null?void 0:z.data)==null?void 0:Q.error)||((L=(oe=X.response)==null?void 0:oe.data)==null?void 0:L.message)||"Login failed")}s(!1)},O=async B=>{var z,Q,oe,L;if(B.preventDefault(),!w){d(v),g.classes.length===0&&l("Please select at least one class");return}s(!0),l(""),d({});try{const X=await Ze.post("/signup",{name:g.name.trim(),email:g.email,password:g.password,school:g.school.trim(),classes:g.classes},{headers:{"Content-Type":"application/json"},withCredentials:!0});X.data.success?(alert(X.data.message||"Account created successfully!"),x(X.data.user,X.data.message||"Account created successfully"),m({name:"",email:"",password:"",school:"",classes:[],confirmPassword:""})):l(X.data.message||"Signup failed")}catch(X){console.error("Signup error:",X),l(((Q=(z=X.response)==null?void 0:z.data)==null?void 0:Q.error)||((L=(oe=X.response)==null?void 0:oe.data)==null?void 0:L.message)||"Failed to create account. Please try again.")}s(!1)},k=N.useCallback(B=>{m(z=>({...z,classes:z.classes.includes(B)?z.classes.filter(Q=>Q!==B):[...z.classes,B]})),i&&l("")},[i]),P=N.useCallback(()=>{m(B=>({...B,classes:[...Nb]})),i&&l("")},[]),U=N.useCallback(()=>{m(B=>({...B,classes:[]}))},[]);return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 relative max-h-[90vh] overflow-y-auto",children:[b.jsx(lt,{variant:"ghost",size:"sm",className:"absolute top-2 right-2",onClick:e,children:b.jsx(eE,{className:"h-4 w-4"})}),b.jsxs(JP,{defaultValue:"login",className:"w-full",children:[b.jsxs(QP,{className:"grid w-full grid-cols-2",children:[b.jsx(yb,{value:"login",children:"Login"}),b.jsx(yb,{value:"signup",children:"Sign Up"})]}),b.jsx(wb,{value:"login",children:b.jsxs(Xc,{children:[b.jsxs(Nf,{children:[b.jsx(kf,{children:"Login"}),b.jsx(vb,{children:"Enter your credentials to access your account"})]}),b.jsx(Yc,{children:b.jsxs("form",{onSubmit:T,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"login-email",children:"Email"}),b.jsx(rs,{id:"login-email",type:"email",value:f.email,onChange:B=>_("email",B.target.value),required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"login-password",children:"Password"}),b.jsx(rs,{id:"login-password",type:"password",value:f.password,onChange:B=>_("password",B.target.value),required:!0})]}),i&&b.jsx("p",{className:"text-red-500 text-sm",children:i}),b.jsx(lt,{type:"submit",className:"w-full",disabled:r,children:r?"Logging in...":"Login"})]})})]})}),b.jsx(wb,{value:"signup",children:b.jsxs(Xc,{children:[b.jsxs(Nf,{children:[b.jsx(kf,{children:"Create Account"}),b.jsx(vb,{children:"Fill in your information to create a new account"})]}),b.jsx(Yc,{children:b.jsxs("form",{onSubmit:O,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"signup-name",children:"Full Name"}),b.jsx(rs,{id:"signup-name",value:g.name,onChange:B=>C("name",B.target.value),required:!0,className:c.name?"border-red-500":""}),c.name&&b.jsx("p",{className:"text-red-500 text-xs",children:c.name})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"signup-email",children:"Email"}),b.jsx(rs,{id:"signup-email",type:"email",value:g.email,onChange:B=>C("email",B.target.value),required:!0,className:c.email?"border-red-500":""}),c.email&&b.jsx("p",{className:"text-red-500 text-xs",children:c.email})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"signup-school",children:"School"}),b.jsx(rs,{id:"signup-school",value:g.school,onChange:B=>C("school",B.target.value),required:!0,className:c.school?"border-red-500":""}),c.school&&b.jsx("p",{className:"text-red-500 text-xs",children:c.school})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(yn,{children:["Classes (",g.classes.length," selected)"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(lt,{type:"button",variant:"outline",size:"sm",onClick:P,className:"text-xs",children:"All"}),b.jsx(lt,{type:"button",variant:"outline",size:"sm",onClick:U,className:"text-xs",children:"Clear"})]})]}),b.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto p-2 border rounded",children:Nb.map(B=>b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[b.jsx("input",{type:"checkbox",checked:g.classes.includes(B),onChange:()=>k(B),className:"rounded"}),b.jsx("span",{className:"text-sm",children:B})]},B))}),g.classes.length===0&&i&&b.jsx("p",{className:"text-red-500 text-xs",children:"Please select at least one class"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"signup-password",children:"Password"}),b.jsx(rs,{id:"signup-password",type:"password",value:g.password,onChange:B=>C("password",B.target.value),required:!0,className:c.password?"border-red-500":""}),c.password&&b.jsx("p",{className:"text-red-500 text-xs",children:c.password})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),b.jsx(rs,{id:"signup-confirm-password",type:"password",value:g.confirmPassword,onChange:B=>C("confirmPassword",B.target.value),required:!0,className:c.confirmPassword?"border-red-500":""}),c.confirmPassword&&b.jsx("p",{className:"text-red-500 text-xs",children:c.confirmPassword})]}),i&&b.jsx("p",{className:"text-red-500 text-sm",children:i}),b.jsx(lt,{type:"submit",className:"w-full",disabled:r||!w,children:r?"Creating Account...":"Create Account"}),!w&&b.jsx("p",{className:"text-gray-500 text-xs text-center",children:"Please fill all fields correctly to create account"})]})})]})})]})]})}):null}const XR=v_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function YR({className:t,variant:e,asChild:n=!1,...r}){const s=n?p_:"span";return b.jsx(s,{"data-slot":"badge",className:It(XR({variant:e}),t),...r})}const ZR="modulepreload",JR=function(t){return"/"+t},Ab={},Cu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(f=>{if(f=JR(f),f in Ab)return;Ab[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":ZR,h||(m.as="script"),m.crossOrigin="",m.href=f,d&&m.setAttribute("nonce",d),document.head.appendChild(m),h)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},QR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cu(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Iv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ej extends Iv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pb extends Iv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rb extends Iv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bm||(bm={}));var tj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class nj{constructor(e,{headers:n={},customFetch:r,region:s=bm.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=QR(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return tj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h}).catch(x=>{throw new ej(x)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Pb(g);if(!g.ok)throw new Rb(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield g.json():v==="application/octet-stream"?w=yield g.blob():v==="text/event-stream"?w=g:v==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof Rb||s instanceof Pb?s.context:void 0}}})}}var vn={},Ha={},Va={},Wa={},Ka={},Ga={},rj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ol=rj();const sj=Ol.fetch,tE=Ol.fetch.bind(Ol),nE=Ol.Headers,oj=Ol.Request,ij=Ol.Response,Vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nE,Request:oj,Response:ij,default:tE,fetch:sj},Symbol.toStringTag,{value:"Module"})),aj=KO(Vl);var jd={},jb;function rE(){if(jb)return jd;jb=1,Object.defineProperty(jd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jd.default=t,jd}var Lb;function sE(){if(Lb)return Ga;Lb=1;var t=Ga&&Ga.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ga,"__esModule",{value:!0});const e=t(aj),n=t(rE());class r{constructor(i){var l,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,g,m,v;let w=null,x=null,_=null,C=f.status,T=f.statusText;if(f.ok){if(this.method!=="HEAD"){const U=await f.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?x=U:x=JSON.parse(U))}const k=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,_=null,C=406,T="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await f.text();try{w=JSON.parse(k),Array.isArray(w)&&f.status===404&&(x=[],w=null,C=200,T="OK")}catch{f.status===404&&k===""?(C=204,T="No Content"):w={message:k}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,C=200,T="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:x,count:_,status:C,statusText:T}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,g,m;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=f==null?void 0:f.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}}return Ga.default=r,Ga}var Ib;function oE(){if(Ib)return Ka;Ib=1;var t=Ka&&Ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ka,"__esModule",{value:!0});const e=t(sE());class n extends e.default{select(s){let i=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var h;const g=[s?"analyze":null,i?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${m}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ka.default=n,Ka}var Mb;function Mv(){if(Mb)return Wa;Mb=1;var t=Wa&&Wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wa,"__esModule",{value:!0});const e=t(oE());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${f}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return Wa.default=n,Wa}var Db;function iE(){if(Db)return Va;Db=1;var t=Va&&Va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Va,"__esModule",{value:!0});const e=t(Mv());class n{constructor(s,{headers:i={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=l,this.fetch=c}select(s,{head:i=!1,count:l}={}){const c=i?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:l=!0}={}){var c;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:i}={}){var l;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var i;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Va.default=n,Va}var $b;function lj(){if($b)return Ha;$b=1;var t=Ha&&Ha.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ha,"__esModule",{value:!0});const e=t(iE()),n=t(Mv());class r{constructor(i,{headers:l={},schema:c,fetch:d}={}){this.url=i,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(i){const l=new URL(`${this.url}/${i}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:c=!1,get:d=!1,count:f}={}){var h;let g;const m=new URL(`${this.url}/rpc/${i}`);let v;c||d?(g=c?"HEAD":"GET",Object.entries(l).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{m.searchParams.append(x,_)})):(g="POST",v=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:g,url:m,headers:w,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ha.default=r,Ha}var Bb;function cj(){if(Bb)return vn;Bb=1;var t=vn&&vn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vn,"__esModule",{value:!0}),vn.PostgrestError=vn.PostgrestBuilder=vn.PostgrestTransformBuilder=vn.PostgrestFilterBuilder=vn.PostgrestQueryBuilder=vn.PostgrestClient=void 0;const e=t(lj());vn.PostgrestClient=e.default;const n=t(iE());vn.PostgrestQueryBuilder=n.default;const r=t(Mv());vn.PostgrestFilterBuilder=r.default;const s=t(oE());vn.PostgrestTransformBuilder=s.default;const i=t(sE());vn.PostgrestBuilder=i.default;const l=t(rE());return vn.PostgrestError=l.default,vn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:l.default},vn}var uj=cj();const dj=vu(uj),{PostgrestClient:fj,PostgrestQueryBuilder:HH,PostgrestFilterBuilder:VH,PostgrestTransformBuilder:WH,PostgrestBuilder:KH,PostgrestError:GH}=dj;class hj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pj="2.15.1",gj=`realtime-js/${pj}`,mj="1.0.0",xm=1e4,vj=1e3,yj=100;var zc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zc||(zc={}));var un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(un||(un={}));var ss;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ss||(ss={}));var Sm;(function(t){t.websocket="websocket"})(Sm||(Sm={}));var Yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yi||(Yi={}));class wj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+i));l=l+i;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}let aE=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var _t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_t||(_t={}));const zb=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,l)=>(i[l]=bj(l,t,e,s),i),{})},bj=(t,e,n,r)=>{const s=e.find(c=>c.name===t),i=s==null?void 0:s.type,l=n[t];return i&&!r.includes(i)?lE(i,l):_m(l)},lE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ej(e,n)}switch(t){case _t.bool:return xj(e);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return Sj(e);case _t.json:case _t.jsonb:return _j(e);case _t.timestamp:return Cj(e);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return _m(e);default:return _m(e)}},_m=t=>t,xj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_j=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ej=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const l=t.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>lE(e,c))}return t},Cj=t=>typeof t=="string"?t.replace(" ","T"):t,cE=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dg{constructor(e,n,r={},s=xm){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ub;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ub||(Ub={}));class Uc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uc.syncState(this.state,s,i,l),this.pendingDiffs.forEach(d=>{this.state=Uc.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Uc.syncDiff(this.state,s,i,l),c())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(i,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const g=i[f];if(g){const m=h.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),w=h.filter(_=>v.indexOf(_.presence_ref)<0),x=g.filter(_=>m.indexOf(_.presence_ref)<0);w.length>0&&(c[f]=w),x.length>0&&(d[f]=x)}else c[f]=h}),this.syncDiff(i,{joins:c,leaves:d},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,d)=>{var f;const h=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),h.length>0){const g=e[c].map(v=>v.presence_ref),m=h.filter(v=>g.indexOf(v.presence_ref)<0);e[c].unshift(...m)}r(c,h,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const h=d.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=f,s(c,f,d),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fb||(Fb={}));var Fc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fc||(Fc={}));var co;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(co||(co={}));class Dv{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dg(this,ss.join,this.params,this.timeout),this.rejoinTimer=new aE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ss.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Uc(this),this.broadcastEndpointURL=cE(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Fc.PRESENCE]&&this.bindings[Fc.PRESENCE].length>0,h={},g={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(co.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(co.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(co.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,_=[];for(let C=0;C<x;C++){const T=w[C],{filter:{event:O,schema:k,table:P,filter:U}}=T,B=m&&m[C];if(B&&B.event===O&&B.schema===k&&B.table===P&&B.filter===U)_.push(Object.assign(Object.assign({},T),{id:B.id}));else{this.unsubscribe(),this.state=un.errored,e==null||e(co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(co.SUBSCRIBED);return}}).receive("error",m=>{this.state=un.errored,e==null||e(co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===un.joined&&e===Fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ss.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new dg(this,ss.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=un.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:h}=ss;if(r&&[c,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let m=this._onMessage(l,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,_;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(v=>v.callback(m,r)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var w,x,_,C,T,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const k=v.id,P=(w=v.filter)===null||w===void 0?void 0:w.event;return k&&((x=n.ids)===null||x===void 0?void 0:x.includes(k))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(T=(C=v==null?void 0:v.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return k==="*"||k===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:_,commit_timestamp:C,type:T,errors:O}=w;m=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:C,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(w))}v.callback(m,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Dv.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ss.close,{},e)}_onError(e){this._on(ss.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=zb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=zb(e.columns,e.old_record)),n}}const qb=()=>{},Ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nj=[1e3,2e3,5e3,1e4],kj=1e4,Oj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tj{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xm,this.transport=null,this.heartbeatIntervalMs=Ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qb,this.ref=0,this.reconnectTimer=null,this.logger=qb,this.conn=null,this.sendBuffer=[],this.serializer=new wj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>Cu(async()=>{const{default:c}=await Promise.resolve().then(()=>Vl);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sm.websocket}`,this.httpEndpoint=cE(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mj}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zc.connecting:return Yi.Connecting;case zc.open:return Yi.Open;case zc.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Dv(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:l}=n,c=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ss.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Oj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:gj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ss.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new aE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,l,c,d,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:xm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ld.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(h=>Nj[h-1]||kj),this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((h,g)=>g(JSON.stringify(h))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $v extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Aj extends $v{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Em extends $v{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Pj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const uE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cu(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Rj=()=>Pj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cu(()=>Promise.resolve().then(()=>Vl),void 0)).Response:Response}),Cm=t=>{if(Array.isArray(t))return t.map(n=>Cm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cm(r)}),e},jj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const fg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lj=(t,e,n)=>fa(void 0,void 0,void 0,function*(){const r=yield Rj();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new Aj(fg(s),i,l))}).catch(s=>{e(new Em(fg(s),s))}):e(new Em(fg(t),t))}),Ij=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(jj(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Nu(t,e,n,r,s,i){return fa(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Ij(e,r,s,i)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Lj(d,c,r))})})}function Of(t,e,n,r){return fa(this,void 0,void 0,function*(){return Nu(t,"GET",e,n,r)})}function Ts(t,e,n,r,s){return fa(this,void 0,void 0,function*(){return Nu(t,"POST",e,r,s,n)})}function Nm(t,e,n,r,s){return fa(this,void 0,void 0,function*(){return Nu(t,"PUT",e,r,s,n)})}function Mj(t,e,n,r){return fa(this,void 0,void 0,function*(){return Nu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dE(t,e,n,r,s){return fa(this,void 0,void 0,function*(){return Nu(t,"DELETE",e,r,s,n)})}var Wn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const Dj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $j{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=uE(s)}uploadOrUpdate(e,n,r,s){return Wn(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Hb),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),g=yield(e=="PUT"?Nm:Ts)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Wn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Wn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Hb.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const g=yield Nm(this.fetch,c.toString(),d,{headers:h});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(dn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return Wn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+i.url),c=l.searchParams.get("token");if(!c)throw new $v("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Wn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Wn(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Wn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Wn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ts(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Wn(this,void 0,void 0,function*(){try{const s=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}download(e,n){return Wn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Of(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(dn(c))return{data:null,error:c};throw c}})}info(e){return Wn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Of(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cm(r),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}exists(e){return Wn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Mj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dn(r)&&r instanceof Em){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(e){return Wn(this,void 0,void 0,function*(){try{return{data:yield dE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Wn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dj),n),{prefix:e||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}listV2(e,n){return Wn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Bj="2.11.0",zj={"X-Client-Info":`storage-js/${Bj}`};var Xa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class Uj{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},zj),n),this.fetch=uE(r)}listBuckets(){return Xa(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dn(e))return{data:null,error:e};throw e}})}getBucket(e){return Xa(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Xa(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Xa(this,void 0,void 0,function*(){try{return{data:yield Nm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Xa(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Xa(this,void 0,void 0,function*(){try{return{data:yield dE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}}class Fj extends Uj{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new $j(this.url,this.headers,e,this.fetch)}}const qj="2.56.0";let Rc="";typeof Deno<"u"?Rc="deno":typeof document<"u"?Rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rc="react-native":Rc="node";const Hj={"X-Client-Info":`supabase-js-${Rc}/${qj}`},Vj={headers:Hj},Wj={schema:"public"},Kj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gj={};var Xj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};const Yj=t=>{let e;return t?e=t:typeof fetch>"u"?e=tE:e=fetch,(...n)=>e(...n)},Zj=()=>typeof Headers>"u"?nE:Headers,Jj=(t,e,n)=>{const r=Yj(n),s=Zj();return(i,l)=>Xj(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(i,Object.assign(Object.assign({},l),{headers:f}))})};var Qj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};function eL(t){return t.endsWith("/")?t:t+"/"}function tL(t,e){var n,r;const{db:s,auth:i,realtime:l,global:c}=t,{db:d,auth:f,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Qj(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const fE="2.71.1",al=30*1e3,km=3,hg=km*al,nL="http://localhost:9999",rL="supabase.auth.token",sL={"X-Client-Info":`gotrue-js/${fE}`},Om="X-Supabase-Api-Version",hE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iL=600*1e3;class Bv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aL extends Bv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lL(t){return Ke(t)&&t.name==="AuthApiError"}class pE extends Bv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class hi extends Bv{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Yo extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cL(t){return Ke(t)&&t.name==="AuthSessionMissingError"}class Id extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Md extends hi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends hi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uL(t){return Ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vb extends hi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tm extends hi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pg(t){return Ke(t)&&t.name==="AuthRetryableFetchError"}class Wb extends hi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Am extends hi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kb=` 	
\r=`.split(""),dL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kb.length;e+=1)t[Kb[e].charCodeAt(0)]=-2;for(let e=0;e<Tf.length;e+=1)t[Tf[e].charCodeAt(0)]=e;return t})();function Gb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tf[r]),e.queuedBits-=6}}function gE(t,e,n){const r=dL[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xb(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{pL(l,r,n)};for(let l=0;l<t.length;l+=1)gE(t.charCodeAt(l),s,i);return e.join("")}function fL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fL(r,e)}}function pL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function gL(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)gE(t.charCodeAt(s),n,r);return new Uint8Array(e)}function mL(t){const e=[];return hL(t,n=>e.push(n)),new Uint8Array(e)}function vL(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Gb(s,n,r)),Gb(null,n,r),e.join("")}function yL(t){return Math.round(Date.now()/1e3)+t}function wL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const es=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},mE=()=>{if(!es())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function bL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const vE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Cu(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ll=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Go=async(t,e)=>{await t.removeItem(e)};class ih{constructor(){this.promise=new ih.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ih.promiseConstructor=Promise;function gg(t){const e=t.split(".");if(e.length!==3)throw new Am("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!oL.test(e[r]))throw new Am("JWT not in base64url format");return{header:JSON.parse(Xb(e[0])),payload:JSON.parse(Xb(e[1])),signature:gL(e[2]),raw:{header:e[0],payload:e[1]}}}async function SL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _L(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){r(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function EL(t){return("0"+t.toString(16)).substr(-2)}function CL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,EL).join("")}async function NL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await NL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ya(t,e,n=!1){const r=CL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ll(t,`${e}-code-verifier`,s);const i=await kL(r);return[i,r===i?"plain":"s256"]}const OL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TL(t){const e=t.headers.get(Om);if(!e||!e.match(OL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(t){if(!RL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yb(t){return JSON.parse(JSON.stringify(t))}var jL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LL=[502,503,504];async function Zb(t){var e;if(!xL(t))throw new Tm(Gi(t),0);if(LL.includes(t.status))throw new Tm(Gi(t),t.status);let n;try{n=await t.json()}catch(i){throw new pE(Gi(i),i)}let r;const s=TL(t);if(s&&s.getTime()>=hE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wb(Gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Wb(Gi(n),t.status,n.weak_password.reasons);throw new aL(Gi(n),t.status||500,r)}const IL=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function et(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Om]||(i[Om]=hE["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await ML(t,e,n+c,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function ML(t,e,n,r,s,i){const l=IL(e,r,s,i);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new Tm(Gi(d),0)}if(c.ok||await Zb(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Zb(d)}}function lo(t){var e;let n=null;zL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Jb(t){const e=lo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DL(t){return{data:t,error:null}}function $L(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,l=jL(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function BL(t){return t}function zL(t){return t.access_token&&t.refresh_token&&t.expires_in}const vg=["global","local","others"];var UL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class FL{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=vg[0]){if(vg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vg.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ni})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=UL(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$L,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:BL});if(h.error)throw h.error;const g=await h.json(),m=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);f[`${_}Page`]=x}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Za(e);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Za(e);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ni})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Za(e);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ni})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Za(e.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Za(e.userId),Za(e.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function Qb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function qL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ja={debug:!!(globalThis&&mE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HL extends yE{}async function VL(t,e,n){Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ja.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qL();const WL={url:nL,storageKey:rL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function e1(t,e,n){return await n()}const Qa={};class Jc{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jc.nextInstanceID,Jc.nextInstanceID+=1,this.instanceID>0&&es()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},WL),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new FL({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vE(s.fetch),this.lock=s.lock||e1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:es()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=VL:this.lock=e1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:mE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),es()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Qa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fE}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),es()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uL(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new pE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lo}),{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:g,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Ya(this.storage,this.storageKey)),i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:lo})}else if("phone"in e){const{phone:h,password:g,options:m}=e;i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:lo})}else throw new Md("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:l,options:c}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jb})}else if("phone"in e){const{phone:i,password:l,options:c}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jb})}else throw new Md("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Id}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,l,c,d,f,h,g,m,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:_,wallet:C,statement:T,options:O}=e;let k;if(es())if(typeof C=="object")k=C;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))k=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const P=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const U=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let B;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")B=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)B=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)w=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),x=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=O==null?void 0:O.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const U=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=U}}try{const{data:_,error:C}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vL(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:lo});if(C)throw C;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Id}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:C})}catch(_){if(Ke(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Wi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:l}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lo});if(await Go(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Id}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:l}=e,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lo}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Id}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Ya(this.storage,this.storageKey));const{error:g}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Md("You must provide either an email or phone number.")}catch(c){if(Ke(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lo});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Ya(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:DL})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yo;const{error:s}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:l,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Md("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Wi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=mg()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async n=>{var r,s,i;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yo}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ni})})}catch(n){if(Ke(n))return cL(n)&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Yo;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ya(this.storage,this.storageKey));const{data:f,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ni});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yo;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:l}=gg(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yo;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!es())throw new Dd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vb("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!i||!c||!l||!f)throw new Dd("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let m=h+g;d&&(m=parseInt(d));const v=m-h;v*1e3<=al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const w=m-g;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,h);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const C={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:m,refresh_token:l,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(lL(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=wL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ya(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var l,c,d,f,h;const{data:g,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return es()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)throw l;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _L(async s=>(s>0&&await SL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lo})),(s,i)=>{const l=200*Math.pow(2,s);return i&&pg(i)&&Date.now()+l-r<al})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),es()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Wi(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await ll(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:mg()}else if(s&&!s.user&&!s.user){const l=await Wi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Go(this.storage,this.storageKey+"-user"),await ll(this.storage,this.storageKey,s)):s.user=mg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),pg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ih;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Yo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),Ke(i)){const l={session:null,error:i};return pg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ll(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Yb(s);await ll(this.storage,this.storageKey,i)}else{const s=Yb(n);await ll(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Go(this.storage,this.storageKey),await Go(this.storage,this.storageKey+"-code-verifier"),await Go(this.storage,this.storageKey+"-user"),this.userStorage&&await Go(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&es()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),al);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${al}ms, refresh threshold is ${km} ticks`),s<=km&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!es()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await Ya(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:c}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gg(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+iL>s)return r;const{data:i,error:l}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:c,payload:d}}=gg(r);n!=null&&n.allowExpired||AL(i.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const h=PL(s.alg),g=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,mL(`${c}.${d}`)))throw new Am("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}Jc.nextInstanceID=0;const KL=Jc;class GL extends KL{constructor(e){super(e)}}var XL=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?i(h.value):s(h.value).then(c,d)}f((r=r.apply(t,e||[])).next())})};class YL{constructor(e,n,r){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=eL(e),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:Wj,realtime:Gj,auth:Object.assign(Object.assign({},Kj),{storageKey:f}),global:Vj},g=tL(r??{},h);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=Jj(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new fj(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Fj(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new nj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return XL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:l,lock:c,debug:d},f,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GL({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZL=(t,e,n)=>new YL(t,e,n);function JL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}JL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QL="https://gatsyrfkfmpxznriujpw.supabase.co",eI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhdHN5cmZrZm1weHpucml1anB3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNTE1MzQsImV4cCI6MjA2OTcyNzUzNH0.OgX_IF9e5B93pKJMQBbWvsRqawJmEkesB0fufk_nTBs",tI=ZL(QL,eI),wE=N.createContext(),ku=()=>{const t=N.useContext(wE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},nI=({children:t})=>{const[e,n]=N.useState(null),[r,s]=N.useState(!0);N.useEffect(()=>{(()=>{try{const h=localStorage.getItem("user");if(h){const g=JSON.parse(h);n(g)}}catch(h){console.error("Error parsing stored user data:",h),localStorage.removeItem("user")}s(!1)})();const f=h=>{if(h.key==="user")if(h.newValue)try{n(JSON.parse(h.newValue))}catch(g){console.error("Error parsing user data from storage event:",g),n(null)}else n(null)};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const c={user:e,loading:r,login:d=>{localStorage.setItem("user",JSON.stringify(d)),n(d)},logout:()=>{var d,f,h,g;localStorage.removeItem("user"),n(null),(g=(h=(f=(d=window.axios)==null?void 0:d.defaults)==null?void 0:f.headers)==null?void 0:h.common)==null||delete g.Authorization}};return b.jsx(wE.Provider,{value:c,children:t})},yg=10,rI="https://nexus-backend-f2td.onrender.com";Ze.defaults.baseURL=rI;function sI(){const{user:t}=ku(),[e,n]=N.useState([]),[r,s]=N.useState(!0),[i,l]=N.useState(!1),[c,d]=N.useState(0),[f,h]=N.useState(!0),[g,m]=N.useState(""),[v,w]=N.useState(""),[x,_]=N.useState(""),[C,T]=N.useState(!1),[O,k]=N.useState(null),[P,U]=N.useState(""),[B,z]=N.useState([]),Q=N.useRef(),oe=N.useCallback(async R=>{R===0?s(!0):l(!0);try{const F=R*yg,q=F+yg-1,{data:$,error:K}=await tI.from("projects").select(`
          *,
          users (
            name,
            school
          )
        `).order("created_at",{ascending:!1}).range(F,q);K?(console.error("Error fetching projects:",K),h(!1)):(n(ee=>[...ee,...$||[]]),h($.length===yg))}catch(F){console.error("Error fetching projects:",F),h(!1)}finally{s(!1),l(!1)}},[]);N.useEffect(()=>{oe(0)},[oe]);const L=N.useCallback(R=>{i||!f||(Q.current&&Q.current.disconnect(),Q.current=new IntersectionObserver(F=>{F[0].isIntersecting&&f&&d(q=>{const $=q+1;return oe($),$})}),R&&Q.current.observe(R))},[i,f,oe]),X=R=>new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),D=async R=>{if(!t){alert("Please log in to like posts.");return}try{const F=await Ze.post(`/api/posts/${R}/like`,{user_id:t.email},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token||""}`},withCredentials:!0});if(F.data.success){const q=F.data.like_count;n($=>$.map(K=>K.id===R?{...K,like_count:q}:K))}else alert(F.data.message||"Failed to like post.")}catch(F){console.error("Error liking post:",F),alert("Error liking post. Please try again.")}},M=async R=>{O===R?(k(null),z([])):(k(R),W(R))},W=async R=>{try{const F=await Ze.get(`/api/posts/${R}/comments`);F.data.success?z(F.data.comments):(console.error("Failed to fetch comments:",F.data.error),z([]))}catch(F){console.error("Error fetching comments:",F),z([])}},j=async R=>{if(!t){alert("Please log in to comment.");return}if(!P.trim()){alert("Comment cannot be empty.");return}try{const F=await Ze.post(`/api/posts/${R}/comments`,{comment_text:P.trim()},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token||""}`},withCredentials:!0});F.data.success?(U(""),W(R)):alert(F.data.error||"Failed to add comment.")}catch(F){console.error("Error adding comment:",F),alert("Error adding comment. Please try again.")}},H=async()=>{var R,F;if(!g.trim()||!v.trim()||!x.trim()){alert("Please fill in all fields");return}T(!0);try{(await Ze.post("/api/projects",{title:g.trim(),description:v.trim(),subject:x,access_level:"private",user_id:t.id||t.user_id||t.email,created_at:new Date().toISOString()},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token||""}`},withCredentials:!0})).data.success?(m(""),w(""),_(""),n([]),d(0),h(!0),oe(0)):(console.error("Failed to create post"),alert("Failed to create post. Please try again."))}catch(q){if(console.error("Error creating post:",q),q.response){const $=((R=q.response.data)==null?void 0:R.error)||((F=q.response.data)==null?void 0:F.message)||`Server error: ${q.response.status}`;alert($)}else q.request?alert("Unable to connect to server. Please check if the backend is running."):alert("Failed to create project. Please try again.")}finally{T(!1)}};return r&&c===0?b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsx("div",{className:"text-gray-500",children:"Loading projects..."})}):b.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4",children:[b.jsx("div",{className:"bg-white border rounded-lg p-4 mb-6 shadow-sm",children:b.jsxs("div",{className:"flex items-start space-x-3",children:[b.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:b.jsx(_b,{className:"h-5 w-5 text-gray-600"})}),b.jsxs("div",{className:"flex-1 space-y-3",children:[b.jsx("input",{type:"text",value:g,onChange:R=>m(R.target.value),placeholder:"Project title",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),b.jsx("textarea",{value:v,onChange:R=>w(R.target.value),placeholder:"Description",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"}),b.jsxs("select",{value:x,onChange:R=>_(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"",children:"Select subject"}),b.jsx("option",{value:"Math",children:"Math"}),b.jsx("option",{value:"Science",children:"Science"}),b.jsx("option",{value:"History",children:"History"}),b.jsx("option",{value:"Art",children:"Art"}),b.jsx("option",{value:"Computer Science",children:"Computer Science"}),b.jsx("option",{value:"English",children:"English"})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{onClick:H,disabled:!g.trim()||!v.trim()||!x.trim()||C,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:C?"Posting...":"Post"})})]})]})}),b.jsxs("div",{className:"space-y-4",children:[e.length===0&&!r?b.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No projects yet. Be the first to create one!"}):e.map((R,F)=>{var $,K;const q=e.length===F+1;return b.jsxs("div",{ref:q?L:null,className:"border rounded-lg p-3 hover:bg-gray-50 transition-colors bg-white shadow-sm",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("h3",{className:"font-semibold text-base text-gray-900",children:R.title}),b.jsx(YR,{variant:"secondary",className:"text-xs flex-shrink-0",children:R.subject})]}),b.jsx("p",{className:"text-sm text-gray-700 mb-3",children:R.content})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(_b,{className:"h-3 w-3"}),b.jsx("span",{children:(($=R.users)==null?void 0:$.name)||"Anonymous"})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(RR,{className:"h-3 w-3"}),b.jsx("span",{children:((K=R.users)==null?void 0:K.school)||"N/A"})]})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(X_,{className:"h-3 w-3"}),b.jsx("span",{children:X(R.created_at)})]})]}),b.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-3",children:[b.jsxs("button",{onClick:()=>D(R.id),className:"flex items-center space-x-1 text-xs text-gray-500 hover:text-orange-600",children:[b.jsx("span",{className:"font-medium",children:Math.floor(Math.random()*86)+15}),b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),b.jsx("span",{children:"Like"})]}),b.jsxs("button",{onClick:()=>M(R.id),className:"flex items-center space-x-1 text-xs text-gray-500 hover:text-orange-600",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 16h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),b.jsx("span",{children:"Comment"})]})]}),O===R.id&&b.jsxs("div",{className:"mt-4 border-t pt-4",children:[b.jsx("h4",{className:"font-semibold mb-2",children:"Comments"}),b.jsx("div",{className:"space-y-3",children:B.length===0?b.jsx("p",{className:"text-sm text-gray-500",children:"No comments yet. Be the first to comment!"}):B.map(ee=>{var se;return b.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg",children:[b.jsx("p",{className:"text-xs font-semibold text-gray-800",children:((se=ee.users)==null?void 0:se.name)||"Anonymous"}),b.jsx("p",{className:"text-sm text-gray-700",children:ee.comment_text}),b.jsx("p",{className:"text-xs text-gray-500 text-right",children:X(ee.created_at)})]},ee.id)})}),b.jsxs("div",{className:"mt-4 flex space-x-2",children:[b.jsx("input",{type:"text",value:P,onChange:ee=>U(ee.target.value),placeholder:"Add a comment...",className:"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),b.jsx("button",{onClick:()=>j(R.id),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm",children:"Post"})]})]})]},R.id)}),i&&b.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Loading more projects..."}),!f&&e.length>0&&b.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"You've reached the end!"})]})]})}function oI(){return b.jsx("div",{className:"min-h-screen bg-gray-50",children:b.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:b.jsx("div",{className:"grid grid-cols-1",children:b.jsx("div",{className:"lg:col-span-4",children:b.jsx(sI,{})})})})})}function iI(t,e=globalThis==null?void 0:globalThis.document){const n=ci(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aI="DismissableLayer",Pm="dismissableLayer.update",lI="dismissableLayer.pointerDownOutside",cI="dismissableLayer.focusOutside",t1,bE=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zv=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=t,f=N.useContext(bE),[h,g]=N.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=N.useState({}),w=Ht(e,B=>g(B)),x=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=x.indexOf(_),T=h?x.indexOf(h):-1,O=f.layersWithOutsidePointerEventsDisabled.size>0,k=T>=C,P=fI(B=>{const z=B.target,Q=[...f.branches].some(oe=>oe.contains(z));!k||Q||(s==null||s(B),l==null||l(B),B.defaultPrevented||c==null||c())},m),U=hI(B=>{const z=B.target;[...f.branches].some(oe=>oe.contains(z))||(i==null||i(B),l==null||l(B),B.defaultPrevented||c==null||c())},m);return iI(B=>{T===f.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},m),N.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(t1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),n1(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=t1)}},[h,m,n,f]),N.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),n1())},[h,f]),N.useEffect(()=>{const B=()=>v({});return document.addEventListener(Pm,B),()=>document.removeEventListener(Pm,B)},[]),b.jsx(ht.div,{...d,ref:w,style:{pointerEvents:O?k?"auto":"none":void 0,...t.style},onFocusCapture:ct(t.onFocusCapture,U.onFocusCapture),onBlurCapture:ct(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:ct(t.onPointerDownCapture,P.onPointerDownCapture)})});zv.displayName=aI;var uI="DismissableLayerBranch",dI=N.forwardRef((t,e)=>{const n=N.useContext(bE),r=N.useRef(null),s=Ht(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),b.jsx(ht.div,{...t,ref:s})});dI.displayName=uI;function fI(t,e=globalThis==null?void 0:globalThis.document){const n=ci(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){xE(lI,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hI(t,e=globalThis==null?void 0:globalThis.document){const n=ci(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&xE(cI,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function n1(){const t=new CustomEvent(Pm);document.dispatchEvent(t)}function xE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bP(s,i):s.dispatchEvent(i)}var wg=0;function SE(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r1()),document.body.insertAdjacentElement("beforeend",t[1]??r1()),wg++,()=>{wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wg--}},[])}function r1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bg="focusScope.autoFocusOnMount",xg="focusScope.autoFocusOnUnmount",s1={bubbles:!1,cancelable:!0},pI="FocusScope",Uv=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[c,d]=N.useState(null),f=ci(s),h=ci(i),g=N.useRef(null),m=Ht(e,x=>d(x)),v=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let x=function(O){if(v.paused||!c)return;const k=O.target;c.contains(k)?g.current=k:Zo(g.current,{select:!0})},_=function(O){if(v.paused||!c)return;const k=O.relatedTarget;k!==null&&(c.contains(k)||Zo(g.current,{select:!0}))},C=function(O){if(document.activeElement===document.body)for(const P of O)P.removedNodes.length>0&&Zo(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const T=new MutationObserver(C);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),T.disconnect()}}},[r,c,v.paused]),N.useEffect(()=>{if(c){i1.add(v);const x=document.activeElement;if(!c.contains(x)){const C=new CustomEvent(bg,s1);c.addEventListener(bg,f),c.dispatchEvent(C),C.defaultPrevented||(gI(bI(_E(c)),{select:!0}),document.activeElement===x&&Zo(c))}return()=>{c.removeEventListener(bg,f),setTimeout(()=>{const C=new CustomEvent(xg,s1);c.addEventListener(xg,h),c.dispatchEvent(C),C.defaultPrevented||Zo(x??document.body,{select:!0}),c.removeEventListener(xg,h),i1.remove(v)},0)}}},[c,f,h,v]);const w=N.useCallback(x=>{if(!n&&!r||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(_&&C){const T=x.currentTarget,[O,k]=mI(T);O&&k?!x.shiftKey&&C===k?(x.preventDefault(),n&&Zo(O,{select:!0})):x.shiftKey&&C===O&&(x.preventDefault(),n&&Zo(k,{select:!0})):C===T&&x.preventDefault()}},[n,r,v.paused]);return b.jsx(ht.div,{tabIndex:-1,...l,ref:m,onKeyDown:w})});Uv.displayName=pI;function gI(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zo(r,{select:e}),document.activeElement!==n)return}function mI(t){const e=_E(t),n=o1(e,t),r=o1(e.reverse(),t);return[n,r]}function _E(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o1(t,e){for(const n of t)if(!vI(n,{upTo:e}))return n}function vI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yI(t){return t instanceof HTMLInputElement&&"select"in t}function Zo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yI(t)&&e&&t.select()}}var i1=wI();function wI(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=a1(t,e),t.unshift(e)},remove(e){var n;t=a1(t,e),(n=t[0])==null||n.resume()}}}function a1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bI(t){return t.filter(e=>e.tagName!=="A")}const xI=["top","right","bottom","left"],ui=Math.min,vr=Math.max,Af=Math.round,$d=Math.floor,Ls=t=>({x:t,y:t}),SI={left:"right",right:"left",bottom:"top",top:"bottom"},_I={start:"end",end:"start"};function Rm(t,e,n){return vr(t,ui(e,n))}function ho(t,e){return typeof t=="function"?t(e):t}function po(t){return t.split("-")[0]}function Wl(t){return t.split("-")[1]}function Fv(t){return t==="x"?"y":"x"}function qv(t){return t==="y"?"height":"width"}const EI=new Set(["top","bottom"]);function js(t){return EI.has(po(t))?"y":"x"}function Hv(t){return Fv(js(t))}function CI(t,e,n){n===void 0&&(n=!1);const r=Wl(t),s=Hv(t),i=qv(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Pf(l)),[l,Pf(l)]}function NI(t){const e=Pf(t);return[jm(t),e,jm(e)]}function jm(t){return t.replace(/start|end/g,e=>_I[e])}const l1=["left","right"],c1=["right","left"],kI=["top","bottom"],OI=["bottom","top"];function TI(t,e,n){switch(t){case"top":case"bottom":return n?e?c1:l1:e?l1:c1;case"left":case"right":return e?kI:OI;default:return[]}}function AI(t,e,n,r){const s=Wl(t);let i=TI(po(t),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(jm)))),i}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>SI[e])}function PI(t){return{top:0,right:0,bottom:0,left:0,...t}}function EE(t){return typeof t!="number"?PI(t):{top:t,right:t,bottom:t,left:t}}function Rf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function u1(t,e,n){let{reference:r,floating:s}=t;const i=js(e),l=Hv(e),c=qv(l),d=po(e),f=i==="y",h=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,m=r[c]/2-s[c]/2;let v;switch(d){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-s.width,y:g};break;default:v={x:r.x,y:r.y}}switch(Wl(e)){case"start":v[l]-=m*(n&&f?-1:1);break;case"end":v[l]+=m*(n&&f?-1:1);break}return v}const RI=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:g}=u1(f,r,d),m=r,v={},w=0;for(let x=0;x<c.length;x++){const{name:_,fn:C}=c[x],{x:T,y:O,data:k,reset:P}=await C({x:h,y:g,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:f,platform:l,elements:{reference:t,floating:e}});h=T??h,g=O??g,v={...v,[_]:{...v[_],...k}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:g}=u1(f,m,d)),x=-1)}return{x:h,y:g,placement:m,strategy:s,middlewareData:v}};async function Qc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:v=0}=ho(e,t),w=EE(v),_=c[m?g==="floating"?"reference":"floating":g],C=Rf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:d})),T=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(O))?await(i.getScale==null?void 0:i.getScale(O))||{x:1,y:1}:{x:1,y:1},P=Rf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:O,strategy:d}):T);return{top:(C.top-P.top+w.top)/k.y,bottom:(P.bottom-C.bottom+w.bottom)/k.y,left:(C.left-P.left+w.left)/k.x,right:(P.right-C.right+w.right)/k.x}}const jI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:h=0}=ho(t,e)||{};if(f==null)return{};const g=EE(h),m={x:n,y:r},v=Hv(s),w=qv(v),x=await l.getDimensions(f),_=v==="y",C=_?"top":"left",T=_?"bottom":"right",O=_?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[v]-m[v]-i.floating[w],P=m[v]-i.reference[v],U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let B=U?U[O]:0;(!B||!await(l.isElement==null?void 0:l.isElement(U)))&&(B=c.floating[O]||i.floating[w]);const z=k/2-P/2,Q=B/2-x[w]/2-1,oe=ui(g[C],Q),L=ui(g[T],Q),X=oe,D=B-x[w]-L,M=B/2-x[w]/2+z,W=Rm(X,M,D),j=!d.arrow&&Wl(s)!=null&&M!==W&&i.reference[w]/2-(M<X?oe:L)-x[w]/2<0,H=j?M<X?M-X:M-D:0;return{[v]:m[v]+H,data:{[v]:W,centerOffset:M-W-H,...j&&{alignmentOffset:H}},reset:j}}}),LI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,..._}=ho(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=po(s),T=js(c),O=po(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(f.floating)),P=m||(O||!x?[Pf(c)]:NI(c)),U=w!=="none";!m&&U&&P.push(...AI(c,x,w,k));const B=[c,...P],z=await Qc(e,_),Q=[];let oe=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&Q.push(z[C]),g){const M=CI(s,l,k);Q.push(z[M[0]],z[M[1]])}if(oe=[...oe,{placement:s,overflows:Q}],!Q.every(M=>M<=0)){var L,X;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,W=B[M];if(W&&(!(g==="alignment"?T!==js(W):!1)||oe.every(R=>js(R.placement)===T?R.overflows[0]>0:!0)))return{data:{index:M,overflows:oe},reset:{placement:W}};let j=(X=oe.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:X.placement;if(!j)switch(v){case"bestFit":{var D;const H=(D=oe.filter(R=>{if(U){const F=js(R.placement);return F===T||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:D[0];H&&(j=H);break}case"initialPlacement":j=c;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function d1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function f1(t){return xI.some(e=>t[e]>=0)}const II=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ho(t,e);switch(r){case"referenceHidden":{const i=await Qc(e,{...s,elementContext:"reference"}),l=d1(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:f1(l)}}}case"escaped":{const i=await Qc(e,{...s,altBoundary:!0}),l=d1(i,n.floating);return{data:{escapedOffsets:l,escaped:f1(l)}}}default:return{}}}}},CE=new Set(["left","top"]);async function MI(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=po(n),c=Wl(n),d=js(n)==="y",f=CE.has(l)?-1:1,h=i&&d?-1:1,g=ho(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof w=="number"&&(v=c==="end"?w*-1:w),d?{x:v*h,y:m*f}:{x:m*f,y:v*h}}const DI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:l,middlewareData:c}=e,d=await MI(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},$I=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:_=>{let{x:C,y:T}=_;return{x:C,y:T}}},...d}=ho(t,e),f={x:n,y:r},h=await Qc(e,d),g=js(po(s)),m=Fv(g);let v=f[m],w=f[g];if(i){const _=m==="y"?"top":"left",C=m==="y"?"bottom":"right",T=v+h[_],O=v-h[C];v=Rm(T,v,O)}if(l){const _=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=w+h[_],O=w-h[C];w=Rm(T,w,O)}const x=c.fn({...e,[m]:v,[g]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[g]:l}}}}}},BI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=ho(t,e),h={x:n,y:r},g=js(s),m=Fv(g);let v=h[m],w=h[g];const x=ho(c,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const O=m==="y"?"height":"width",k=i.reference[m]-i.floating[O]+_.mainAxis,P=i.reference[m]+i.reference[O]-_.mainAxis;v<k?v=k:v>P&&(v=P)}if(f){var C,T;const O=m==="y"?"width":"height",k=CE.has(po(s)),P=i.reference[g]-i.floating[O]+(k&&((C=l.offset)==null?void 0:C[g])||0)+(k?0:_.crossAxis),U=i.reference[g]+i.reference[O]+(k?0:((T=l.offset)==null?void 0:T[g])||0)-(k?_.crossAxis:0);w<P?w=P:w>U&&(w=U)}return{[m]:v,[g]:w}}}},zI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:l,elements:c}=e,{apply:d=()=>{},...f}=ho(t,e),h=await Qc(e,f),g=po(s),m=Wl(s),v=js(s)==="y",{width:w,height:x}=i.floating;let _,C;g==="top"||g==="bottom"?(_=g,C=m===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=g,_=m==="end"?"top":"bottom");const T=x-h.top-h.bottom,O=w-h.left-h.right,k=ui(x-h[_],T),P=ui(w-h[C],O),U=!e.middlewareData.shift;let B=k,z=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(B=T),U&&!m){const oe=vr(h.left,0),L=vr(h.right,0),X=vr(h.top,0),D=vr(h.bottom,0);v?z=w-2*(oe!==0||L!==0?oe+L:vr(h.left,h.right)):B=x-2*(X!==0||D!==0?X+D:vr(h.top,h.bottom))}await d({...e,availableWidth:z,availableHeight:B});const Q=await l.getDimensions(c.floating);return w!==Q.width||x!==Q.height?{reset:{rects:!0}}:{}}}};function ah(){return typeof window<"u"}function Kl(t){return NE(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Us(t){var e;return(e=(NE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NE(t){return ah()?t instanceof Node||t instanceof br(t).Node:!1}function us(t){return ah()?t instanceof Element||t instanceof br(t).Element:!1}function $s(t){return ah()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function h1(t){return!ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const UI=new Set(["inline","contents"]);function Ou(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!UI.has(s)}const FI=new Set(["table","td","th"]);function qI(t){return FI.has(Kl(t))}const HI=[":popover-open",":modal"];function lh(t){return HI.some(e=>{try{return t.matches(e)}catch{return!1}})}const VI=["transform","translate","scale","rotate","perspective"],WI=["transform","translate","scale","rotate","perspective","filter"],KI=["paint","layout","strict","content"];function Vv(t){const e=Wv(),n=us(t)?ds(t):t;return VI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WI.some(r=>(n.willChange||"").includes(r))||KI.some(r=>(n.contain||"").includes(r))}function GI(t){let e=di(t);for(;$s(e)&&!Tl(e);){if(Vv(e))return e;if(lh(e))return null;e=di(e)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XI=new Set(["html","body","#document"]);function Tl(t){return XI.has(Kl(t))}function ds(t){return br(t).getComputedStyle(t)}function ch(t){return us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function di(t){if(Kl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||h1(t)&&t.host||Us(t);return h1(e)?e.host:e}function kE(t){const e=di(t);return Tl(e)?t.ownerDocument?t.ownerDocument.body:t.body:$s(e)&&Ou(e)?e:kE(e)}function eu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=br(s);if(i){const c=Lm(l);return e.concat(l,l.visualViewport||[],Ou(s)?s:[],c&&n?eu(c):[])}return e.concat(s,eu(s,[],n))}function Lm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OE(t){const e=ds(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$s(t),i=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Af(n)!==i||Af(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function Kv(t){return us(t)?t:t.contextElement}function yl(t){const e=Kv(t);if(!$s(e))return Ls(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OE(e);let l=(i?Af(n.width):n.width)/r,c=(i?Af(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const YI=Ls(0);function TE(t){const e=br(t);return!Wv()||!e.visualViewport?YI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Kv(t);let l=Ls(1);e&&(r?us(r)&&(l=yl(r)):l=yl(t));const c=ZI(i,n,r)?TE(i):Ls(0);let d=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,h=s.width/l.x,g=s.height/l.y;if(i){const m=br(i),v=r&&us(r)?br(r):r;let w=m,x=Lm(w);for(;x&&r&&v!==w;){const _=yl(x),C=x.getBoundingClientRect(),T=ds(x),O=C.left+(x.clientLeft+parseFloat(T.paddingLeft))*_.x,k=C.top+(x.clientTop+parseFloat(T.paddingTop))*_.y;d*=_.x,f*=_.y,h*=_.x,g*=_.y,d+=O,f+=k,w=br(x),x=Lm(w)}}return Rf({width:h,height:g,x:d,y:f})}function uh(t,e){const n=ch(t).scrollLeft;return e?e.left+n:sa(Us(t)).left+n}function AE(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-uh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function JI(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",l=Us(r),c=e?lh(e.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Ls(1);const h=Ls(0),g=$s(r);if((g||!g&&!i)&&((Kl(r)!=="body"||Ou(l))&&(d=ch(r)),$s(r))){const v=sa(r);f=yl(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=l&&!g&&!i?AE(l,d):Ls(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x+m.x,y:n.y*f.y-d.scrollTop*f.y+h.y+m.y}}function QI(t){return Array.from(t.getClientRects())}function e4(t){const e=Us(t),n=ch(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+uh(t);const c=-n.scrollTop;return ds(r).direction==="rtl"&&(l+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:c}}const p1=25;function t4(t,e){const n=br(t),r=Us(t),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){i=s.width,l=s.height;const h=Wv();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const f=uh(r);if(f<=0){const h=r.ownerDocument,g=h.body,m=getComputedStyle(g),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(r.clientWidth-g.clientWidth-v);w<=p1&&(i-=w)}else f<=p1&&(i+=f);return{width:i,height:l,x:c,y:d}}const n4=new Set(["absolute","fixed"]);function r4(t,e){const n=sa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=$s(t)?yl(t):Ls(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,d=s*i.x,f=r*i.y;return{width:l,height:c,x:d,y:f}}function g1(t,e,n){let r;if(e==="viewport")r=t4(t,n);else if(e==="document")r=e4(Us(t));else if(us(e))r=r4(e,n);else{const s=TE(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Rf(r)}function PE(t,e){const n=di(t);return n===e||!us(n)||Tl(n)?!1:ds(n).position==="fixed"||PE(n,e)}function s4(t,e){const n=e.get(t);if(n)return n;let r=eu(t,[],!1).filter(c=>us(c)&&Kl(c)!=="body"),s=null;const i=ds(t).position==="fixed";let l=i?di(t):t;for(;us(l)&&!Tl(l);){const c=ds(l),d=Vv(l);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&n4.has(s.position)||Ou(l)&&!d&&PE(t,l))?r=r.filter(h=>h!==l):s=c,l=di(l)}return e.set(t,r),r}function o4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?lh(e)?[]:s4(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,h)=>{const g=g1(e,h,s);return f.top=vr(g.top,f.top),f.right=ui(g.right,f.right),f.bottom=ui(g.bottom,f.bottom),f.left=vr(g.left,f.left),f},g1(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function i4(t){const{width:e,height:n}=OE(t);return{width:e,height:n}}function a4(t,e,n){const r=$s(e),s=Us(e),i=n==="fixed",l=sa(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=Ls(0);function f(){d.x=uh(s)}if(r||!r&&!i)if((Kl(e)!=="body"||Ou(s))&&(c=ch(e)),r){const v=sa(e,!0,i,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else s&&f();i&&!r&&s&&f();const h=s&&!r&&!i?AE(s,c):Ls(0),g=l.left+c.scrollLeft-d.x-h.x,m=l.top+c.scrollTop-d.y-h.y;return{x:g,y:m,width:l.width,height:l.height}}function Sg(t){return ds(t).position==="static"}function m1(t,e){if(!$s(t)||ds(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Us(t)===n&&(n=n.ownerDocument.body),n}function RE(t,e){const n=br(t);if(lh(t))return n;if(!$s(t)){let s=di(t);for(;s&&!Tl(s);){if(us(s)&&!Sg(s))return s;s=di(s)}return n}let r=m1(t,e);for(;r&&qI(r)&&Sg(r);)r=m1(r,e);return r&&Tl(r)&&Sg(r)&&!Vv(r)?n:r||GI(t)||n}const l4=async function(t){const e=this.getOffsetParent||RE,n=this.getDimensions,r=await n(t.floating);return{reference:a4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function c4(t){return ds(t).direction==="rtl"}const u4={convertOffsetParentRelativeRectToViewportRelativeRect:JI,getDocumentElement:Us,getClippingRect:o4,getOffsetParent:RE,getElementRects:l4,getClientRects:QI,getDimensions:i4,getScale:yl,isElement:us,isRTL:c4};function jE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function d4(t,e){let n=null,r;const s=Us(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=t.getBoundingClientRect(),{left:h,top:g,width:m,height:v}=f;if(c||e(),!m||!v)return;const w=$d(g),x=$d(s.clientWidth-(h+m)),_=$d(s.clientHeight-(g+v)),C=$d(h),O={rootMargin:-w+"px "+-x+"px "+-_+"px "+-C+"px",threshold:vr(0,ui(1,d))||1};let k=!0;function P(U){const B=U[0].intersectionRatio;if(B!==d){if(!k)return l();B?l(!1,B):r=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!jE(f,t.getBoundingClientRect())&&l(),k=!1}try{n=new IntersectionObserver(P,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,O)}n.observe(t)}return l(!0),i}function f4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Kv(t),h=s||i?[...f?eu(f):[],...eu(e)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const g=f&&c?d4(f,n):null;let m=-1,v=null;l&&(v=new ResizeObserver(C=>{let[T]=C;T&&T.target===f&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var O;(O=v)==null||O.observe(e)})),n()}),f&&!d&&v.observe(f),v.observe(e));let w,x=d?sa(t):null;d&&_();function _(){const C=sa(t);x&&!jE(x,C)&&n(),x=C,w=requestAnimationFrame(_)}return n(),()=>{var C;h.forEach(T=>{s&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),g==null||g(),(C=v)==null||C.disconnect(),v=null,d&&cancelAnimationFrame(w)}}const h4=DI,p4=$I,g4=LI,m4=zI,v4=II,v1=jI,y4=BI,w4=(t,e,n)=>{const r=new Map,s={platform:u4,...n},i={...s.platform,_c:r};return RI(t,e,{...s,platform:i})};var b4=typeof document<"u",x4=function(){},pf=b4?N.useLayoutEffect:x4;function jf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function LE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y1(t,e){const n=LE(t);return Math.round(e*n)/n}function _g(t){const e=N.useRef(t);return pf(()=>{e.current=t}),e}function S4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[h,g]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=N.useState(r);jf(m,r)||v(r);const[w,x]=N.useState(null),[_,C]=N.useState(null),T=N.useCallback(R=>{R!==U.current&&(U.current=R,x(R))},[]),O=N.useCallback(R=>{R!==B.current&&(B.current=R,C(R))},[]),k=i||w,P=l||_,U=N.useRef(null),B=N.useRef(null),z=N.useRef(h),Q=d!=null,oe=_g(d),L=_g(s),X=_g(f),D=N.useCallback(()=>{if(!U.current||!B.current)return;const R={placement:e,strategy:n,middleware:m};L.current&&(R.platform=L.current),w4(U.current,B.current,R).then(F=>{const q={...F,isPositioned:X.current!==!1};M.current&&!jf(z.current,q)&&(z.current=q,Su.flushSync(()=>{g(q)}))})},[m,e,n,L,X]);pf(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(R=>({...R,isPositioned:!1})))},[f]);const M=N.useRef(!1);pf(()=>(M.current=!0,()=>{M.current=!1}),[]),pf(()=>{if(k&&(U.current=k),P&&(B.current=P),k&&P){if(oe.current)return oe.current(k,P,D);D()}},[k,P,D,oe,Q]);const W=N.useMemo(()=>({reference:U,floating:B,setReference:T,setFloating:O}),[T,O]),j=N.useMemo(()=>({reference:k,floating:P}),[k,P]),H=N.useMemo(()=>{const R={position:n,left:0,top:0};if(!j.floating)return R;const F=y1(j.floating,h.x),q=y1(j.floating,h.y);return c?{...R,transform:"translate("+F+"px, "+q+"px)",...LE(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,c,j.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:D,refs:W,elements:j,floatingStyles:H}),[h,D,W,j,H])}const _4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?v1({element:r.current,padding:s}).fn(n):{}:r?v1({element:r,padding:s}).fn(n):{}}}},E4=(t,e)=>({...h4(t),options:[t,e]}),C4=(t,e)=>({...p4(t),options:[t,e]}),N4=(t,e)=>({...y4(t),options:[t,e]}),k4=(t,e)=>({...g4(t),options:[t,e]}),O4=(t,e)=>({...m4(t),options:[t,e]}),T4=(t,e)=>({...v4(t),options:[t,e]}),A4=(t,e)=>({..._4(t),options:[t,e]});var P4="Arrow",IE=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return b.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});IE.displayName=P4;var R4=IE;function j4(t){const[e,n]=N.useState(void 0);return Bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Gv="Popper",[ME,DE]=Hl(Gv),[L4,$E]=ME(Gv),BE=t=>{const{__scopePopper:e,children:n}=t,[r,s]=N.useState(null);return b.jsx(L4,{scope:e,anchor:r,onAnchorChange:s,children:n})};BE.displayName=Gv;var zE="PopperAnchor",UE=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$E(zE,n),l=N.useRef(null),c=Ht(e,l),d=N.useRef(null);return N.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:b.jsx(ht.div,{...s,ref:c})});UE.displayName=zE;var Xv="PopperContent",[I4,M4]=ME(Xv),FE=N.forwardRef((t,e)=>{var J,ae,ge,le,xe,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,_=$E(Xv,n),[C,T]=N.useState(null),O=Ht(e,ze=>T(ze)),[k,P]=N.useState(null),U=j4(k),B=(U==null?void 0:U.width)??0,z=(U==null?void 0:U.height)??0,Q=r+(i!=="center"?"-"+i:""),oe=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(f)?f:[f],X=L.length>0,D={padding:oe,boundary:L.filter($4),altBoundary:X},{refs:M,floatingStyles:W,placement:j,isPositioned:H,middlewareData:R}=S4({strategy:"fixed",placement:Q,whileElementsMounted:(...ze)=>f4(...ze,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[E4({mainAxis:s+z,alignmentAxis:l}),d&&C4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?N4():void 0,...D}),d&&k4({...D}),O4({...D,apply:({elements:ze,rects:Ue,availableWidth:tt,availableHeight:At})=>{const{width:Ct,height:fn}=Ue.reference,Mt=ze.floating.style;Mt.setProperty("--radix-popper-available-width",`${tt}px`),Mt.setProperty("--radix-popper-available-height",`${At}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ct}px`),Mt.setProperty("--radix-popper-anchor-height",`${fn}px`)}}),k&&A4({element:k,padding:c}),B4({arrowWidth:B,arrowHeight:z}),m&&T4({strategy:"referenceHidden",...D})]}),[F,q]=VE(j),$=ci(w);Bn(()=>{H&&($==null||$())},[H,$]);const K=(J=R.arrow)==null?void 0:J.x,ee=(ae=R.arrow)==null?void 0:ae.y,se=((ge=R.arrow)==null?void 0:ge.centerOffset)!==0,[ce,me]=N.useState();return Bn(()=>{C&&me(window.getComputedStyle(C).zIndex)},[C]),b.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:H?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(le=R.transformOrigin)==null?void 0:le.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((Ee=R.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(I4,{scope:n,placedSide:F,onArrowChange:P,arrowX:K,arrowY:ee,shouldHideArrow:se,children:b.jsx(ht.div,{"data-side":F,"data-align":q,...x,ref:O,style:{...x.style,animation:H?void 0:"none"}})})})});FE.displayName=Xv;var qE="PopperArrow",D4={top:"bottom",right:"left",bottom:"top",left:"right"},HE=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=M4(qE,r),l=D4[i.placedSide];return b.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:b.jsx(R4,{...s,ref:n,style:{...s.style,display:"block"}})})});HE.displayName=qE;function $4(t){return t!==null}var B4=t=>({name:"transformOrigin",options:t,fn(e){var _,C,T;const{placement:n,rects:r,middlewareData:s}=e,l=((_=s.arrow)==null?void 0:_.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[f,h]=VE(n),g={start:"0%",center:"50%",end:"100%"}[h],m=(((C=s.arrow)==null?void 0:C.x)??0)+c/2,v=(((T=s.arrow)==null?void 0:T.y)??0)+d/2;let w="",x="";return f==="bottom"?(w=l?g:`${m}px`,x=`${-d}px`):f==="top"?(w=l?g:`${m}px`,x=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,x=l?g:`${v}px`):f==="left"&&(w=`${r.floating.width+d}px`,x=l?g:`${v}px`),{data:{x:w,y:x}}}});function VE(t){const[e,n="center"]=t.split("-");return[e,n]}var z4=BE,U4=UE,F4=FE,q4=HE,H4="Portal",Yv=N.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=N.useState(!1);Bn(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?yP.createPortal(b.jsx(ht.div,{...r,ref:e}),l):null});Yv.displayName=H4;var V4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},el=new WeakMap,Bd=new WeakMap,zd={},Eg=0,WE=function(t){return t&&(t.host||WE(t.parentNode))},W4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=WE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},K4=function(t,e,n,r){var s=W4(e,Array.isArray(t)?t:[t]);zd[n]||(zd[n]=new WeakMap);var i=zd[n],l=[],c=new Set,d=new Set(s),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};s.forEach(f);var h=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(m){if(c.has(m))h(m);else try{var v=m.getAttribute(r),w=v!==null&&v!=="false",x=(el.get(m)||0)+1,_=(i.get(m)||0)+1;el.set(m,x),i.set(m,_),l.push(m),x===1&&w&&Bd.set(m,!0),_===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",m,C)}})};return h(e),c.clear(),Eg++,function(){l.forEach(function(g){var m=el.get(g)-1,v=i.get(g)-1;el.set(g,m),i.set(g,v),m||(Bd.has(g)||g.removeAttribute(r),Bd.delete(g)),v||g.removeAttribute(n)}),Eg--,Eg||(el=new WeakMap,el=new WeakMap,Bd=new WeakMap,zd={})}},KE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=V4(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),K4(r,s,n,"aria-hidden")):function(){return null}},Rs=function(){return Rs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rs.apply(this,arguments)};function GE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function G4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var gf="right-scroll-bar-position",mf="width-before-scroll-bar",X4="with-scroll-bars-hidden",Y4="--removed-body-scroll-bar-size";function Cg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Z4(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var J4=typeof window<"u"?N.useLayoutEffect:N.useEffect,w1=new WeakMap;function Q4(t,e){var n=Z4(null,function(r){return t.forEach(function(s){return Cg(s,r)})});return J4(function(){var r=w1.get(n);if(r){var s=new Set(r),i=new Set(t),l=n.current;s.forEach(function(c){i.has(c)||Cg(c,null)}),i.forEach(function(c){s.has(c)||Cg(c,l)})}w1.set(n,t)},[t]),n}function eM(t){return t}function tM(t,e){e===void 0&&(e=eM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var h=l;l=[],h.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(h){l.push(h),f()},filter:function(h){return l=l.filter(h),n}}}};return s}function nM(t){t===void 0&&(t={});var e=tM(null);return e.options=Rs({async:!0,ssr:!1},t),e}var XE=function(t){var e=t.sideCar,n=GE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Rs({},n))};XE.isSideCarExport=!0;function rM(t,e){return t.useMedium(e),XE}var YE=nM(),Ng=function(){},dh=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:Ng,onWheelCapture:Ng,onTouchMoveCapture:Ng}),s=r[0],i=r[1],l=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,v=t.noRelative,w=t.noIsolation,x=t.inert,_=t.allowPinchZoom,C=t.as,T=C===void 0?"div":C,O=t.gapMode,k=GE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,U=Q4([n,e]),B=Rs(Rs({},k),s);return N.createElement(N.Fragment,null,h&&N.createElement(P,{sideCar:YE,removeScrollBar:f,shards:g,noRelative:v,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:O}),l?N.cloneElement(N.Children.only(c),Rs(Rs({},B),{ref:U})):N.createElement(T,Rs({},B,{className:d,ref:U}),c))});dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dh.classNames={fullWidth:mf,zeroRight:gf};var sM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sM();return e&&t.setAttribute("nonce",e),t}function iM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=oM())&&(iM(e,n),aM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cM=function(){var t=lM();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ZE=function(){var t=cM(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},uM={left:0,top:0,right:0,gap:0},kg=function(t){return parseInt(t||"",10)||0},dM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kg(n),kg(r),kg(s)]},fM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uM;var e=dM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hM=ZE(),wl="data-scroll-locked",pM=function(t,e,n,r){var s=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(X4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(mf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wl,`] {
    `).concat(Y4,": ").concat(c,`px;
  }
`)},b1=function(){var t=parseInt(document.body.getAttribute(wl)||"0",10);return isFinite(t)?t:0},gM=function(){N.useEffect(function(){return document.body.setAttribute(wl,(b1()+1).toString()),function(){var t=b1()-1;t<=0?document.body.removeAttribute(wl):document.body.setAttribute(wl,t.toString())}},[])},mM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;gM();var i=N.useMemo(function(){return fM(s)},[s]);return N.createElement(hM,{styles:pM(i,!e,s,n?"":"!important")})},Im=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return Im=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Im=!1}var tl=Im?{passive:!1}:!1,vM=function(t){return t.tagName==="TEXTAREA"},JE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vM(t)&&n[e]==="visible")},yM=function(t){return JE(t,"overflowY")},wM=function(t){return JE(t,"overflowX")},x1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QE(t,r);if(s){var i=eC(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QE=function(t,e){return t==="v"?yM(e):wM(e)},eC=function(t,e){return t==="v"?bM(e):xM(e)},SM=function(t,e){return t==="h"&&e==="rtl"?-1:1},_M=function(t,e,n,r,s){var i=SM(t,window.getComputedStyle(e).direction),l=i*r,c=n.target,d=e.contains(c),f=!1,h=l>0,g=0,m=0;do{if(!c)break;var v=eC(t,c),w=v[0],x=v[1],_=v[2],C=x-_-i*w;(w||C)&&QE(t,c)&&(g+=C,m+=w);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(h&&Math.abs(g)<1||!h&&Math.abs(m)<1)&&(f=!0),f},Fd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},S1=function(t){return[t.deltaX,t.deltaY]},_1=function(t){return t&&"current"in t?t.current:t},EM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},CM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NM=0,nl=[];function kM(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(NM++)[0],i=N.useState(ZE)[0],l=N.useRef(t);N.useEffect(function(){l.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=G4([t.lockRef.current],(t.shards||[]).map(_1),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=N.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var C=Fd(x),T=n.current,O="deltaX"in x?x.deltaX:T[0]-C[0],k="deltaY"in x?x.deltaY:T[1]-C[1],P,U=x.target,B=Math.abs(O)>Math.abs(k)?"h":"v";if("touches"in x&&B==="h"&&U.type==="range")return!1;var z=x1(B,U);if(!z)return!0;if(z?P=B:(P=B==="v"?"h":"v",z=x1(B,U)),!z)return!1;if(!r.current&&"changedTouches"in x&&(O||k)&&(r.current=P),!P)return!0;var Q=r.current||P;return _M(Q,_,x,Q==="h"?O:k)},[]),d=N.useCallback(function(x){var _=x;if(!(!nl.length||nl[nl.length-1]!==i)){var C="deltaY"in _?S1(_):Fd(_),T=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&EM(P.delta,C)})[0];if(T&&T.should){_.cancelable&&_.preventDefault();return}if(!T){var O=(l.current.shards||[]).map(_1).filter(Boolean).filter(function(P){return P.contains(_.target)}),k=O.length>0?c(_,O[0]):!l.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),f=N.useCallback(function(x,_,C,T){var O={name:x,delta:_,target:C,should:T,shadowParent:OM(C)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(k){return k!==O})},1)},[]),h=N.useCallback(function(x){n.current=Fd(x),r.current=void 0},[]),g=N.useCallback(function(x){f(x.type,S1(x),x.target,c(x,t.lockRef.current))},[]),m=N.useCallback(function(x){f(x.type,Fd(x),x.target,c(x,t.lockRef.current))},[]);N.useEffect(function(){return nl.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",d,tl),document.addEventListener("touchmove",d,tl),document.addEventListener("touchstart",h,tl),function(){nl=nl.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,tl),document.removeEventListener("touchmove",d,tl),document.removeEventListener("touchstart",h,tl)}},[]);var v=t.removeScrollBar,w=t.inert;return N.createElement(N.Fragment,null,w?N.createElement(i,{styles:CM(s)}):null,v?N.createElement(mM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function OM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TM=rM(YE,kM);var Zv=N.forwardRef(function(t,e){return N.createElement(dh,Rs({},t,{ref:e,sideCar:TM}))});Zv.classNames=dh.classNames;const AM="/assets/logo-ChmDkQgC.png";function PM({onCreateProject:t}){const{user:e,logout:n}=ku(),r=async()=>{await n()};return b.jsx("nav",{className:"bg-white border-b border-gray-200 px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center space-x-2",children:b.jsx("img",{src:AM,alt:"Nexus Logo",className:"h-8 w-auto flex-shrink-0"})}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs(lt,{onClick:t,className:"bg-orange-600 hover:bg-blue-700 text-white",children:[b.jsx(Lv,{className:"h-4 w-4 mr-2"}),"Project Board"]}),b.jsxs(lt,{variant:"outline",onClick:r,className:"text-gray-700 border-gray-300 hover:bg-gray-50",children:[b.jsx(kR,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}function RM({className:t,...e}){return b.jsx("textarea",{"data-slot":"textarea",className:It("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function E1(t,[e,n]){return Math.min(n,Math.max(e,t))}function jM(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LM="VisuallyHidden",IM=N.forwardRef((t,e)=>b.jsx(ht.span,{...t,ref:e,style:{...tC,...t.style}}));IM.displayName=LM;var MM=[" ","Enter","ArrowUp","ArrowDown"],DM=[" ","Enter"],oa="Select",[fh,hh,$M]=T_(oa),[Gl,YH]=Hl(oa,[$M,DE]),ph=DE(),[BM,pi]=Gl(oa),[zM,UM]=Gl(oa),nC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:f,name:h,autoComplete:g,disabled:m,required:v,form:w}=t,x=ph(e),[_,C]=N.useState(null),[T,O]=N.useState(null),[k,P]=N.useState(!1),U=Rv(f),[B,z]=Zc({prop:r,defaultProp:s??!1,onChange:i,caller:oa}),[Q,oe]=Zc({prop:l,defaultProp:c,onChange:d,caller:oa}),L=N.useRef(null),X=_?w||!!_.closest("form"):!0,[D,M]=N.useState(new Set),W=Array.from(D).map(j=>j.props.value).join(";");return b.jsx(z4,{...x,children:b.jsxs(BM,{required:v,scope:e,trigger:_,onTriggerChange:C,valueNode:T,onValueNodeChange:O,valueNodeHasChildren:k,onValueNodeHasChildrenChange:P,contentId:ai(),value:Q,onValueChange:oe,open:B,onOpenChange:z,dir:U,triggerPointerDownPosRef:L,disabled:m,children:[b.jsx(fh.Provider,{scope:e,children:b.jsx(zM,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(j=>{M(H=>new Set(H).add(j))},[]),onNativeOptionRemove:N.useCallback(j=>{M(H=>{const R=new Set(H);return R.delete(j),R})},[]),children:n})}),X?b.jsxs(EC,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:g,value:Q,onChange:j=>oe(j.target.value),disabled:m,form:w,children:[Q===void 0?b.jsx("option",{value:""}):null,Array.from(D)]},W):null]})})};nC.displayName=oa;var rC="SelectTrigger",sC=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ph(n),l=pi(rC,n),c=l.disabled||r,d=Ht(e,l.onTriggerChange),f=hh(n),h=N.useRef("touch"),[g,m,v]=NC(x=>{const _=f().filter(O=>!O.disabled),C=_.find(O=>O.value===l.value),T=kC(_,x,C);T!==void 0&&l.onValueChange(T.value)}),w=x=>{c||(l.onOpenChange(!0),v()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return b.jsx(U4,{asChild:!0,...i,children:b.jsx(ht.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":CC(l.value)?"":void 0,...s,ref:d,onClick:ct(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ct(s.onPointerDown,x=>{h.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ct(s.onKeyDown,x=>{const _=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(_&&x.key===" ")&&MM.includes(x.key)&&(w(),x.preventDefault())})})})});sC.displayName=rC;var oC="SelectValue",iC=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...c}=t,d=pi(oC,n),{onValueNodeHasChildrenChange:f}=d,h=i!==void 0,g=Ht(e,d.onValueNodeChange);return Bn(()=>{f(h)},[f,h]),b.jsx(ht.span,{...c,ref:g,style:{pointerEvents:"none"},children:CC(d.value)?b.jsx(b.Fragment,{children:l}):i})});iC.displayName=oC;var FM="SelectIcon",aC=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return b.jsx(ht.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});aC.displayName=FM;var qM="SelectPortal",lC=t=>b.jsx(Yv,{asChild:!0,...t});lC.displayName=qM;var ia="SelectContent",cC=N.forwardRef((t,e)=>{const n=pi(ia,t.__scopeSelect),[r,s]=N.useState();if(Bn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Su.createPortal(b.jsx(uC,{scope:t.__scopeSelect,children:b.jsx(fh.Slot,{scope:t.__scopeSelect,children:b.jsx("div",{children:t.children})})}),i):null}return b.jsx(dC,{...t,ref:e})});cC.displayName=ia;var ts=10,[uC,gi]=Gl(ia),HM="SelectContentImpl",VM=kl("SelectContent.RemoveScroll"),dC=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:_,...C}=t,T=pi(ia,n),[O,k]=N.useState(null),[P,U]=N.useState(null),B=Ht(e,J=>k(J)),[z,Q]=N.useState(null),[oe,L]=N.useState(null),X=hh(n),[D,M]=N.useState(!1),W=N.useRef(!1);N.useEffect(()=>{if(O)return KE(O)},[O]),SE();const j=N.useCallback(J=>{const[ae,...ge]=X().map(Ee=>Ee.ref.current),[le]=ge.slice(-1),xe=document.activeElement;for(const Ee of J)if(Ee===xe||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ae&&P&&(P.scrollTop=0),Ee===le&&P&&(P.scrollTop=P.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==xe))return},[X,P]),H=N.useCallback(()=>j([z,O]),[j,z,O]);N.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:R,triggerPointerDownPosRef:F}=T;N.useEffect(()=>{if(O){let J={x:0,y:0};const ae=le=>{var xe,Ee;J={x:Math.abs(Math.round(le.pageX)-(((xe=F.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Ee=F.current)==null?void 0:Ee.y)??0))}},ge=le=>{J.x<=10&&J.y<=10?le.preventDefault():O.contains(le.target)||R(!1),document.removeEventListener("pointermove",ae),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ge,{capture:!0})}}},[O,R,F]),N.useEffect(()=>{const J=()=>R(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[R]);const[q,$]=NC(J=>{const ae=X().filter(xe=>!xe.disabled),ge=ae.find(xe=>xe.ref.current===document.activeElement),le=kC(ae,J,ge);le&&setTimeout(()=>le.ref.current.focus())}),K=N.useCallback((J,ae,ge)=>{const le=!W.current&&!ge;(T.value!==void 0&&T.value===ae||le)&&(Q(J),le&&(W.current=!0))},[T.value]),ee=N.useCallback(()=>O==null?void 0:O.focus(),[O]),se=N.useCallback((J,ae,ge)=>{const le=!W.current&&!ge;(T.value!==void 0&&T.value===ae||le)&&L(J)},[T.value]),ce=r==="popper"?Mm:fC,me=ce===Mm?{side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:_}:{};return b.jsx(uC,{scope:n,content:O,viewport:P,onViewportChange:U,itemRefCallback:K,selectedItem:z,onItemLeave:ee,itemTextRefCallback:se,focusSelectedItem:H,selectedItemText:oe,position:r,isPositioned:D,searchRef:q,children:b.jsx(Zv,{as:VM,allowPinchZoom:!0,children:b.jsx(Uv,{asChild:!0,trapped:T.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ct(s,J=>{var ae;(ae=T.trigger)==null||ae.focus({preventScroll:!0}),J.preventDefault()}),children:b.jsx(zv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:b.jsx(ce,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:J=>J.preventDefault(),...C,...me,onPlaced:()=>M(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ct(C.onKeyDown,J=>{const ae=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ae&&J.key.length===1&&$(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let le=X().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const xe=J.target,Ee=le.indexOf(xe);le=le.slice(Ee+1)}setTimeout(()=>j(le)),J.preventDefault()}})})})})})})});dC.displayName=HM;var WM="SelectItemAlignedPosition",fC=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=pi(ia,n),l=gi(ia,n),[c,d]=N.useState(null),[f,h]=N.useState(null),g=Ht(e,B=>h(B)),m=hh(n),v=N.useRef(!1),w=N.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:C,focusSelectedItem:T}=l,O=N.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&x&&_&&C){const B=i.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),Q=i.valueNode.getBoundingClientRect(),oe=C.getBoundingClientRect();if(i.dir!=="rtl"){const xe=oe.left-z.left,Ee=Q.left-xe,ze=B.left-Ee,Ue=B.width+ze,tt=Math.max(Ue,z.width),At=window.innerWidth-ts,Ct=E1(Ee,[ts,Math.max(ts,At-tt)]);c.style.minWidth=Ue+"px",c.style.left=Ct+"px"}else{const xe=z.right-oe.right,Ee=window.innerWidth-Q.right-xe,ze=window.innerWidth-B.right-Ee,Ue=B.width+ze,tt=Math.max(Ue,z.width),At=window.innerWidth-ts,Ct=E1(Ee,[ts,Math.max(ts,At-tt)]);c.style.minWidth=Ue+"px",c.style.right=Ct+"px"}const L=m(),X=window.innerHeight-ts*2,D=x.scrollHeight,M=window.getComputedStyle(f),W=parseInt(M.borderTopWidth,10),j=parseInt(M.paddingTop,10),H=parseInt(M.borderBottomWidth,10),R=parseInt(M.paddingBottom,10),F=W+j+D+R+H,q=Math.min(_.offsetHeight*5,F),$=window.getComputedStyle(x),K=parseInt($.paddingTop,10),ee=parseInt($.paddingBottom,10),se=B.top+B.height/2-ts,ce=X-se,me=_.offsetHeight/2,J=_.offsetTop+me,ae=W+j+J,ge=F-ae;if(ae<=se){const xe=L.length>0&&_===L[L.length-1].ref.current;c.style.bottom="0px";const Ee=f.clientHeight-x.offsetTop-x.offsetHeight,ze=Math.max(ce,me+(xe?ee:0)+Ee+H),Ue=ae+ze;c.style.height=Ue+"px"}else{const xe=L.length>0&&_===L[0].ref.current;c.style.top="0px";const ze=Math.max(se,W+x.offsetTop+(xe?K:0)+me)+ge;c.style.height=ze+"px",x.scrollTop=ae-se+x.offsetTop}c.style.margin=`${ts}px 0`,c.style.minHeight=q+"px",c.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,c,f,x,_,C,i.dir,r]);Bn(()=>O(),[O]);const[k,P]=N.useState();Bn(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const U=N.useCallback(B=>{B&&w.current===!0&&(O(),T==null||T(),w.current=!1)},[O,T]);return b.jsx(GM,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:U,children:b.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:b.jsx(ht.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fC.displayName=WM;var KM="SelectPopperPosition",Mm=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ts,...i}=t,l=ph(n);return b.jsx(F4,{...l,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mm.displayName=KM;var[GM,Jv]=Gl(ia,{}),Dm="SelectViewport",hC=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=gi(Dm,n),l=Jv(Dm,n),c=Ht(e,i.onViewportChange),d=N.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),b.jsx(fh.Slot,{scope:n,children:b.jsx(ht.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ct(s.onScroll,f=>{const h=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=l;if(m!=null&&m.current&&g){const v=Math.abs(d.current-h.scrollTop);if(v>0){const w=window.innerHeight-ts*2,x=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),C=Math.max(x,_);if(C<w){const T=C+v,O=Math.min(w,T),k=T-O;g.style.height=O+"px",g.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,g.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});hC.displayName=Dm;var pC="SelectGroup",[XM,YM]=Gl(pC),ZM=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ai();return b.jsx(XM,{scope:n,id:s,children:b.jsx(ht.div,{role:"group","aria-labelledby":s,...r,ref:e})})});ZM.displayName=pC;var gC="SelectLabel",JM=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=YM(gC,n);return b.jsx(ht.div,{id:s.id,...r,ref:e})});JM.displayName=gC;var Lf="SelectItem",[QM,mC]=Gl(Lf),vC=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=t,c=pi(Lf,n),d=gi(Lf,n),f=c.value===r,[h,g]=N.useState(i??""),[m,v]=N.useState(!1),w=Ht(e,T=>{var O;return(O=d.itemRefCallback)==null?void 0:O.call(d,T,r,s)}),x=ai(),_=N.useRef("touch"),C=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(QM,{scope:n,value:r,disabled:s,textId:x,isSelected:f,onItemTextChange:N.useCallback(T=>{g(O=>O||((T==null?void 0:T.textContent)??"").trim())},[]),children:b.jsx(fh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:b.jsx(ht.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:ct(l.onFocus,()=>v(!0)),onBlur:ct(l.onBlur,()=>v(!1)),onClick:ct(l.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:ct(l.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:ct(l.onPointerDown,T=>{_.current=T.pointerType}),onPointerMove:ct(l.onPointerMove,T=>{var O;_.current=T.pointerType,s?(O=d.onItemLeave)==null||O.call(d):_.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ct(l.onPointerLeave,T=>{var O;T.currentTarget===document.activeElement&&((O=d.onItemLeave)==null||O.call(d))}),onKeyDown:ct(l.onKeyDown,T=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&T.key===" "||(DM.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});vC.displayName=Lf;var jc="SelectItemText",yC=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,l=pi(jc,n),c=gi(jc,n),d=mC(jc,n),f=UM(jc,n),[h,g]=N.useState(null),m=Ht(e,C=>g(C),d.onItemTextChange,C=>{var T;return(T=c.itemTextRefCallback)==null?void 0:T.call(c,C,d.value,d.disabled)}),v=h==null?void 0:h.textContent,w=N.useMemo(()=>b.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=f;return Bn(()=>(x(w),()=>_(w)),[x,_,w]),b.jsxs(b.Fragment,{children:[b.jsx(ht.span,{id:d.textId,...i,ref:m}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Su.createPortal(i.children,l.valueNode):null]})});yC.displayName=jc;var wC="SelectItemIndicator",bC=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mC(wC,n).isSelected?b.jsx(ht.span,{"aria-hidden":!0,...r,ref:e}):null});bC.displayName=wC;var $m="SelectScrollUpButton",xC=N.forwardRef((t,e)=>{const n=gi($m,t.__scopeSelect),r=Jv($m,t.__scopeSelect),[s,i]=N.useState(!1),l=Ht(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?b.jsx(_C,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});xC.displayName=$m;var Bm="SelectScrollDownButton",SC=N.forwardRef((t,e)=>{const n=gi(Bm,t.__scopeSelect),r=Jv(Bm,t.__scopeSelect),[s,i]=N.useState(!1),l=Ht(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?b.jsx(_C,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});SC.displayName=Bm;var _C=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=gi("SelectScrollButton",n),l=N.useRef(null),c=hh(n),d=N.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),Bn(()=>{var h;const f=c().find(g=>g.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),b.jsx(ht.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ct(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ct(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ct(s.onPointerLeave,()=>{d()})})}),e5="SelectSeparator",t5=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return b.jsx(ht.div,{"aria-hidden":!0,...r,ref:e})});t5.displayName=e5;var zm="SelectArrow",n5=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ph(n),i=pi(zm,n),l=gi(zm,n);return i.open&&l.position==="popper"?b.jsx(q4,{...s,...r,ref:e}):null});n5.displayName=zm;var r5="SelectBubbleInput",EC=N.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=N.useRef(null),i=Ht(r,s),l=jM(e);return N.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&h){const g=new Event("change",{bubbles:!0});h.call(c,e),c.dispatchEvent(g)}},[l,e]),b.jsx(ht.select,{...n,style:{...tC,...n.style},ref:i,defaultValue:e})});EC.displayName=r5;function CC(t){return t===""||t===void 0}function NC(t){const e=ci(t),n=N.useRef(""),r=N.useRef(0),s=N.useCallback(l=>{const c=n.current+l;e(c),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),i=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function kC(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=s5(t,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function s5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var o5=nC,i5=sC,a5=iC,l5=aC,c5=lC,u5=cC,d5=hC,f5=vC,h5=yC,p5=bC,g5=xC,m5=SC;function tu({...t}){return b.jsx(o5,{"data-slot":"select",...t})}function nu({...t}){return b.jsx(a5,{"data-slot":"select-value",...t})}function ru({className:t,size:e="default",children:n,...r}){return b.jsxs(i5,{"data-slot":"select-trigger","data-size":e,className:It("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,b.jsx(l5,{asChild:!0,children:b.jsx(G_,{className:"size-4 opacity-50"})})]})}function su({className:t,children:e,position:n="popper",...r}){return b.jsx(c5,{children:b.jsxs(u5,{"data-slot":"select-content",className:It("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[b.jsx(v5,{}),b.jsx(d5,{className:It("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),b.jsx(y5,{})]})})}function uo({className:t,children:e,...n}){return b.jsxs(f5,{"data-slot":"select-item",className:It("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[b.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:b.jsx(p5,{children:b.jsx(cR,{className:"size-4"})})}),b.jsx(h5,{children:e})]})}function v5({className:t,...e}){return b.jsx(g5,{"data-slot":"select-scroll-up-button",className:It("flex cursor-default items-center justify-center py-1",t),...e,children:b.jsx(fR,{className:"size-4"})})}function y5({className:t,...e}){return b.jsx(m5,{"data-slot":"select-scroll-down-button",className:It("flex cursor-default items-center justify-center py-1",t),...e,children:b.jsx(G_,{className:"size-4"})})}function w5(t){let e;const n=new Set,r=(f,h)=>{const g=typeof f=="function"?f(e):f;if(g!==e){const m=e;e=h?g:Object.assign({},e,g),n.forEach(v=>v(e,m))}},s=()=>e,i=(f,h=s,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=h(e);function v(){const w=h(e);if(!g(m,w)){const x=m;f(m=w,x)}}return n.add(v),()=>n.delete(v)},d={setState:r,getState:s,subscribe:(f,h,g)=>h||g?i(f,h,g):(n.add(f),()=>n.delete(f)),destroy:()=>n.clear()};return e=t(r,s,d),d}const b5=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),C1=b5?N.useEffect:N.useLayoutEffect;function x5(t){const e=typeof t=="function"?w5(t):t,n=(r=e.getState,s=Object.is)=>{const[,i]=N.useReducer(_=>_+1,0),l=e.getState(),c=N.useRef(l),d=N.useRef(r),f=N.useRef(s),h=N.useRef(!1),g=N.useRef();g.current===void 0&&(g.current=r(l));let m,v=!1;(c.current!==l||d.current!==r||f.current!==s||h.current)&&(m=r(l),v=!s(g.current,m)),C1(()=>{v&&(g.current=m),c.current=l,d.current=r,f.current=s,h.current=!1});const w=N.useRef(l);C1(()=>{const _=()=>{try{const T=e.getState(),O=d.current(T);f.current(g.current,O)||(c.current=T,g.current=O,i())}catch{h.current=!0,i()}},C=e.subscribe(_);return e.getState()!==w.current&&_(),C},[]);const x=v?m:g.current;return N.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const s=r.length<=0;return{value:r.shift(),done:s}}}},n}function S5(){const t=N.createContext(void 0);return{Provider:({initialStore:s,createStore:i,children:l})=>{const c=N.useRef();return c.current||(s&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),i||(i=()=>s)),c.current=i()),N.createElement(t.Provider,{value:c.current},l)},useStore:(s,i=Object.is)=>{const l=N.useContext(t);if(!l)throw new Error("Seems like you have not used zustand provider as an ancestor.");return l(s,i)},useStoreApi:()=>{const s=N.useContext(t);if(!s)throw new Error("Seems like you have not used zustand provider as an ancestor.");return N.useMemo(()=>({getState:s.getState,setState:s.setState,subscribe:s.subscribe,destroy:s.destroy}),[s])}}}var _5={value:()=>{}};function gh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new vf(n)}function vf(t){this._=t}function E5(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}vf.prototype=gh.prototype={constructor:vf,on:function(t,e){var n=this._,r=E5(t+"",n),s,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((s=(t=r[i]).type)&&(s=C5(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<l;)if(s=(t=r[i]).type)n[s]=N1(n[s],t.name,e);else if(e==null)for(s in n)n[s]=N1(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vf(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function C5(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function N1(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=_5,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Um="http://www.w3.org/1999/xhtml";const k1={svg:"http://www.w3.org/2000/svg",xhtml:Um,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mh(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),k1.hasOwnProperty(e)?{space:k1[e],local:t}:t}function N5(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Um&&e.documentElement.namespaceURI===Um?e.createElement(t):e.createElementNS(n,t)}}function k5(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function OC(t){var e=mh(t);return(e.local?k5:N5)(e)}function O5(){}function Qv(t){return t==null?O5:function(){return this.querySelector(t)}}function T5(t){typeof t!="function"&&(t=Qv(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],l=i.length,c=r[s]=new Array(l),d,f,h=0;h<l;++h)(d=i[h])&&(f=t.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f);return new xr(r,this._parents)}function A5(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function P5(){return[]}function TC(t){return t==null?P5:function(){return this.querySelectorAll(t)}}function R5(t){return function(){return A5(t.apply(this,arguments))}}function j5(t){typeof t=="function"?t=R5(t):t=TC(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var l=e[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&(r.push(t.call(d,d.__data__,f,l)),s.push(d));return new xr(r,s)}function AC(t){return function(){return this.matches(t)}}function PC(t){return function(e){return e.matches(t)}}var L5=Array.prototype.find;function I5(t){return function(){return L5.call(this.children,t)}}function M5(){return this.firstElementChild}function D5(t){return this.select(t==null?M5:I5(typeof t=="function"?t:PC(t)))}var $5=Array.prototype.filter;function B5(){return Array.from(this.children)}function z5(t){return function(){return $5.call(this.children,t)}}function U5(t){return this.selectAll(t==null?B5:z5(typeof t=="function"?t:PC(t)))}function F5(t){typeof t!="function"&&(t=AC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],l=i.length,c=r[s]=[],d,f=0;f<l;++f)(d=i[f])&&t.call(d,d.__data__,f,i)&&c.push(d);return new xr(r,this._parents)}function RC(t){return new Array(t.length)}function q5(){return new xr(this._enter||this._groups.map(RC),this._parents)}function If(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}If.prototype={constructor:If,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function H5(t){return function(){return t}}function V5(t,e,n,r,s,i){for(var l=0,c,d=e.length,f=i.length;l<f;++l)(c=e[l])?(c.__data__=i[l],r[l]=c):n[l]=new If(t,i[l]);for(;l<d;++l)(c=e[l])&&(s[l]=c)}function W5(t,e,n,r,s,i,l){var c,d,f=new Map,h=e.length,g=i.length,m=new Array(h),v;for(c=0;c<h;++c)(d=e[c])&&(m[c]=v=l.call(d,d.__data__,c,e)+"",f.has(v)?s[c]=d:f.set(v,d));for(c=0;c<g;++c)v=l.call(t,i[c],c,i)+"",(d=f.get(v))?(r[c]=d,d.__data__=i[c],f.delete(v)):n[c]=new If(t,i[c]);for(c=0;c<h;++c)(d=e[c])&&f.get(m[c])===d&&(s[c]=d)}function K5(t){return t.__data__}function G5(t,e){if(!arguments.length)return Array.from(this,K5);var n=e?W5:V5,r=this._parents,s=this._groups;typeof t!="function"&&(t=H5(t));for(var i=s.length,l=new Array(i),c=new Array(i),d=new Array(i),f=0;f<i;++f){var h=r[f],g=s[f],m=g.length,v=X5(t.call(h,h&&h.__data__,f,r)),w=v.length,x=c[f]=new Array(w),_=l[f]=new Array(w),C=d[f]=new Array(m);n(h,g,x,_,C,v,e);for(var T=0,O=0,k,P;T<w;++T)if(k=x[T]){for(T>=O&&(O=T+1);!(P=_[O])&&++O<w;);k._next=P||null}}return l=new xr(l,r),l._enter=c,l._exit=d,l}function X5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y5(){return new xr(this._exit||this._groups.map(RC),this._parents)}function Z5(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function J5(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,l=Math.min(s,i),c=new Array(s),d=0;d<l;++d)for(var f=n[d],h=r[d],g=f.length,m=c[d]=new Array(g),v,w=0;w<g;++w)(v=f[w]||h[w])&&(m[w]=v);for(;d<s;++d)c[d]=n[d];return new xr(c,this._parents)}function Q5(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],l;--s>=0;)(l=r[s])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function e3(t){t||(t=t3);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var l=n[i],c=l.length,d=s[i]=new Array(c),f,h=0;h<c;++h)(f=l[h])&&(d[h]=f);d.sort(e)}return new xr(s,this._parents).order()}function t3(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n3(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function r3(){return Array.from(this)}function s3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var l=r[s];if(l)return l}return null}function o3(){let t=0;for(const e of this)++t;return t}function i3(){return!this.node()}function a3(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,l=s.length,c;i<l;++i)(c=s[i])&&t.call(c,c.__data__,i,s);return this}function l3(t){return function(){this.removeAttribute(t)}}function c3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function u3(t,e){return function(){this.setAttribute(t,e)}}function d3(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function f3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function h3(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function p3(t,e){var n=mh(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?c3:l3:typeof e=="function"?n.local?h3:f3:n.local?d3:u3)(n,e))}function jC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function g3(t){return function(){this.style.removeProperty(t)}}function m3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function v3(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function y3(t,e,n){return arguments.length>1?this.each((e==null?g3:typeof e=="function"?v3:m3)(t,e,n??"")):Al(this.node(),t)}function Al(t,e){return t.style.getPropertyValue(e)||jC(t).getComputedStyle(t,null).getPropertyValue(e)}function w3(t){return function(){delete this[t]}}function b3(t,e){return function(){this[t]=e}}function x3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function S3(t,e){return arguments.length>1?this.each((e==null?w3:typeof e=="function"?x3:b3)(t,e)):this.node()[t]}function LC(t){return t.trim().split(/^|\s+/)}function e0(t){return t.classList||new IC(t)}function IC(t){this._node=t,this._names=LC(t.getAttribute("class")||"")}IC.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function MC(t,e){for(var n=e0(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function DC(t,e){for(var n=e0(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function _3(t){return function(){MC(this,t)}}function E3(t){return function(){DC(this,t)}}function C3(t,e){return function(){(e.apply(this,arguments)?MC:DC)(this,t)}}function N3(t,e){var n=LC(t+"");if(arguments.length<2){for(var r=e0(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?C3:e?_3:E3)(n,e))}function k3(){this.textContent=""}function O3(t){return function(){this.textContent=t}}function T3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function A3(t){return arguments.length?this.each(t==null?k3:(typeof t=="function"?T3:O3)(t)):this.node().textContent}function P3(){this.innerHTML=""}function R3(t){return function(){this.innerHTML=t}}function j3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function L3(t){return arguments.length?this.each(t==null?P3:(typeof t=="function"?j3:R3)(t)):this.node().innerHTML}function I3(){this.nextSibling&&this.parentNode.appendChild(this)}function M3(){return this.each(I3)}function D3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $3(){return this.each(D3)}function B3(t){var e=typeof t=="function"?t:OC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function z3(){return null}function U3(t,e){var n=typeof t=="function"?t:OC(t),r=e==null?z3:typeof e=="function"?e:Qv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function F3(){var t=this.parentNode;t&&t.removeChild(this)}function q3(){return this.each(F3)}function H3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function V3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function W3(t){return this.select(t?V3:H3)}function K3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function G3(t){return function(e){t.call(this,e,this.__data__)}}function X3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Y3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Z3(t,e,n){return function(){var r=this.__on,s,i=G3(e);if(r){for(var l=0,c=r.length;l<c;++l)if((s=r[l]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function J3(t,e,n){var r=X3(t+""),s,i=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,h;d<f;++d)for(s=0,h=c[d];s<i;++s)if((l=r[s]).type===h.type&&l.name===h.name)return h.value}return}for(c=e?Z3:Y3,s=0;s<i;++s)this.each(c(r[s],e,n));return this}function $C(t,e,n){var r=jC(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Q3(t,e){return function(){return $C(this,t,e)}}function eD(t,e){return function(){return $C(this,t,e.apply(this,arguments))}}function tD(t,e){return this.each((typeof e=="function"?eD:Q3)(t,e))}function*nD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,l;s<i;++s)(l=r[s])&&(yield l)}var BC=[null];function xr(t,e){this._groups=t,this._parents=e}function Tu(){return new xr([[document.documentElement]],BC)}function rD(){return this}xr.prototype=Tu.prototype={constructor:xr,select:T5,selectAll:j5,selectChild:D5,selectChildren:U5,filter:F5,data:G5,enter:q5,exit:Y5,join:Z5,merge:J5,selection:rD,order:Q5,sort:e3,call:n3,nodes:r3,node:s3,size:o3,empty:i3,each:a3,attr:p3,style:y3,property:S3,classed:N3,text:A3,html:L3,raise:M3,lower:$3,append:B3,insert:U3,remove:q3,clone:W3,datum:K3,on:J3,dispatch:tD,[Symbol.iterator]:nD};function is(t){return typeof t=="string"?new xr([[document.querySelector(t)]],[document.documentElement]):new xr([[t]],BC)}function sD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ps(t,e){if(t=sD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const oD={passive:!1},ou={capture:!0,passive:!1};function Og(t){t.stopImmediatePropagation()}function bl(t){t.preventDefault(),t.stopImmediatePropagation()}function zC(t){var e=t.document.documentElement,n=is(t).on("dragstart.drag",bl,ou);"onselectstart"in e?n.on("selectstart.drag",bl,ou):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function UC(t,e){var n=t.document.documentElement,r=is(t).on("dragstart.drag",null);e&&(r.on("click.drag",bl,ou),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qd=t=>()=>t;function Fm(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:l,y:c,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}Fm.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function iD(t){return!t.ctrlKey&&!t.button}function aD(){return this.parentNode}function lD(t,e){return e??{x:t.x,y:t.y}}function cD(){return navigator.maxTouchPoints||"ontouchstart"in this}function uD(){var t=iD,e=aD,n=lD,r=cD,s={},i=gh("start","drag","end"),l=0,c,d,f,h,g=0;function m(k){k.on("mousedown.drag",v).filter(r).on("touchstart.drag",_).on("touchmove.drag",C,oD).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(k,P){if(!(h||!t.call(this,k,P))){var U=O(this,e.call(this,k,P),k,P,"mouse");U&&(is(k.view).on("mousemove.drag",w,ou).on("mouseup.drag",x,ou),zC(k.view),Og(k),f=!1,c=k.clientX,d=k.clientY,U("start",k))}}function w(k){if(bl(k),!f){var P=k.clientX-c,U=k.clientY-d;f=P*P+U*U>g}s.mouse("drag",k)}function x(k){is(k.view).on("mousemove.drag mouseup.drag",null),UC(k.view,f),bl(k),s.mouse("end",k)}function _(k,P){if(t.call(this,k,P)){var U=k.changedTouches,B=e.call(this,k,P),z=U.length,Q,oe;for(Q=0;Q<z;++Q)(oe=O(this,B,k,P,U[Q].identifier,U[Q]))&&(Og(k),oe("start",k,U[Q]))}}function C(k){var P=k.changedTouches,U=P.length,B,z;for(B=0;B<U;++B)(z=s[P[B].identifier])&&(bl(k),z("drag",k,P[B]))}function T(k){var P=k.changedTouches,U=P.length,B,z;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),B=0;B<U;++B)(z=s[P[B].identifier])&&(Og(k),z("end",k,P[B]))}function O(k,P,U,B,z,Q){var oe=i.copy(),L=Ps(Q||U,P),X,D,M;if((M=n.call(k,new Fm("beforestart",{sourceEvent:U,target:m,identifier:z,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:oe}),B))!=null)return X=M.x-L[0]||0,D=M.y-L[1]||0,function W(j,H,R){var F=L,q;switch(j){case"start":s[z]=W,q=l++;break;case"end":delete s[z],--l;case"drag":L=Ps(R||H,P),q=l;break}oe.call(j,k,new Fm(j,{sourceEvent:H,subject:M,target:m,identifier:z,active:q,x:L[0]+X,y:L[1]+D,dx:L[0]-F[0],dy:L[1]-F[1],dispatch:oe}),B)}}return m.filter=function(k){return arguments.length?(t=typeof k=="function"?k:qd(!!k),m):t},m.container=function(k){return arguments.length?(e=typeof k=="function"?k:qd(k),m):e},m.subject=function(k){return arguments.length?(n=typeof k=="function"?k:qd(k),m):n},m.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:qd(!!k),m):r},m.on=function(){var k=i.on.apply(i,arguments);return k===i?m:k},m.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,m):Math.sqrt(g)},m}function t0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function FC(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Au(){}var iu=.7,Mf=1/iu,xl="\\s*([+-]?\\d+)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dD=/^#([0-9a-f]{3,8})$/,fD=new RegExp(`^rgb\\(${xl},${xl},${xl}\\)$`),hD=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),pD=new RegExp(`^rgba\\(${xl},${xl},${xl},${au}\\)$`),gD=new RegExp(`^rgba\\(${Is},${Is},${Is},${au}\\)$`),mD=new RegExp(`^hsl\\(${au},${Is},${Is}\\)$`),vD=new RegExp(`^hsla\\(${au},${Is},${Is},${au}\\)$`),O1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t0(Au,lu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T1,formatHex:T1,formatHex8:yD,formatHsl:wD,formatRgb:A1,toString:A1});function T1(){return this.rgb().formatHex()}function yD(){return this.rgb().formatHex8()}function wD(){return qC(this).formatHsl()}function A1(){return this.rgb().formatRgb()}function lu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?P1(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fD.exec(t))?new sr(e[1],e[2],e[3],1):(e=hD.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pD.exec(t))?Hd(e[1],e[2],e[3],e[4]):(e=gD.exec(t))?Hd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mD.exec(t))?L1(e[1],e[2]/100,e[3]/100,1):(e=vD.exec(t))?L1(e[1],e[2]/100,e[3]/100,e[4]):O1.hasOwnProperty(t)?P1(O1[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function P1(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Hd(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function bD(t){return t instanceof Au||(t=lu(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function qm(t,e,n,r){return arguments.length===1?bD(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}t0(sr,qm,FC(Au,{brighter(t){return t=t==null?Mf:Math.pow(Mf,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?iu:Math.pow(iu,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(ea(this.r),ea(this.g),ea(this.b),Df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R1,formatHex:R1,formatHex8:xD,formatRgb:j1,toString:j1}));function R1(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function xD(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function j1(){const t=Df(this.opacity);return`${t===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${t===1?")":`, ${t})`}`}function Df(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ea(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ji(t){return t=ea(t),(t<16?"0":"")+t.toString(16)}function L1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new as(t,e,n,r)}function qC(t){if(t instanceof as)return new as(t.h,t.s,t.l,t.opacity);if(t instanceof Au||(t=lu(t)),!t)return new as;if(t instanceof as)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),l=NaN,c=i-s,d=(i+s)/2;return c?(e===i?l=(n-r)/c+(n<r)*6:n===i?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?i+s:2-i-s,l*=60):c=d>0&&d<1?0:l,new as(l,c,d,t.opacity)}function SD(t,e,n,r){return arguments.length===1?qC(t):new as(t,e,n,r??1)}function as(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}t0(as,SD,FC(Au,{brighter(t){return t=t==null?Mf:Math.pow(Mf,t),new as(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?iu:Math.pow(iu,t),new as(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new sr(Tg(t>=240?t-240:t+120,s,r),Tg(t,s,r),Tg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new as(I1(this.h),Vd(this.s),Vd(this.l),Df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Df(this.opacity);return`${t===1?"hsl(":"hsla("}${I1(this.h)}, ${Vd(this.s)*100}%, ${Vd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I1(t){return t=(t||0)%360,t<0?t+360:t}function Vd(t){return Math.max(0,Math.min(1,t||0))}function Tg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const HC=t=>()=>t;function _D(t,e){return function(n){return t+n*e}}function ED(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CD(t){return(t=+t)==1?VC:function(e,n){return n-e?ED(e,n,t):HC(isNaN(e)?n:e)}}function VC(t,e){var n=e-t;return n?_D(t,n):HC(isNaN(t)?e:t)}const M1=(function t(e){var n=CD(e);function r(s,i){var l=n((s=qm(s)).r,(i=qm(i)).r),c=n(s.g,i.g),d=n(s.b,i.b),f=VC(s.opacity,i.opacity);return function(h){return s.r=l(h),s.g=c(h),s.b=d(h),s.opacity=f(h),s+""}}return r.gamma=t,r})(1);function Qo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Hm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ag=new RegExp(Hm.source,"g");function ND(t){return function(){return t}}function kD(t){return function(e){return t(e)+""}}function OD(t,e){var n=Hm.lastIndex=Ag.lastIndex=0,r,s,i,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Hm.exec(t))&&(s=Ag.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,d.push({i:l,x:Qo(r,s)})),n=Ag.lastIndex;return n<e.length&&(i=e.slice(n),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?kD(d[0].x):ND(e):(e=d.length,function(f){for(var h=0,g;h<e;++h)c[(g=d[h]).i]=g.x(f);return c.join("")})}var D1=180/Math.PI,Vm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function WC(t,e,n,r,s,i){var l,c,d;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(d=t*n+e*r)&&(n-=t*d,r-=e*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),t*r<e*n&&(t=-t,e=-e,d=-d,l=-l),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*D1,skewX:Math.atan(d)*D1,scaleX:l,scaleY:c}}var Wd;function TD(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vm:WC(e.a,e.b,e.c,e.d,e.e,e.f)}function AD(t){return t==null||(Wd||(Wd=document.createElementNS("http://www.w3.org/2000/svg","g")),Wd.setAttribute("transform",t),!(t=Wd.transform.baseVal.consolidate()))?Vm:(t=t.matrix,WC(t.a,t.b,t.c,t.d,t.e,t.f))}function KC(t,e,n,r){function s(f){return f.length?f.pop()+" ":""}function i(f,h,g,m,v,w){if(f!==g||h!==m){var x=v.push("translate(",null,e,null,n);w.push({i:x-4,x:Qo(f,g)},{i:x-2,x:Qo(h,m)})}else(g||m)&&v.push("translate("+g+e+m+n)}function l(f,h,g,m){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),m.push({i:g.push(s(g)+"rotate(",null,r)-2,x:Qo(f,h)})):h&&g.push(s(g)+"rotate("+h+r)}function c(f,h,g,m){f!==h?m.push({i:g.push(s(g)+"skewX(",null,r)-2,x:Qo(f,h)}):h&&g.push(s(g)+"skewX("+h+r)}function d(f,h,g,m,v,w){if(f!==g||h!==m){var x=v.push(s(v)+"scale(",null,",",null,")");w.push({i:x-4,x:Qo(f,g)},{i:x-2,x:Qo(h,m)})}else(g!==1||m!==1)&&v.push(s(v)+"scale("+g+","+m+")")}return function(f,h){var g=[],m=[];return f=t(f),h=t(h),i(f.translateX,f.translateY,h.translateX,h.translateY,g,m),l(f.rotate,h.rotate,g,m),c(f.skewX,h.skewX,g,m),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,g,m),f=h=null,function(v){for(var w=-1,x=m.length,_;++w<x;)g[(_=m[w]).i]=_.x(v);return g.join("")}}}var PD=KC(TD,"px, ","px)","deg)"),RD=KC(AD,", ",")",")"),jD=1e-12;function $1(t){return((t=Math.exp(t))+1/t)/2}function LD(t){return((t=Math.exp(t))-1/t)/2}function ID(t){return((t=Math.exp(2*t))-1)/(t+1)}const MD=(function t(e,n,r){function s(i,l){var c=i[0],d=i[1],f=i[2],h=l[0],g=l[1],m=l[2],v=h-c,w=g-d,x=v*v+w*w,_,C;if(x<jD)C=Math.log(m/f)/e,_=function(B){return[c+B*v,d+B*w,f*Math.exp(e*B*C)]};else{var T=Math.sqrt(x),O=(m*m-f*f+r*x)/(2*f*n*T),k=(m*m-f*f-r*x)/(2*m*n*T),P=Math.log(Math.sqrt(O*O+1)-O),U=Math.log(Math.sqrt(k*k+1)-k);C=(U-P)/e,_=function(B){var z=B*C,Q=$1(P),oe=f/(n*T)*(Q*ID(e*z+P)-LD(P));return[c+oe*v,d+oe*w,f*Q/$1(e*z+P)]}}return _.duration=C*1e3*e/Math.SQRT2,_}return s.rho=function(i){var l=Math.max(.001,+i),c=l*l,d=c*c;return t(l,c,d)},s})(Math.SQRT2,2,4);var Pl=0,Lc=0,Cc=0,GC=1e3,$f,Ic,Bf=0,aa=0,vh=0,cu=typeof performance=="object"&&performance.now?performance:Date,XC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function n0(){return aa||(XC(DD),aa=cu.now()+vh)}function DD(){aa=0}function zf(){this._call=this._time=this._next=null}zf.prototype=YC.prototype={constructor:zf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?n0():+n)+(e==null?0:+e),!this._next&&Ic!==this&&(Ic?Ic._next=this:$f=this,Ic=this),this._call=t,this._time=n,Wm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wm())}};function YC(t,e,n){var r=new zf;return r.restart(t,e,n),r}function $D(){n0(),++Pl;for(var t=$f,e;t;)(e=aa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pl}function B1(){aa=(Bf=cu.now())+vh,Pl=Lc=0;try{$D()}finally{Pl=0,zD(),aa=0}}function BD(){var t=cu.now(),e=t-Bf;e>GC&&(vh-=e,Bf=t)}function zD(){for(var t,e=$f,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$f=n);Ic=t,Wm(r)}function Wm(t){if(!Pl){Lc&&(Lc=clearTimeout(Lc));var e=t-aa;e>24?(t<1/0&&(Lc=setTimeout(B1,t-cu.now()-vh)),Cc&&(Cc=clearInterval(Cc))):(Cc||(Bf=cu.now(),Cc=setInterval(BD,GC)),Pl=1,XC(B1))}}function z1(t,e,n){var r=new zf;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var UD=gh("start","end","cancel","interrupt"),FD=[],ZC=0,U1=1,Km=2,yf=3,F1=4,Gm=5,wf=6;function yh(t,e,n,r,s,i){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;qD(t,n,{name:e,index:r,group:s,on:UD,tween:FD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ZC})}function r0(t,e){var n=ps(t,e);if(n.state>ZC)throw new Error("too late; already scheduled");return n}function Fs(t,e){var n=ps(t,e);if(n.state>yf)throw new Error("too late; already running");return n}function ps(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function qD(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=YC(i,0,n.time);function i(f){n.state=U1,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var h,g,m,v;if(n.state!==U1)return d();for(h in r)if(v=r[h],v.name===n.name){if(v.state===yf)return z1(l);v.state===F1?(v.state=wf,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[h]):+h<e&&(v.state=wf,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[h])}if(z1(function(){n.state===yf&&(n.state=F1,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=Km,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Km){for(n.state=yf,s=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(v=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(s[++g]=v);s.length=g+1}}function c(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Gm,1),g=-1,m=s.length;++g<m;)s[g].call(t,h);n.state===Gm&&(n.on.call("end",t,t.__data__,n.index,n.group),d())}function d(){n.state=wf,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function bf(t,e){var n=t.__transition,r,s,i=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){i=!1;continue}s=r.state>Km&&r.state<Gm,r.state=wf,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}i&&delete t.__transition}}function HD(t){return this.each(function(){bf(this,t)})}function VD(t,e){var n,r;return function(){var s=Fs(this,t),i=s.tween;if(i!==n){r=n=i;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}s.tween=r}}function WD(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Fs(this,t),l=i.tween;if(l!==r){s=(r=l).slice();for(var c={name:e,value:n},d=0,f=s.length;d<f;++d)if(s[d].name===e){s[d]=c;break}d===f&&s.push(c)}i.tween=s}}function KD(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ps(this.node(),n).tween,s=0,i=r.length,l;s<i;++s)if((l=r[s]).name===t)return l.value;return null}return this.each((e==null?VD:WD)(n,t,e))}function s0(t,e,n){var r=t._id;return t.each(function(){var s=Fs(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return ps(s,r).value[e]}}function JC(t,e){var n;return(typeof e=="number"?Qo:e instanceof lu?M1:(n=lu(e))?(e=n,M1):OD)(t,e)}function GD(t){return function(){this.removeAttribute(t)}}function XD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function YD(t,e,n){var r,s=n+"",i;return function(){var l=this.getAttribute(t);return l===s?null:l===r?i:i=e(r=l,n)}}function ZD(t,e,n){var r,s=n+"",i;return function(){var l=this.getAttributeNS(t.space,t.local);return l===s?null:l===r?i:i=e(r=l,n)}}function JD(t,e,n){var r,s,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),d=c+"",l===d?null:l===r&&d===s?i:(s=d,i=e(r=l,c)))}}function QD(t,e,n){var r,s,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),d=c+"",l===d?null:l===r&&d===s?i:(s=d,i=e(r=l,c)))}}function e$(t,e){var n=mh(t),r=n==="transform"?RD:JC;return this.attrTween(t,typeof e=="function"?(n.local?QD:JD)(n,r,s0(this,"attr."+t,e)):e==null?(n.local?XD:GD)(n):(n.local?ZD:YD)(n,r,e))}function t$(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function n$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function r$(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&n$(t,i)),n}return s._value=e,s}function s$(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&t$(t,i)),n}return s._value=e,s}function o$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=mh(t);return this.tween(n,(r.local?r$:s$)(r,e))}function i$(t,e){return function(){r0(this,t).delay=+e.apply(this,arguments)}}function a$(t,e){return e=+e,function(){r0(this,t).delay=e}}function l$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?i$:a$)(e,t)):ps(this.node(),e).delay}function c$(t,e){return function(){Fs(this,t).duration=+e.apply(this,arguments)}}function u$(t,e){return e=+e,function(){Fs(this,t).duration=e}}function d$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?c$:u$)(e,t)):ps(this.node(),e).duration}function f$(t,e){if(typeof e!="function")throw new Error;return function(){Fs(this,t).ease=e}}function h$(t){var e=this._id;return arguments.length?this.each(f$(e,t)):ps(this.node(),e).ease}function p$(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Fs(this,t).ease=n}}function g$(t){if(typeof t!="function")throw new Error;return this.each(p$(this._id,t))}function m$(t){typeof t!="function"&&(t=AC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],l=i.length,c=r[s]=[],d,f=0;f<l;++f)(d=i[f])&&t.call(d,d.__data__,f,i)&&c.push(d);return new go(r,this._parents,this._name,this._id)}function v$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),l=new Array(r),c=0;c<i;++c)for(var d=e[c],f=n[c],h=d.length,g=l[c]=new Array(h),m,v=0;v<h;++v)(m=d[v]||f[v])&&(g[v]=m);for(;c<r;++c)l[c]=e[c];return new go(l,this._parents,this._name,this._id)}function y$(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function w$(t,e,n){var r,s,i=y$(e)?r0:Fs;return function(){var l=i(this,t),c=l.on;c!==r&&(s=(r=c).copy()).on(e,n),l.on=s}}function b$(t,e){var n=this._id;return arguments.length<2?ps(this.node(),n).on.on(t):this.each(w$(n,t,e))}function x$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function S$(){return this.on("end.remove",x$(this._id))}function _$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qv(t));for(var r=this._groups,s=r.length,i=new Array(s),l=0;l<s;++l)for(var c=r[l],d=c.length,f=i[l]=new Array(d),h,g,m=0;m<d;++m)(h=c[m])&&(g=t.call(h,h.__data__,m,c))&&("__data__"in h&&(g.__data__=h.__data__),f[m]=g,yh(f[m],e,n,m,f,ps(h,n)));return new go(i,this._parents,e,n)}function E$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=TC(t));for(var r=this._groups,s=r.length,i=[],l=[],c=0;c<s;++c)for(var d=r[c],f=d.length,h,g=0;g<f;++g)if(h=d[g]){for(var m=t.call(h,h.__data__,g,d),v,w=ps(h,n),x=0,_=m.length;x<_;++x)(v=m[x])&&yh(v,e,n,x,m,w);i.push(m),l.push(h)}return new go(i,l,e,n)}var C$=Tu.prototype.constructor;function N$(){return new C$(this._groups,this._parents)}function k$(t,e){var n,r,s;return function(){var i=Al(this,t),l=(this.style.removeProperty(t),Al(this,t));return i===l?null:i===n&&l===r?s:s=e(n=i,r=l)}}function QC(t){return function(){this.style.removeProperty(t)}}function O$(t,e,n){var r,s=n+"",i;return function(){var l=Al(this,t);return l===s?null:l===r?i:i=e(r=l,n)}}function T$(t,e,n){var r,s,i;return function(){var l=Al(this,t),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(t),Al(this,t))),l===d?null:l===r&&d===s?i:(s=d,i=e(r=l,c))}}function A$(t,e){var n,r,s,i="style."+e,l="end."+i,c;return function(){var d=Fs(this,t),f=d.on,h=d.value[i]==null?c||(c=QC(e)):void 0;(f!==n||s!==h)&&(r=(n=f).copy()).on(l,s=h),d.on=r}}function P$(t,e,n){var r=(t+="")=="transform"?PD:JC;return e==null?this.styleTween(t,k$(t,r)).on("end.style."+t,QC(t)):typeof e=="function"?this.styleTween(t,T$(t,r,s0(this,"style."+t,e))).each(A$(this._id,t)):this.styleTween(t,O$(t,r,e),n).on("end.style."+t,null)}function R$(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function j$(t,e,n){var r,s;function i(){var l=e.apply(this,arguments);return l!==s&&(r=(s=l)&&R$(t,l,n)),r}return i._value=e,i}function L$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,j$(t,e,n??""))}function I$(t){return function(){this.textContent=t}}function M$(t){return function(){var e=t(this);this.textContent=e??""}}function D$(t){return this.tween("text",typeof t=="function"?M$(s0(this,"text",t)):I$(t==null?"":t+""))}function $$(t){return function(e){this.textContent=t.call(this,e)}}function B$(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&$$(s)),e}return r._value=t,r}function z$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,B$(t))}function U$(){for(var t=this._name,e=this._id,n=eN(),r=this._groups,s=r.length,i=0;i<s;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)if(d=l[f]){var h=ps(d,e);yh(d,t,n,f,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new go(r,this._parents,t,n)}function F$(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,l){var c={value:l},d={value:function(){--s===0&&i()}};n.each(function(){var f=Fs(this,r),h=f.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(d)),f.on=e}),s===0&&i()})}var q$=0;function go(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function eN(){return++q$}var io=Tu.prototype;go.prototype={constructor:go,select:_$,selectAll:E$,selectChild:io.selectChild,selectChildren:io.selectChildren,filter:m$,merge:v$,selection:N$,transition:U$,call:io.call,nodes:io.nodes,node:io.node,size:io.size,empty:io.empty,each:io.each,on:b$,attr:e$,attrTween:o$,style:P$,styleTween:L$,text:D$,textTween:z$,remove:S$,tween:KD,delay:l$,duration:d$,ease:h$,easeVarying:g$,end:F$,[Symbol.iterator]:io[Symbol.iterator]};function H$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var V$={time:null,delay:0,duration:250,ease:H$};function W$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function K$(t){var e,n;t instanceof go?(e=t._id,t=t._name):(e=eN(),(n=V$).time=n0(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&yh(d,t,e,f,l,n||W$(d,e));return new go(r,this._parents,t,e)}Tu.prototype.interrupt=HD;Tu.prototype.transition=K$;const Kd=t=>()=>t;function G$(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function fo(t,e,n){this.k=t,this.x=e,this.y=n}fo.prototype={constructor:fo,scale:function(t){return t===1?this:new fo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ta=new fo(1,0,0);fo.prototype;function Pg(t){t.stopImmediatePropagation()}function Nc(t){t.preventDefault(),t.stopImmediatePropagation()}function X$(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Y$(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function q1(){return this.__zoom||ta}function Z$(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function J$(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q$(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function e6(){var t=X$,e=Y$,n=Q$,r=Z$,s=J$,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=MD,f=gh("start","zoom","end"),h,g,m,v=500,w=150,x=0,_=10;function C(M){M.property("__zoom",q1).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",oe).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(M,W,j,H){var R=M.selection?M.selection():M;R.property("__zoom",q1),M!==R?P(M,W,j,H):R.interrupt().each(function(){U(this,arguments).event(H).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},C.scaleBy=function(M,W,j,H){C.scaleTo(M,function(){var R=this.__zoom.k,F=typeof W=="function"?W.apply(this,arguments):W;return R*F},j,H)},C.scaleTo=function(M,W,j,H){C.transform(M,function(){var R=e.apply(this,arguments),F=this.__zoom,q=j==null?k(R):typeof j=="function"?j.apply(this,arguments):j,$=F.invert(q),K=typeof W=="function"?W.apply(this,arguments):W;return n(O(T(F,K),q,$),R,l)},j,H)},C.translateBy=function(M,W,j,H){C.transform(M,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),l)},null,H)},C.translateTo=function(M,W,j,H,R){C.transform(M,function(){var F=e.apply(this,arguments),q=this.__zoom,$=H==null?k(F):typeof H=="function"?H.apply(this,arguments):H;return n(ta.translate($[0],$[1]).scale(q.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof j=="function"?-j.apply(this,arguments):-j),F,l)},H,R)};function T(M,W){return W=Math.max(i[0],Math.min(i[1],W)),W===M.k?M:new fo(W,M.x,M.y)}function O(M,W,j){var H=W[0]-j[0]*M.k,R=W[1]-j[1]*M.k;return H===M.x&&R===M.y?M:new fo(M.k,H,R)}function k(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function P(M,W,j,H){M.on("start.zoom",function(){U(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(H).end()}).tween("zoom",function(){var R=this,F=arguments,q=U(R,F).event(H),$=e.apply(R,F),K=j==null?k($):typeof j=="function"?j.apply(R,F):j,ee=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),se=R.__zoom,ce=typeof W=="function"?W.apply(R,F):W,me=d(se.invert(K).concat(ee/se.k),ce.invert(K).concat(ee/ce.k));return function(J){if(J===1)J=ce;else{var ae=me(J),ge=ee/ae[2];J=new fo(ge,K[0]-ae[0]*ge,K[1]-ae[1]*ge)}q.zoom(null,J)}})}function U(M,W,j){return!j&&M.__zooming||new B(M,W)}function B(M,W){this.that=M,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,W),this.taps=0}B.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,W){return this.mouse&&M!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var W=is(this.that).datum();f.call(M,this.that,new G$(M,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:f}),W)}};function z(M,...W){if(!t.apply(this,arguments))return;var j=U(this,W).event(M),H=this.__zoom,R=Math.max(i[0],Math.min(i[1],H.k*Math.pow(2,r.apply(this,arguments)))),F=Ps(M);if(j.wheel)(j.mouse[0][0]!==F[0]||j.mouse[0][1]!==F[1])&&(j.mouse[1]=H.invert(j.mouse[0]=F)),clearTimeout(j.wheel);else{if(H.k===R)return;j.mouse=[F,H.invert(F)],bf(this),j.start()}Nc(M),j.wheel=setTimeout(q,w),j.zoom("mouse",n(O(T(H,R),j.mouse[0],j.mouse[1]),j.extent,l));function q(){j.wheel=null,j.end()}}function Q(M,...W){if(m||!t.apply(this,arguments))return;var j=M.currentTarget,H=U(this,W,!0).event(M),R=is(M.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ee,!0),F=Ps(M,j),q=M.clientX,$=M.clientY;zC(M.view),Pg(M),H.mouse=[F,this.__zoom.invert(F)],bf(this),H.start();function K(se){if(Nc(se),!H.moved){var ce=se.clientX-q,me=se.clientY-$;H.moved=ce*ce+me*me>x}H.event(se).zoom("mouse",n(O(H.that.__zoom,H.mouse[0]=Ps(se,j),H.mouse[1]),H.extent,l))}function ee(se){R.on("mousemove.zoom mouseup.zoom",null),UC(se.view,H.moved),Nc(se),H.event(se).end()}}function oe(M,...W){if(t.apply(this,arguments)){var j=this.__zoom,H=Ps(M.changedTouches?M.changedTouches[0]:M,this),R=j.invert(H),F=j.k*(M.shiftKey?.5:2),q=n(O(T(j,F),H,R),e.apply(this,W),l);Nc(M),c>0?is(this).transition().duration(c).call(P,q,H,M):is(this).call(C.transform,q,H,M)}}function L(M,...W){if(t.apply(this,arguments)){var j=M.touches,H=j.length,R=U(this,W,M.changedTouches.length===H).event(M),F,q,$,K;for(Pg(M),q=0;q<H;++q)$=j[q],K=Ps($,this),K=[K,this.__zoom.invert(K),$.identifier],R.touch0?!R.touch1&&R.touch0[2]!==K[2]&&(R.touch1=K,R.taps=0):(R.touch0=K,F=!0,R.taps=1+!!h);h&&(h=clearTimeout(h)),F&&(R.taps<2&&(g=K[0],h=setTimeout(function(){h=null},v)),bf(this),R.start())}}function X(M,...W){if(this.__zooming){var j=U(this,W).event(M),H=M.changedTouches,R=H.length,F,q,$,K;for(Nc(M),F=0;F<R;++F)q=H[F],$=Ps(q,this),j.touch0&&j.touch0[2]===q.identifier?j.touch0[0]=$:j.touch1&&j.touch1[2]===q.identifier&&(j.touch1[0]=$);if(q=j.that.__zoom,j.touch1){var ee=j.touch0[0],se=j.touch0[1],ce=j.touch1[0],me=j.touch1[1],J=(J=ce[0]-ee[0])*J+(J=ce[1]-ee[1])*J,ae=(ae=me[0]-se[0])*ae+(ae=me[1]-se[1])*ae;q=T(q,Math.sqrt(J/ae)),$=[(ee[0]+ce[0])/2,(ee[1]+ce[1])/2],K=[(se[0]+me[0])/2,(se[1]+me[1])/2]}else if(j.touch0)$=j.touch0[0],K=j.touch0[1];else return;j.zoom("touch",n(O(q,$,K),j.extent,l))}}function D(M,...W){if(this.__zooming){var j=U(this,W).event(M),H=M.changedTouches,R=H.length,F,q;for(Pg(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),F=0;F<R;++F)q=H[F],j.touch0&&j.touch0[2]===q.identifier?delete j.touch0:j.touch1&&j.touch1[2]===q.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(q=Ps(q,this),Math.hypot(g[0]-q[0],g[1]-q[1])<_)){var $=is(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return C.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Kd(+M),C):r},C.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Kd(!!M),C):t},C.touchable=function(M){return arguments.length?(s=typeof M=="function"?M:Kd(!!M),C):s},C.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Kd([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),C):e},C.scaleExtent=function(M){return arguments.length?(i[0]=+M[0],i[1]=+M[1],C):[i[0],i[1]]},C.translateExtent=function(M){return arguments.length?(l[0][0]=+M[0][0],l[1][0]=+M[1][0],l[0][1]=+M[0][1],l[1][1]=+M[1][1],C):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},C.constrain=function(M){return arguments.length?(n=M,C):n},C.duration=function(M){return arguments.length?(c=+M,C):c},C.interpolate=function(M){return arguments.length?(d=M,C):d},C.on=function(){var M=f.on.apply(f,arguments);return M===f?C:M},C.clickDistance=function(M){return arguments.length?(x=(M=+M)*M,C):Math.sqrt(x)},C.tapDistance=function(M){return arguments.length?(_=+M,C):_},C}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tN(t,e){if(t){if(typeof t=="string")return Xm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xm(t,e)}}function t6(t){if(Array.isArray(t))return t}function n6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,l,c;try{for(n=n.call(t);!(s=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));s=!0);}catch(d){i=!0,c=d}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function r6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(t,e){return t6(t)||n6(t,e)||tN(t,e)||r6()}var Rl;(function(t){t.Strict="strict",t.Loose="loose"})(Rl||(Rl={}));var jl;(function(t){t.Lines="lines",t.Dots="dots"})(jl||(jl={}));var Sl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Sl||(Sl={}));var ri;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ri||(ri={}));var Uf;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Uf||(Uf={}));var Le;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Le||(Le={}));var o0=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},_l=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),r)},nN=function(e,n){return{x:_l(e.x,n[0][0],n[1][0]),y:_l(e.y,n[0][1],n[1][1])}},rN=function(e){var n,r;return((n=e.getRootNode)===null||n===void 0?void 0:n.call(e))||((r=window)===null||r===void 0?void 0:r.document)},sN=function(e,n){return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}},Ll=function(e){var n=e.x,r=e.y,s=e.width,i=e.height;return{x:n,y:r,x2:n+s,y2:r+i}},oN=function(e){var n=e.x,r=e.y,s=e.x2,i=e.y2;return{x:n,y:r,width:s-n,height:i-r}},s6=function(e,n){return oN(sN(Ll(e),Ll(n)))},iN=function(e){return!isNaN(e)&&isFinite(e)},Nn=Symbol("internals");function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e){var n=t.find(function(f){return f.id===e.parentNode});if(n){var r=e.position.x+e.width-n.width,s=e.position.y+e.height-n.height;if(r>0||s>0||e.position.x<0||e.position.y<0){var i,l;if(n.style=Mc({},n.style)||{},n.style.width=(i=n.style.width)!==null&&i!==void 0?i:n.width,n.style.height=(l=n.style.height)!==null&&l!==void 0?l:n.height,r>0&&(n.style.width+=r),s>0&&(n.style.height+=s),e.position.x<0){var c=Math.abs(e.position.x);n.position.x=n.position.x-c,n.style.width+=c,e.position.x=0}if(e.position.y<0){var d=Math.abs(e.position.y);n.position.y=n.position.y-d,n.style.height+=d,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function aN(t,e){if(t.some(function(r){return r.type==="reset"}))return t.filter(function(r){return r.type==="reset"}).map(function(r){return r.item});var n=t.filter(function(r){return r.type==="add"}).map(function(r){return r.item});return e.reduce(function(r,s){var i=t.find(function(d){return d.id===s.id});if(i)switch(i.type){case"select":return r.push(Mc(Mc({},s),{},{selected:i.selected})),r;case"position":{var l=Mc({},s);return typeof i.position<"u"&&(l.position=i.position),typeof i.positionAbsolute<"u"&&(l.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(l.dragging=i.dragging),l.expandParent&&V1(r,l),r.push(l),r}case"dimensions":{var c=Mc({},s);return typeof i.dimensions<"u"&&(c.width=i.dimensions.width,c.height=i.dimensions.height),c.expandParent&&V1(r,c),r.push(c),r}case"remove":return r}return r.push(s),r},n)}function lN(t,e){return aN(t,e)}function o6(t,e){return aN(t,e)}var ei=function(e,n){return{id:e,type:"select",selected:n}};function ml(t,e){return t.reduce(function(n,r){var s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(ei(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(ei(r.id,!1))),n},[])}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var K1=function(e,n,r){var s=n.querySelectorAll(e);if(!s||!s.length)return null;var i=Array.from(s),l=n.getBoundingClientRect();return i.map(function(c){var d=c.getBoundingClientRect();return cN({id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(d.left-l.left)/r,y:(d.top-l.top)/r},o0(c))})};function kc(t,e,n){return n===void 0?n:function(r){var s=e().nodeInternals.get(t);n(r,cN({},s))}}function uN(t){var e=t.id,n=t.store,r=n.getState(),s=r.addSelectedNodes,i=r.unselectNodesAndEdges,l=r.multiSelectionActive,c=r.nodeInternals,d=c.get(e);n.setState({nodesSelectionActive:!1}),d.selected?d.selected&&l&&i({nodes:[d]}):s([e])}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i6=function(e){return"id"in e&&"source"in e&&"target"in e},a6=function(e){var n=e.source,r=e.sourceHandle,s=e.target,i=e.targetHandle;return"reactflow__edge-".concat(n).concat(r||"","-").concat(s).concat(i||"")},Ym=function(e,n){if(typeof e>"u")return"";if(typeof e=="string")return e;var r=n?"".concat(n,"__"):"";return"".concat(r).concat(Object.keys(e).sort().map(function(s){return"".concat(s,"=").concat(e[s])}).join("&"))},l6=function(e,n){return n.some(function(r){return r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)})},dN=function(e,n){if(!e.source||!e.target)return n;var r;return i6(e)?r=qc({},e):r=qc(qc({},e),{},{id:a6(e)}),l6(r,n)?n:n.concat(r)},fN=function(e,n,r,s){var i=e.x,l=e.y,c=st(n,3),d=c[0],f=c[1],h=c[2],g=st(s,2),m=g[0],v=g[1],w={x:(i-d)/h,y:(l-f)/h};return r?{x:m*Math.round(w.x/m),y:v*Math.round(w.y/v)}:w},wh=function(e){if(e.length===0)return{x:0,y:0,width:0,height:0};var n=e.reduce(function(r,s){var i=s.positionAbsolute,l=s.position,c=s.width,d=s.height;return sN(r,Ll({x:i?i.x:l.x,y:i?i.y:l.y,width:c||0,height:d||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return oN(n)},hN=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,1],s=st(r,3),i=s[0],l=s[1],c=s[2],d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,h=Ll({x:(n.x-i)/c,y:(n.y-l)/c,width:n.width/c,height:n.height/c}),g=[];return e.forEach(function(m){var v=m.positionAbsolute,w=m.width,x=m.height,_=m.selectable,C=_===void 0?!0:_;if(f&&!C)return!1;var T=Ll(qc(qc({},v),{},{width:w||0,height:x||0})),O=Math.max(0,Math.min(h.x2,T.x2)-Math.max(h.x,T.x)),k=Math.max(0,Math.min(h.y2,T.y2)-Math.max(h.y,T.y)),P=Math.ceil(O*k),U=typeof w>"u"||typeof x>"u"||w===null||x===null,B=d&&P>0,z=(w||0)*(x||0),Q=U||B||P>=z;Q&&g.push(m)}),g},pN=function(e,n){var r=e.map(function(s){return s.id});return n.filter(function(s){return r.includes(s.source)||r.includes(s.target)})},gN=function(e,n,r,s,i){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:.1,c=n/(e.width*(1+l)),d=r/(e.height*(1+l)),f=Math.min(c,d),h=_l(f,s,i),g=e.x+e.width/2,m=e.y+e.height/2,v=n/2-g*h,w=r/2-m*h;return[v,w,h]},Xi=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.transition().duration(n)};function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mN(t,e,n,r){var s,i,l,c,d,f,h,g,m,v,w,x;if(!t.parentNode)return r;var _=e.get(t.parentNode);return mN(_,e,n,{x:((s=r.x)!==null&&s!==void 0?s:0)+((i=(l=_.position)===null||l===void 0?void 0:l.x)!==null&&i!==void 0?i:0),y:((c=r.y)!==null&&c!==void 0?c:0)+((d=(f=_.position)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0),z:((h=(g=_[Nn])===null||g===void 0?void 0:g.z)!==null&&h!==void 0?h:0)>((m=r.z)!==null&&m!==void 0?m:0)?(v=(w=_[Nn])===null||w===void 0?void 0:w.z)!==null&&v!==void 0?v:0:(x=r.z)!==null&&x!==void 0?x:0})}function Rg(t,e){var n=new Map,r={};return t.forEach(function(s){var i,l=iN(s.zIndex)?s.zIndex:s.selected?1e3:0,c=e.get(s.id),d=vl(vl({width:c==null?void 0:c.width,height:c==null?void 0:c.height},s),{},{positionAbsolute:{x:s.position.x,y:s.position.y}});s.parentNode&&(d.parentNode=s.parentNode,r[s.parentNode]=!0),Object.defineProperty(d,Nn,{enumerable:!1,value:{handleBounds:c==null||(i=c[Nn])===null||i===void 0?void 0:i.handleBounds,z:l}}),n.set(s.id,d)}),n.forEach(function(s){if(s.parentNode&&!n.has(s.parentNode))throw new Error("Parent node ".concat(s.parentNode," not found"));if(s.parentNode||r[s.id]){var i,l,c=mN(s,n,r,vl(vl({},s.position),{},{z:(i=(l=s[Nn])===null||l===void 0?void 0:l.z)!==null&&i!==void 0?i:0})),d=c.x,f=c.y,h=c.z;s.positionAbsolute={x:d,y:f},s[Nn].z=h,r[s.id]&&(s[Nn].isParent=!0)}}),n}function vN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t(),r=n.nodeInternals,s=n.width,i=n.height,l=n.minZoom,c=n.maxZoom,d=n.d3Zoom,f=n.d3Selection,h=n.fitViewOnInitDone,g=n.fitViewOnInit;if((e.initial&&!h&&g||!e.initial)&&d&&f){var m=Array.from(r.values()).filter(function(z){return e.includeHiddenNodes?z.width&&z.height:!z.hidden}),v=m.every(function(z){return z.width&&z.height});if(m.length>0&&v){var w,x,_,C=wh(m),T=gN(C,s,i,(w=e.minZoom)!==null&&w!==void 0?w:l,(x=e.maxZoom)!==null&&x!==void 0?x:c,(_=e.padding)!==null&&_!==void 0?_:.1),O=st(T,3),k=O[0],P=O[1],U=O[2],B=ta.translate(k,P).scale(U);return typeof e.duration=="number"&&e.duration>0?d.transform(Xi(f,e.duration),B):d.transform(f,B),!0}}return!1}function c6(t,e){return t.forEach(function(n){var r=e.get(n.id);if(r){var s;e.set(r.id,vl(vl({},r),{},(s={},ft(s,Nn,r[Nn]),ft(s,"selected",n.selected),s)))}}),new Map(e)}function u6(t,e){return e.map(function(n){var r=t.find(function(s){return s.id===n.id});return r&&(n.selected=r.selected),n})}function Gd(t){var e=t.changedNodes,n=t.changedEdges,r=t.get,s=t.set,i=r(),l=i.nodeInternals,c=i.edges,d=i.onNodesChange,f=i.onEdgesChange,h=i.hasDefaultNodes,g=i.hasDefaultEdges;e!=null&&e.length&&(h&&s({nodeInternals:c6(e,l)}),d==null||d(e)),n!=null&&n.length&&(g&&s({edges:u6(n,c)}),f==null||f(n))}var Zm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Y1={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Zm,nodeExtent:Zm,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:Rl.Strict,domNode:null,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.17",connectionStartHandle:null,connectOnClick:!0};function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i0=S5(),d6=i0.Provider,nn=i0.useStore,Kn=i0.useStoreApi,f6=function(){return x5(function(e,n){return Os(Os({},Y1),{},{setNodes:function(s){e({nodeInternals:Rg(s,n().nodeInternals)})},setEdges:function(s){var i=n(),l=i.defaultEdgeOptions,c=l===void 0?{}:l;e({edges:s.map(function(d){return Os(Os({},c),d)})})},setDefaultNodesAndEdges:function(s,i){var l=typeof s<"u",c=typeof i<"u",d=l?Rg(s,new Map):new Map,f=c?i:[];e({nodeInternals:d,edges:f,hasDefaultNodes:l,hasDefaultEdges:c})},updateNodeDimensions:function(s){var i=n(),l=i.onNodesChange,c=i.nodeInternals,d=i.fitViewOnInit,f=i.fitViewOnInitDone,h=i.fitViewOnInitOptions,g=i.domNode,m=g==null?void 0:g.querySelector(".react-flow__viewport");if(m){var v=window.getComputedStyle(m),w=new window.DOMMatrixReadOnly(v.transform),x=w.m22,_=s.reduce(function(T,O){var k=c.get(O.id);if(k){var P=o0(O.nodeElement),U=!!(P.width&&P.height&&(k.width!==P.width||k.height!==P.height||O.forceUpdate));U&&(c.set(k.id,Os(Os({},k),{},ft({},Nn,Os(Os({},k[Nn]),{},{handleBounds:{source:K1(".source",O.nodeElement,x),target:K1(".target",O.nodeElement,x)}})),P)),T.push({id:k.id,type:"dimensions",dimensions:P}))}return T},[]),C=f||d&&!f&&vN(n,Os({initial:!0},h));e({nodeInternals:new Map(c),fitViewOnInitDone:C}),(_==null?void 0:_.length)>0&&(l==null||l(_))}},updateNodePositions:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=n(),d=c.onNodesChange,f=c.nodeInternals,h=c.hasDefaultNodes;if(h||d){var g=s.map(function(w){var x={id:w.id,type:"position",dragging:l};return i&&(x.positionAbsolute=w.positionAbsolute,x.position=w.position),x});if(g!=null&&g.length){if(h){var m=lN(g,Array.from(f.values())),v=Rg(m,f);e({nodeInternals:v})}d==null||d(g)}}},addSelectedNodes:function(s){var i=n(),l=i.multiSelectionActive,c=i.nodeInternals,d=i.edges,f,h=null;l?f=s.map(function(g){return ei(g,!0)}):(f=ml(Array.from(c.values()),s),h=ml(d,[])),Gd({changedNodes:f,changedEdges:h,get:n,set:e})},addSelectedEdges:function(s){var i=n(),l=i.multiSelectionActive,c=i.edges,d=i.nodeInternals,f,h=null;l?f=s.map(function(g){return ei(g,!0)}):(f=ml(c,s),h=ml(Array.from(d.values()),[])),Gd({changedNodes:h,changedEdges:f,get:n,set:e})},unselectNodesAndEdges:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.nodes,l=s.edges,c=n(),d=c.nodeInternals,f=c.edges,h=i||Array.from(d.values()),g=l||f,m=h.map(function(w){return w.selected=!1,ei(w.id,!1)}),v=g.map(function(w){return ei(w.id,!1)});Gd({changedNodes:m,changedEdges:v,get:n,set:e})},setMinZoom:function(s){var i=n(),l=i.d3Zoom,c=i.maxZoom;l==null||l.scaleExtent([s,c]),e({minZoom:s})},setMaxZoom:function(s){var i=n(),l=i.d3Zoom,c=i.minZoom;l==null||l.scaleExtent([c,s]),e({maxZoom:s})},setTranslateExtent:function(s){var i=n(),l=i.d3Zoom;l==null||l.translateExtent(s),e({translateExtent:s})},resetSelectedElements:function(){var s=n(),i=s.nodeInternals,l=s.edges,c=Array.from(i.values()),d=c.filter(function(h){return h.selected}).map(function(h){return ei(h.id,!1)}),f=l.filter(function(h){return h.selected}).map(function(h){return ei(h.id,!1)});Gd({changedNodes:d,changedEdges:f,get:n,set:e})},setNodeExtent:function(s){var i=n(),l=i.nodeInternals;l.forEach(function(c){c.positionAbsolute=nN(c.position,s)}),e({nodeExtent:s,nodeInternals:new Map(l)})},reset:function(){return e(Os({},Y1))}})})};function Gn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Gn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}function ar(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function h6(t){if(Array.isArray(t))return Xm(t)}function p6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function na(t){return h6(t)||p6(t)||tN(t)||g6()}var m6={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},getZoom:function(){return 1},setViewport:function(e){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(e,n){},fitBounds:function(e){},project:function(e){return e},viewportInitialized:!1},v6=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}},y6=function(){var e=Kn(),n=nn(v6,ar),r=n.d3Zoom,s=n.d3Selection,i=N.useMemo(function(){return s&&r?{zoomIn:function(c){return r.scaleBy(Xi(s,c==null?void 0:c.duration),1.2)},zoomOut:function(c){return r.scaleBy(Xi(s,c==null?void 0:c.duration),1/1.2)},zoomTo:function(c,d){return r.scaleTo(Xi(s,d==null?void 0:d.duration),c)},getZoom:function(){return e.getState().transform[2]},setViewport:function(c,d){var f,h,g,m=st(e.getState().transform,3),v=m[0],w=m[1],x=m[2],_=ta.translate((f=c.x)!==null&&f!==void 0?f:v,(h=c.y)!==null&&h!==void 0?h:w).scale((g=c.zoom)!==null&&g!==void 0?g:x);r.transform(Xi(s,d==null?void 0:d.duration),_)},getViewport:function(){var c=st(e.getState().transform,3),d=c[0],f=c[1],h=c[2];return{x:d,y:f,zoom:h}},fitView:function(c){return vN(e.getState,c)},setCenter:function(c,d,f){var h=e.getState(),g=h.width,m=h.height,v=h.maxZoom,w=typeof(f==null?void 0:f.zoom)<"u"?f.zoom:v,x=g/2-c*w,_=m/2-d*w,C=ta.translate(x,_).scale(w);r.transform(Xi(s,f==null?void 0:f.duration),C)},fitBounds:function(c,d){var f,h=e.getState(),g=h.width,m=h.height,v=h.minZoom,w=h.maxZoom,x=gN(c,g,m,v,w,(f=d==null?void 0:d.padding)!==null&&f!==void 0?f:.1),_=st(x,3),C=_[0],T=_[1],O=_[2],k=ta.translate(C,T).scale(O);r.transform(Xi(s,d==null?void 0:d.duration),k)},project:function(c){var d=e.getState(),f=d.transform,h=d.snapToGrid,g=d.snapGrid;return fN(c,f,h,g)},viewportInitialized:!0}:m6},[r,s]);return i};function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yN(){var t=y6(),e=Kn(),n=N.useCallback(function(){var g=e.getState(),m=g.nodeInternals,v=Array.from(m.values());return v.map(function(w){return rl({},w)})},[]),r=N.useCallback(function(g){var m=e.getState(),v=m.nodeInternals;return v.get(g)},[]),s=N.useCallback(function(){var g=e.getState(),m=g.edges,v=m===void 0?[]:m;return v.map(function(w){return rl({},w)})},[]),i=N.useCallback(function(g){var m=e.getState(),v=m.edges,w=v===void 0?[]:v;return w.find(function(x){return x.id===g})},[]),l=N.useCallback(function(g){var m=e.getState(),v=m.nodeInternals,w=m.setNodes,x=m.hasDefaultNodes,_=m.onNodesChange,C=Array.from(v.values()),T=typeof g=="function"?g(C):g;if(x)w(T);else if(_){var O=T.length===0?C.map(function(k){return{type:"remove",id:k.id}}):T.map(function(k){return{item:k,type:"reset"}});_(O)}},[]),c=N.useCallback(function(g){var m=e.getState(),v=m.edges,w=v===void 0?[]:v,x=m.setEdges,_=m.hasDefaultEdges,C=m.onEdgesChange,T=typeof g=="function"?g(w):g;if(_)x(T);else if(C){var O=T.length===0?w.map(function(k){return{type:"remove",id:k.id}}):T.map(function(k){return{item:k,type:"reset"}});C(O)}},[]),d=N.useCallback(function(g){var m=Array.isArray(g)?g:[g],v=e.getState(),w=v.nodeInternals,x=v.setNodes,_=v.hasDefaultNodes,C=v.onNodesChange;if(_){var T=Array.from(w.values()),O=[].concat(T,na(m));x(O)}else if(C){var k=m.map(function(P){return{item:P,type:"add"}});C(k)}},[]),f=N.useCallback(function(g){var m=Array.isArray(g)?g:[g],v=e.getState(),w=v.edges,x=w===void 0?[]:w,_=v.setEdges,C=v.hasDefaultEdges,T=v.onEdgesChange;if(C)_([].concat(na(x),na(m)));else if(T){var O=m.map(function(k){return{item:k,type:"add"}});T(O)}},[]),h=N.useCallback(function(){var g=e.getState(),m=g.nodeInternals,v=g.edges,w=v===void 0?[]:v,x=g.transform,_=Array.from(m.values()),C=st(x,3),T=C[0],O=C[1],k=C[2];return{nodes:_.map(function(P){return rl({},P)}),edges:w.map(function(P){return rl({},P)}),viewport:{x:T,y:O,zoom:k}}},[]);return N.useMemo(function(){return rl(rl({},t),{},{getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:l,setEdges:c,addNodes:d,addEdges:f,toObject:h})},[t,n,r,s,i,l,c,d,f,h])}function w6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function bh(t,e){if(t==null)return{};var n=w6(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b6(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function x6(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},fe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function S6(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function _6(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function E6(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var C6=["children","className"];function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function N6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Xd=function(e){var n=e.children,r=e.className,s=bh(e,C6);return fe.createElement("button",N6({type:"button",className:Gn(["react-flow__controls-button",r])},s),n)},k6=function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable},wN=function(e){var n=e.style,r=e.showZoom,s=r===void 0?!0:r,i=e.showFitView,l=i===void 0?!0:i,c=e.showInteractive,d=c===void 0?!0:c,f=e.fitViewOptions,h=e.onZoomIn,g=e.onZoomOut,m=e.onFitView,v=e.onInteractiveChange,w=e.className,x=e.children,_=Kn(),C=N.useState(!1),T=st(C,2),O=T[0],k=T[1],P=nn(k6),U=yN(),B=U.zoomIn,z=U.zoomOut,Q=U.fitView;if(N.useEffect(function(){k(!0)},[]),!O)return null;var oe=function(){B==null||B(),h==null||h()},L=function(){z==null||z(),g==null||g()},X=function(){Q==null||Q(f),m==null||m()},D=function(){_.setState({nodesDraggable:!P,nodesConnectable:!P,elementsSelectable:!P}),v==null||v(!P)};return fe.createElement("div",{className:Gn(["react-flow__controls",w]),style:n},s&&fe.createElement(fe.Fragment,null,fe.createElement(Xd,{onClick:oe,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},fe.createElement(b6,null)),fe.createElement(Xd,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},fe.createElement(x6,null))),l&&fe.createElement(Xd,{className:"react-flow__controls-fitview",onClick:X,title:"fit view","aria-label":"fit view"},fe.createElement(S6,null)),d&&fe.createElement(Xd,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity"},P?fe.createElement(E6,null):fe.createElement(_6,null)),x)};wN.displayName="Controls";var O6=N.memo(wN),bN=function(e){var n=e.x,r=e.y,s=e.width,i=e.height,l=e.style,c=e.color,d=e.strokeColor,f=e.strokeWidth,h=e.className,g=e.borderRadius,m=e.shapeRendering,v=l||{},w=v.background,x=v.backgroundColor,_=c||w||x;return fe.createElement("rect",{className:Gn(["react-flow__minimap-node",h]),x:n,y:r,rx:g,ry:g,width:s,height:i,fill:_,stroke:d,strokeWidth:f,shapeRendering:m})};bN.displayName="MiniMapNode";var T6=N.memo(bN),A6=200,P6=150,R6=function(e){return{viewBBox:{x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]},nodes:Array.from(e.nodeInternals.values())}},jg=function(e){return e instanceof Function?e:function(){return e}},xN=function(e){var n,r,s=e.style,i=e.className,l=e.nodeStrokeColor,c=l===void 0?"#555":l,d=e.nodeColor,f=d===void 0?"#fff":d,h=e.nodeClassName,g=h===void 0?"":h,m=e.nodeBorderRadius,v=m===void 0?5:m,w=e.nodeStrokeWidth,x=w===void 0?2:w,_=e.maskColor,C=_===void 0?"rgb(240, 242, 243, 0.7)":_,T=nn(R6,ar),O=T.viewBBox,k=T.nodes,P=(n=s==null?void 0:s.width)!==null&&n!==void 0?n:A6,U=(r=s==null?void 0:s.height)!==null&&r!==void 0?r:P6,B=jg(f),z=jg(c),Q=jg(g),oe=k.length>0?s6(wh(k),O):O,L=oe.width/P,X=oe.height/U,D=Math.max(L,X),M=D*P,W=D*U,j=5*D,H=oe.x-(M-oe.width)/2-j,R=oe.y-(W-oe.height)/2-j,F=M+j*2,q=W+j*2,$=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return fe.createElement("svg",{width:P,height:U,viewBox:"".concat(H," ").concat(R," ").concat(F," ").concat(q),style:s,className:Gn(["react-flow__minimap",i])},k.filter(function(K){return!K.hidden&&K.width&&K.height}).map(function(K){var ee,se,ce,me;return fe.createElement(T6,{key:K.id,x:(ee=(se=K.positionAbsolute)===null||se===void 0?void 0:se.x)!==null&&ee!==void 0?ee:0,y:(ce=(me=K.positionAbsolute)===null||me===void 0?void 0:me.y)!==null&&ce!==void 0?ce:0,width:K.width,height:K.height,style:K.style,className:Q(K),color:B(K),borderRadius:v,strokeColor:z(K),strokeWidth:x,shapeRendering:$})}),fe.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(H-j,",").concat(R-j,"h").concat(F+j*2,"v").concat(q+j*2,"h").concat(-F-j*2,`z
        M`).concat(O.x,",").concat(O.y,"h").concat(O.width,"v").concat(O.height,"h").concat(-O.width,"z"),fill:C,fillRule:"evenodd"}))};xN.displayName="MiniMap";var j6=N.memo(xN),L6=function(e,n,r){return fe.createElement("path",{stroke:r,strokeWidth:n,d:"M".concat(e/2," 0 V").concat(e," M0 ").concat(e/2," H").concat(e)})},I6=function(e,n){return fe.createElement("circle",{cx:e,cy:e,r:e,fill:n})},Yd;function ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var M6=(Yd={},ft(Yd,jl.Dots,"#81818a"),ft(Yd,jl.Lines,"#eee"),Yd),D6=function(e){return e.transform},SN=function(e){var n=e.variant,r=n===void 0?jl.Dots:n,s=e.gap,i=s===void 0?15:s,l=e.size,c=l===void 0?.4:l,d=e.color,f=e.style,h=e.className,g=N.useRef(null),m=N.useState(null),v=st(m,2),w=v[0],x=v[1],_=nn(D6),C=st(_,3),T=C[0],O=C[1],k=C[2];N.useEffect(function(){var L=document.querySelectorAll(".react-flow__background"),X=Array.from(L).findIndex(function(D){return D===g.current});x("pattern-".concat(X))},[]);var P=i*k||1,U=T%P,B=O%P,z=r===jl.Lines,Q=d||M6[r],oe=z?L6(P,c,Q):I6(c*k,Q);return fe.createElement("svg",{className:Gn(["react-flow__background","react-flow__container",h]),style:tx(tx({},f),{},{width:"100%",height:"100%"}),ref:g},w&&fe.createElement(fe.Fragment,null,fe.createElement("pattern",{id:w,x:U,y:B,width:P,height:P,patternUnits:"userSpaceOnUse"},oe),fe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(w,")")})))};SN.displayName="Background";var $6=N.memo(SN),B6=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function z6(t){var e=t.proOptions,n=t.position,r=n===void 0?"bottom-right":n;if(e!=null&&e.account&&B6.includes(e==null?void 0:e.account)&&e!==null&&e!==void 0&&e.hideAttribution)return null;var s="".concat(r).split("-");return fe.createElement("div",{className:Gn(["react-flow__attribution"].concat(na(s))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},fe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var U6=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q6=function(e){var n=e.x,r=e.y,s=e.label,i=e.labelStyle,l=i===void 0?{}:i,c=e.labelShowBg,d=c===void 0?!0:c,f=e.labelBgStyle,h=f===void 0?{}:f,g=e.labelBgPadding,m=g===void 0?[2,4]:g,v=e.labelBgBorderRadius,w=v===void 0?2:v,x=e.children,_=e.className,C=bh(e,U6),T=N.useRef(null),O=N.useState({x:0,y:0,width:0,height:0}),k=st(O,2),P=k[0],U=k[1],B=Gn(["react-flow__edge-textwrapper",_]);return N.useEffect(function(){if(T.current){var z=T.current.getBBox();U({x:z.x,y:z.y,width:z.width,height:z.height})}},[s]),typeof s>"u"||!s?null:fe.createElement("g",F6({transform:"translate(".concat(n-P.width/2," ").concat(r-P.height/2,")"),className:B},C),d&&fe.createElement("rect",{width:P.width+2*m[0],x:-m[0],y:-m[1],height:P.height+2*m[1],className:"react-flow__edge-textbg",style:h,rx:w,ry:w}),fe.createElement("text",{className:"react-flow__edge-text",y:P.height/2,dy:"0.3em",ref:T,style:l},s),x)},H6=N.memo(q6),xh=(function(t){var e=t.path,n=t.centerX,r=t.centerY,s=t.label,i=t.labelStyle,l=t.labelShowBg,c=t.labelBgStyle,d=t.labelBgPadding,f=t.labelBgBorderRadius,h=t.style,g=t.markerEnd,m=t.markerStart,v=s?fe.createElement(H6,{x:n,y:r,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f}):null;return fe.createElement(fe.Fragment,null,fe.createElement("path",{style:h,d:e,className:"react-flow__edge-path",markerEnd:g,markerStart:m}),v)});function Ff(t){var e=t.pos,n=t.x1,r=t.y1,s=t.x2,i=t.y2,l,c;switch(e){case Le.Left:case Le.Right:l=.5*(n+s),c=r;break;case Le.Top:case Le.Bottom:l=n,c=.5*(r+i);break}return[l,c]}function _N(t){var e=t.sourceX,n=t.sourceY,r=t.sourcePosition,s=r===void 0?Le.Bottom:r,i=t.targetX,l=t.targetY,c=t.targetPosition,d=c===void 0?Le.Top:c,f=Ff({pos:s,x1:e,y1:n,x2:i,y2:l}),h=st(f,2),g=h[0],m=h[1],v=Ff({pos:d,x1:i,y1:l,x2:e,y2:n}),w=st(v,2),x=w[0],_=w[1];return"M".concat(e,",").concat(n," C").concat(g,",").concat(m," ").concat(x,",").concat(_," ").concat(i,",").concat(l)}function V6(t){var e=t.sourceX,n=t.sourceY,r=t.sourcePosition,s=r===void 0?Le.Bottom:r,i=t.targetX,l=t.targetY,c=t.targetPosition,d=c===void 0?Le.Top:c,f=Ff({pos:s,x1:e,y1:n,x2:i,y2:l}),h=st(f,2),g=h[0],m=h[1],v=Ff({pos:d,x1:i,y1:l,x2:e,y2:n}),w=st(v,2),x=w[0],_=w[1],C=e*.125+g*.375+x*.375+i*.125,T=n*.125+m*.375+_*.375+l*.125,O=Math.abs(C-e),k=Math.abs(T-n);return[C,T,O,k]}var EN=N.memo(function(t){var e=t.sourceX,n=t.sourceY,r=t.targetX,s=t.targetY,i=t.sourcePosition,l=i===void 0?Le.Bottom:i,c=t.targetPosition,d=c===void 0?Le.Top:c,f=t.label,h=t.labelStyle,g=t.labelShowBg,m=t.labelBgStyle,v=t.labelBgPadding,w=t.labelBgBorderRadius,x=t.style,_=t.markerEnd,C=t.markerStart,T={sourceX:e,sourceY:n,sourcePosition:l,targetX:r,targetY:s,targetPosition:d},O=_N(T),k=V6(T),P=st(k,2),U=P[0],B=P[1];return fe.createElement(xh,{path:O,centerX:U,centerY:B,label:f,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:x,markerEnd:_,markerStart:C})});function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function W6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var sx=[Le.Left,Le.Right],CN=function(e){var n=e.sourceX,r=e.sourceY,s=e.targetX,i=e.targetY,l=e.sourcePosition,c=l===void 0?Le.Bottom:l,d=e.targetPosition,f=d===void 0?Le.Top:d,h=sx.includes(c),g=sx.includes(f),m=h&&!g||g&&!h;if(m){var v=h?Math.abs(s-n):0,w=n>s?n-v:n+v,x=h?0:Math.abs(i-r),_=r<i?r+x:r-x;return[w,_,v,x]}var C=Math.abs(s-n)/2,T=s<n?s+C:s-C,O=Math.abs(i-r)/2,k=i<r?i+O:i-O;return[T,k,C,O]};function Oc(t,e,n){return n===void 0?n:function(r){var s=e().edges.find(function(i){return i.id===t});n(r,W6({},s))}}var Lg=function(e,n,r){return"L ".concat(e,",").concat(n-r,"Q ").concat(e,",").concat(n," ").concat(e+r,",").concat(n)},Ig=function(e,n,r){return"L ".concat(e+r,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-r)},Mg=function(e,n,r){return"L ".concat(e,",").concat(n-r,"Q ").concat(e,",").concat(n," ").concat(e-r,",").concat(n)},Dg=function(e,n,r){return"L ".concat(e-r,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-r)},$g=function(e,n,r){return"L ".concat(e+r,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+r)},Bg=function(e,n,r){return"L ".concat(e,",").concat(n+r,"Q ").concat(e,",").concat(n," ").concat(e+r,",").concat(n)},zg=function(e,n,r){return"L ".concat(e,",").concat(n+r,"Q ").concat(e,",").concat(n," ").concat(e-r,",").concat(n)},Ug=function(e,n,r){return"L ".concat(e-r,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+r)};function Jm(t){var e=t.sourceX,n=t.sourceY,r=t.sourcePosition,s=r===void 0?Le.Bottom:r,i=t.targetX,l=t.targetY,c=t.targetPosition,d=c===void 0?Le.Top:c,f=t.borderRadius,h=f===void 0?5:f,g=t.centerX,m=t.centerY,v=CN({sourceX:e,sourceY:n,targetX:i,targetY:l}),w=st(v,4),x=w[0],_=w[1],C=w[2],T=w[3],O=Math.min(h,Math.abs(i-e)),k=Math.min(h,Math.abs(l-n)),P=Math.min(O,k,C,T),U=[Le.Left,Le.Right],B=typeof g<"u"?g:x,z=typeof m<"u"?m:_,Q=null,oe=null;return e<=i?(Q=n<=l?Lg(e,z,P):Bg(e,z,P),oe=n<=l?Ug(i,z,P):Dg(i,z,P)):(Q=n<l?Mg(e,z,P):zg(e,z,P),oe=n<l?$g(i,z,P):Ig(i,z,P)),U.includes(s)&&U.includes(d)?e<=i?(Q=n<=l?Ug(B,n,P):Dg(B,n,P),oe=n<=l?Lg(B,l,P):Bg(B,l,P)):(s===Le.Right&&d===Le.Left||s===Le.Left&&d===Le.Right||s===Le.Left&&d===Le.Left)&&(Q=n<=l?$g(B,n,P):Ig(B,n,P),oe=n<=l?Mg(B,l,P):zg(B,l,P)):U.includes(s)&&!U.includes(d)?(e<=i?Q=n<=l?Ug(i,n,P):Dg(i,n,P):Q=n<=l?$g(i,n,P):Ig(i,n,P),oe=""):!U.includes(s)&&U.includes(d)&&(e<=i?Q=n<=l?Lg(e,l,P):Bg(e,l,P):Q=n<=l?Mg(e,l,P):zg(e,l,P),oe=""),"M ".concat(e,",").concat(n).concat(Q).concat(oe,"L ").concat(i,",").concat(l)}var a0=N.memo(function(t){var e=t.sourceX,n=t.sourceY,r=t.targetX,s=t.targetY,i=t.label,l=t.labelStyle,c=t.labelShowBg,d=t.labelBgStyle,f=t.labelBgPadding,h=t.labelBgBorderRadius,g=t.style,m=t.sourcePosition,v=m===void 0?Le.Bottom:m,w=t.targetPosition,x=w===void 0?Le.Top:w,_=t.markerEnd,C=t.markerStart,T=t.borderRadius,O=T===void 0?5:T,k=CN({sourceX:e,sourceY:n,targetX:r,targetY:s,sourcePosition:v,targetPosition:x}),P=st(k,2),U=P[0],B=P[1],z=Jm({sourceX:e,sourceY:n,sourcePosition:v,targetX:r,targetY:s,targetPosition:x,borderRadius:O});return fe.createElement(xh,{path:z,centerX:U,centerY:B,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:_,markerStart:C})});function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var NN=N.memo(function(t){return fe.createElement(a0,ix(ix({},t),{},{borderRadius:0}))}),kN=N.memo(function(t){var e=t.sourceX,n=t.sourceY,r=t.targetX,s=t.targetY,i=t.label,l=t.labelStyle,c=t.labelShowBg,d=t.labelBgStyle,f=t.labelBgPadding,h=t.labelBgBorderRadius,g=t.style,m=t.markerEnd,v=t.markerStart,w=Math.abs(s-n)/2,x=s<n?s+w:s-w,_=Math.abs(r-e)/2,C=r<e?r+_:r-_,T="M ".concat(e,",").concat(n,"L ").concat(r,",").concat(s);return fe.createElement(xh,{path:T,centerX:C,centerY:x,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:m,markerStart:v})});function Zd(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function qf(t){var e=t.pos,n=t.x1,r=t.y1,s=t.x2,i=t.y2,l=t.c,c,d;switch(e){case Le.Left:c=n-Zd(n-s,l),d=r;break;case Le.Right:c=n+Zd(s-n,l),d=r;break;case Le.Top:c=n,d=r-Zd(r-i,l);break;case Le.Bottom:c=n,d=r+Zd(i-r,l);break}return[c,d]}function ON(t){var e=t.sourceX,n=t.sourceY,r=t.sourcePosition,s=r===void 0?Le.Bottom:r,i=t.targetX,l=t.targetY,c=t.targetPosition,d=c===void 0?Le.Top:c,f=t.curvature,h=f===void 0?.25:f,g=qf({pos:s,x1:e,y1:n,x2:i,y2:l,c:h}),m=st(g,2),v=m[0],w=m[1],x=qf({pos:d,x1:i,y1:l,x2:e,y2:n,c:h}),_=st(x,2),C=_[0],T=_[1];return"M".concat(e,",").concat(n," C").concat(v,",").concat(w," ").concat(C,",").concat(T," ").concat(i,",").concat(l)}function K6(t){var e=t.sourceX,n=t.sourceY,r=t.sourcePosition,s=r===void 0?Le.Bottom:r,i=t.targetX,l=t.targetY,c=t.targetPosition,d=c===void 0?Le.Top:c,f=t.curvature,h=f===void 0?.25:f,g=qf({pos:s,x1:e,y1:n,x2:i,y2:l,c:h}),m=st(g,2),v=m[0],w=m[1],x=qf({pos:d,x1:i,y1:l,x2:e,y2:n,c:h}),_=st(x,2),C=_[0],T=_[1],O=e*.125+v*.375+C*.375+i*.125,k=n*.125+w*.375+T*.375+l*.125,P=Math.abs(O-e),U=Math.abs(k-n);return[O,k,P,U]}var Qm=N.memo(function(t){var e=t.sourceX,n=t.sourceY,r=t.targetX,s=t.targetY,i=t.sourcePosition,l=i===void 0?Le.Bottom:i,c=t.targetPosition,d=c===void 0?Le.Top:c,f=t.label,h=t.labelStyle,g=t.labelShowBg,m=t.labelBgStyle,v=t.labelBgPadding,w=t.labelBgBorderRadius,x=t.style,_=t.markerEnd,C=t.markerStart,T=t.curvature,O={sourceX:e,sourceY:n,sourcePosition:l,targetX:r,targetY:s,targetPosition:d,curvature:T},k=ON(O),P=K6(O),U=st(P,2),B=U[0],z=U[1];return fe.createElement(xh,{path:k,centerX:B,centerY:z,label:f,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:w,style:x,markerEnd:_,markerStart:C})}),l0=N.createContext(null),G6=l0.Provider;l0.Consumer;function ev(t,e,n,r,s,i,l){var c=l.elementFromPoint(t.clientX,t.clientY),d=(c==null?void 0:c.classList.contains("target"))||!1,f=(c==null?void 0:c.classList.contains("source"))||!1,h={elementBelow:c,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(c&&(d||f)){h.isHoveringHandle=!0;var g=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),v=n?{source:g,sourceHandle:m,target:r,targetHandle:s}:{source:r,sourceHandle:s,target:g,targetHandle:m};h.connection=v;var w=e===Rl.Strict?n&&f||!n&&d:!0;w&&(h.isValid=i(v))}return h}function Fg(t){t==null||t.classList.remove("react-flow__handle-valid"),t==null||t.classList.remove("react-flow__handle-connecting")}function TN(t){var e=t.event,n=t.handleId,r=t.nodeId,s=t.onConnect,i=t.isTarget,l=t.getState,c=t.setState,d=t.isValidConnection,f=t.elementEdgeUpdaterType,h=t.onEdgeUpdateEnd,g=e.target.closest(".react-flow"),m=rN(e.target);if(!m)return;var v=m.elementFromPoint(e.clientX,e.clientY),w=v==null?void 0:v.classList.contains("target"),x=v==null?void 0:v.classList.contains("source");if(!g||!w&&!x&&!f)return;var _=l(),C=_.onConnectStart,T=_.connectionMode,O=f||(w?"target":"source"),k=g.getBoundingClientRect(),P;c({connectionPosition:{x:e.clientX-k.left,y:e.clientY-k.top},connectionNodeId:r,connectionHandleId:n,connectionHandleType:O}),C==null||C(e,{nodeId:r,handleId:n,handleType:O});function U(z){c({connectionPosition:{x:z.clientX-k.left,y:z.clientY-k.top}});var Q=ev(z,T,i,r,n,d,m),oe=Q.connection,L=Q.elementBelow,X=Q.isValid,D=Q.isHoveringHandle;if(!D)return Fg(P);oe.source!==oe.target&&L&&(Fg(P),P=L,L.classList.add("react-flow__handle-connecting"),L.classList.toggle("react-flow__handle-valid",X))}function B(z){var Q=l(),oe=Q.onConnectStop,L=Q.onConnectEnd,X=ev(z,T,i,r,n,d,m),D=X.connection,M=X.isValid;oe==null||oe(z),M&&(s==null||s(D)),L==null||L(z),f&&h&&h(z),Fg(P),c({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),m.removeEventListener("mousemove",U),m.removeEventListener("mouseup",B)}m.addEventListener("mousemove",U),m.addEventListener("mouseup",B)}var X6=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Y6=function(){return!0},Z6=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick}},AN=N.forwardRef(function(t,e){var n=t.type,r=n===void 0?"source":n,s=t.position,i=s===void 0?Le.Top:s,l=t.isValidConnection,c=l===void 0?Y6:l,d=t.isConnectable,f=d===void 0?!0:d,h=t.id,g=t.onConnect,m=t.children,v=t.className,w=t.onMouseDown,x=bh(t,X6),_=Kn(),C=N.useContext(l0),T=nn(Z6,ar),O=T.connectionStartHandle,k=T.connectOnClick,P=h||null,U=r==="target",B=function(L){var X=_.getState(),D=X.defaultEdgeOptions,M=X.onConnect,W=X.hasDefaultEdges,j=qg(qg({},D),L);if(W){var H=_.getState(),R=H.edges;_.setState({edges:dN(j,R)})}M==null||M(j),g==null||g(j)},z=function(L){L.button===0&&TN({event:L,handleId:P,nodeId:C,onConnect:B,isTarget:U,getState:_.getState,setState:_.setState,isValidConnection:c}),w==null||w(L)},Q=function(L){var X=_.getState(),D=X.onClickConnectStart,M=X.onClickConnectStop,W=X.onClickConnectEnd,j=X.connectionMode;if(!O){D==null||D(L,{nodeId:C,handleId:P,handleType:r}),_.setState({connectionStartHandle:{nodeId:C,type:r,handleId:P}});return}var H=rN(L.target),R=ev(L,j,O.type==="target",O.nodeId,O.handleId||null,c,H),F=R.connection,q=R.isValid;M==null||M(L),q&&B(F),W==null||W(L),_.setState({connectionStartHandle:null})};return fe.createElement("div",qg({"data-handleid":P,"data-nodeid":C,"data-handlepos":i,className:Gn(["react-flow__handle","react-flow__handle-".concat(i),"nodrag",v,{source:!U,target:U,connectable:f,connecting:(O==null?void 0:O.nodeId)===C&&(O==null?void 0:O.handleId)===P&&(O==null?void 0:O.type)===r}]),onMouseDown:z,onClick:k?Q:void 0,ref:e},x),m)});AN.displayName="Handle";var Hf=N.memo(AN),PN=function(e){var n=e.data,r=e.isConnectable,s=e.targetPosition,i=s===void 0?Le.Top:s,l=e.sourcePosition,c=l===void 0?Le.Bottom:l;return fe.createElement(fe.Fragment,null,fe.createElement(Hf,{type:"target",position:i,isConnectable:r}),n==null?void 0:n.label,fe.createElement(Hf,{type:"source",position:c,isConnectable:r}))};PN.displayName="DefaultNode";var tv=N.memo(PN),RN=function(e){var n=e.data,r=e.isConnectable,s=e.sourcePosition,i=s===void 0?Le.Bottom:s;return fe.createElement(fe.Fragment,null,n==null?void 0:n.label,fe.createElement(Hf,{type:"source",position:i,isConnectable:r}))};RN.displayName="InputNode";var jN=N.memo(RN),LN=function(e){var n=e.data,r=e.isConnectable,s=e.targetPosition,i=s===void 0?Le.Top:s;return fe.createElement(fe.Fragment,null,fe.createElement(Hf,{type:"target",position:i,isConnectable:r}),n==null?void 0:n.label)};LN.displayName="OutputNode";var IN=N.memo(LN),J6=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:e.edges.filter(function(n){return n.selected})}},Q6=function(e,n){var r=e.selectedNodes.map(function(c){return c.id}),s=n.selectedNodes.map(function(c){return c.id}),i=e.selectedEdges.map(function(c){return c.id}),l=n.selectedEdges.map(function(c){return c.id});return ar(r,s)&&ar(i,l)};function e8(t){var e=t.onSelectionChange,n=nn(J6,Q6),r=n.selectedNodes,s=n.selectedEdges;return N.useEffect(function(){e({nodes:r,edges:s})},[r,s]),null}var t8=N.memo(e8),n8=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function Xo(t,e){N.useEffect(function(){typeof t<"u"&&e(t)},[t])}function xt(t,e,n){N.useEffect(function(){typeof e<"u"&&n(ft({},t,e))},[e])}var r8=function(e){var n=e.nodes,r=e.edges,s=e.defaultNodes,i=e.defaultEdges,l=e.onConnect,c=e.onConnectStart,d=e.onConnectStop,f=e.onConnectEnd,h=e.onClickConnectStart,g=e.onClickConnectStop,m=e.onClickConnectEnd,v=e.nodesDraggable,w=e.nodesConnectable,x=e.minZoom,_=e.maxZoom,C=e.nodeExtent,T=e.onNodesChange,O=e.onEdgesChange,k=e.elementsSelectable,P=e.connectionMode,U=e.snapGrid,B=e.snapToGrid,z=e.translateExtent,Q=e.connectOnClick,oe=e.defaultEdgeOptions,L=e.fitView,X=e.fitViewOptions,D=e.onNodesDelete,M=e.onEdgesDelete,W=e.onNodeDrag,j=e.onNodeDragStart,H=e.onNodeDragStop,R=e.onSelectionDrag,F=e.onSelectionDragStart,q=e.onSelectionDragStop,$=nn(n8,ar),K=$.setNodes,ee=$.setEdges,se=$.setDefaultNodesAndEdges,ce=$.setMinZoom,me=$.setMaxZoom,J=$.setTranslateExtent,ae=$.setNodeExtent,ge=$.reset,le=Kn();return N.useEffect(function(){return se(s,i),function(){ge()}},[]),xt("defaultEdgeOptions",oe,le.setState),xt("connectionMode",P,le.setState),xt("onConnect",l,le.setState),xt("onConnectStart",c,le.setState),xt("onConnectStop",d,le.setState),xt("onConnectEnd",f,le.setState),xt("onClickConnectStart",h,le.setState),xt("onClickConnectStop",g,le.setState),xt("onClickConnectEnd",m,le.setState),xt("nodesDraggable",v,le.setState),xt("nodesConnectable",w,le.setState),xt("elementsSelectable",k,le.setState),xt("snapToGrid",B,le.setState),xt("snapGrid",U,le.setState),xt("onNodesChange",T,le.setState),xt("onEdgesChange",O,le.setState),xt("connectOnClick",Q,le.setState),xt("fitViewOnInit",L,le.setState),xt("fitViewOnInitOptions",X,le.setState),xt("onNodesDelete",D,le.setState),xt("onEdgesDelete",M,le.setState),xt("onNodeDrag",W,le.setState),xt("onNodeDragStart",j,le.setState),xt("onNodeDragStop",H,le.setState),xt("onSelectionDrag",R,le.setState),xt("onSelectionDragStart",F,le.setState),xt("onSelectionDragStop",q,le.setState),Xo(n,K),Xo(r,ee),Xo(s,K),Xo(i,ee),Xo(x,ce),Xo(_,me),Xo(z,J),Xo(C,ae),null},s8=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",o8=s8,i8=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",a8=i8,l8=function(e,n,r){return r===Le.Left?e-n:r===Le.Right?e+n:e},c8=function(e,n,r){return r===Le.Top?e-n:r===Le.Bottom?e+n:e},lx=function(e){var n=e.className,r=e.position,s=e.centerX,i=e.centerY,l=e.radius,c=l===void 0?10:l;return fe.createElement("circle",{className:Gn(["react-flow__edgeupdater",n]),cx:l8(s,c,r),cy:c8(i,c,r),r:c,stroke:"transparent",fill:"transparent"})},sl=(function(t){var e=function(r){var s=r.id,i=r.className,l=r.type,c=r.data,d=r.onClick,f=r.onEdgeDoubleClick,h=r.selected,g=r.animated,m=r.label,v=r.labelStyle,w=r.labelShowBg,x=r.labelBgStyle,_=r.labelBgPadding,C=r.labelBgBorderRadius,T=r.style,O=r.source,k=r.target,P=r.sourceX,U=r.sourceY,B=r.targetX,z=r.targetY,Q=r.sourcePosition,oe=r.targetPosition,L=r.elementsSelectable,X=r.hidden,D=r.sourceHandleId,M=r.targetHandleId,W=r.onContextMenu,j=r.onMouseEnter,H=r.onMouseMove,R=r.onMouseLeave,F=r.edgeUpdaterRadius,q=r.onEdgeUpdate,$=r.onEdgeUpdateStart,K=r.onEdgeUpdateEnd,ee=r.markerEnd,se=r.markerStart,ce=r.rfId,me=N.useState(!1),J=st(me,2),ae=J[0],ge=J[1],le=Kn(),xe=function(Pt){var Kt=le.getState(),wt=Kt.edges,rn=Kt.addSelectedEdges,hn=wt.find(function(wn){return wn.id===s});L&&(le.setState({nodesSelectionActive:!1}),rn([s])),d==null||d(Pt,hn)},Ee=Oc(s,le.getState,f),ze=Oc(s,le.getState,W),Ue=Oc(s,le.getState,j),tt=Oc(s,le.getState,H),At=Oc(s,le.getState,R),Ct=function(Pt,Kt){var wt=Kt?k:O,rn=(Kt?M:D)||null,hn=Kt?"target":"source",wn=function(){return!0},Xn=Kt,bn=le.getState().edges.find(function(zt){return zt.id===s});$==null||$(Pt,bn,hn);var Un=K?function(zt){return K(zt,bn,hn)}:void 0,xn=function(Ut){return q==null?void 0:q(bn,Ut)};TN({event:Pt,handleId:rn,nodeId:wt,onConnect:xn,isTarget:Xn,getState:le.getState,setState:le.setState,isValidConnection:wn,elementEdgeUpdaterType:hn,onEdgeUpdateEnd:Un})},fn=function(Pt){return Ct(Pt,!0)},Mt=function(Pt){return Ct(Pt,!1)},Bt=function(){return ge(!0)},Vt=function(){return ge(!1)},zn=N.useMemo(function(){return"url(#".concat(Ym(se,ce),")")},[se,ce]),lr=N.useMemo(function(){return"url(#".concat(Ym(ee,ce),")")},[ee,ce]);if(X)return null;var Qt=!L&&!d,On=typeof q<"u",_r=Gn(["react-flow__edge","react-flow__edge-".concat(l),i,{selected:h,animated:g,inactive:Qt,updating:ae}]);return fe.createElement("g",{className:_r,onClick:xe,onDoubleClick:Ee,onContextMenu:ze,onMouseEnter:Ue,onMouseMove:tt,onMouseLeave:At},fe.createElement(t,{id:s,source:O,target:k,selected:h,animated:g,label:m,labelStyle:v,labelShowBg:w,labelBgStyle:x,labelBgPadding:_,labelBgBorderRadius:C,data:c,style:T,sourceX:P,sourceY:U,targetX:B,targetY:z,sourcePosition:Q,targetPosition:oe,sourceHandleId:D,targetHandleId:M,markerStart:zn,markerEnd:lr,"data-testid":"rf__edge-".concat(s)}),On&&fe.createElement("g",{onMouseDown:fn,onMouseEnter:Bt,onMouseOut:Vt},fe.createElement(lx,{position:Q,centerX:P,centerY:U,radius:F})),On&&fe.createElement("g",{onMouseDown:Mt,onMouseEnter:Bt,onMouseOut:Vt},fe.createElement(lx,{position:oe,centerX:B,centerY:z,radius:F})))};return e.displayName="EdgeWrapper",N.memo(e)});function cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u8(t){var e={default:sl(t.default||Qm),straight:sl(t.bezier||kN),step:sl(t.step||NN),smoothstep:sl(t.step||a0),simplebezier:sl(t.simplebezier||EN)},n={},r=Object.keys(t).filter(function(s){return!["default","bezier"].includes(s)}).reduce(function(s,i){return s[i]=sl(t[i]||Qm),s},n);return ux(ux({},e),r)}function dx(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,l=(n==null?void 0:n.height)||e.height;switch(t){case Le.Top:return{x:r+i/2,y:s};case Le.Right:return{x:r+i,y:s+l/2};case Le.Bottom:return{x:r+i/2,y:s+l};case Le.Left:return{x:r,y:s+l/2}}}function fx(t,e){if(!t)return null;var n=null;return t.length===1||!e?n=t[0]:e&&(n=t.find(function(r){return r.id===e})),typeof n>"u"?null:n}var d8=function(e,n,r,s,i,l){var c=dx(r,e,n),d=dx(l,s,i);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y}};function f8(t){var e=t.sourcePos,n=t.targetPos,r=t.sourceWidth,s=t.sourceHeight,i=t.targetWidth,l=t.targetHeight,c=t.width,d=t.height,f=t.transform,h={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+r,n.x+i),y2:Math.max(e.y+s,n.y+l)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);var g=Ll({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:c/f[2],height:d/f[2]}),m=Math.max(0,Math.min(g.x2,h.x2)-Math.max(g.x,h.x)),v=Math.max(0,Math.min(g.y2,h.y2)-Math.max(g.y,h.y)),w=Math.ceil(m*v);return w>0}function hx(t,e){var n,r,s,i,l,c=t.get(e),d=(c==null||(n=c[Nn])===null||n===void 0?void 0:n.handleBounds)||null,f=!c||!d||!c.width||!c.height||typeof((r=c.positionAbsolute)===null||r===void 0?void 0:r.x)>"u"||typeof((s=c.positionAbsolute)===null||s===void 0?void 0:s.y)>"u";return[{x:(c==null||(i=c.positionAbsolute)===null||i===void 0?void 0:i.x)||0,y:(c==null||(l=c.positionAbsolute)===null||l===void 0?void 0:l.y)||0,width:(c==null?void 0:c.width)||0,height:(c==null?void 0:c.height)||0},d,!f]}var h8=typeof document<"u"?document:null,Vf=(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:h8},n=N.useState(!1),r=st(n,2),s=r[0],i=r[1],l=N.useRef(new Set([])),c=N.useMemo(function(){if(t!==null){var g=Array.isArray(t)?t:[t],m=g.filter(function(w){return typeof w=="string"}).map(function(w){return w.split("+")}),v=m.reduce(function(w,x){return w.concat.apply(w,na(x))},[]);return[m,v]}return[[],[]]},[t]),d=st(c,2),f=d[0],h=d[1];return N.useEffect(function(){if(t!==null){var g,m,v=function(C){if(mx(C))return!1;var T=gx(C.code,h);l.current.add(C[T]),px(f,l.current,!1)&&(C.preventDefault(),i(!0))},w=function(C){if(mx(C))return!1;var T=gx(C.code,h);px(f,l.current,!0)?(i(!1),l.current.clear()):l.current.delete(C[T])},x=function(){l.current.clear(),i(!1)};return e==null||(g=e.target)===null||g===void 0||g.addEventListener("keydown",v),e==null||(m=e.target)===null||m===void 0||m.addEventListener("keyup",w),window.addEventListener("blur",x),function(){var _,C;e==null||(_=e.target)===null||_===void 0||_.removeEventListener("keydown",v),e==null||(C=e.target)===null||C===void 0||C.removeEventListener("keyup",w),window.removeEventListener("blur",x)}}},[t,i]),s});function px(t,e,n){return t.filter(function(r){return n||r.length===e.size}).some(function(r){return r.every(function(s){return e.has(s)})})}function gx(t,e){return e.includes(t)?"code":"key"}function mx(t){var e,n=((e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))}var p8=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}},g8=(function(t){var e=t.deleteKeyCode,n=t.multiSelectionKeyCode,r=Kn(),s=nn(p8,ar),i=s.onNodesChange,l=s.onEdgesChange,c=Vf(e),d=Vf(n);N.useEffect(function(){var f=r.getState(),h=f.nodeInternals,g=f.edges,m=f.hasDefaultNodes,v=f.hasDefaultEdges,w=f.onNodesDelete,x=f.onEdgesDelete,_=Array.from(h.values()),C=_.reduce(function(z,Q){return(!Q.selected&&Q.parentNode&&z.find(function(oe){return oe.id===Q.parentNode})||Q.selected)&&z.push(Q),z},[]),T=g.filter(function(z){return z.selected});if(c&&(C||T)){var O=pN(C,g),k=[].concat(na(T),na(O)),P=k.reduce(function(z,Q){return z.includes(Q.id)||z.push(Q.id),z},[]);if((v||m)&&(v&&r.setState({edges:g.filter(function(z){return!P.includes(z.id)})}),m&&(C.forEach(function(z){h.delete(z.id)}),r.setState({nodeInternals:new Map(h)}))),P.length>0&&(x==null||x(k),l)){var U=P.map(function(z){return{id:z,type:"remove"}});l(U)}if(C.length>0&&(w==null||w(C),i)){var B=C.map(function(z){return{id:z.id,type:"remove"}});i(B)}r.setState({nodesSelectionActive:!1})}},[c,i,l]),N.useEffect(function(){r.setState({multiSelectionActive:d})},[d])});function m8(t){var e=Kn();N.useEffect(function(){var n,r=function(){if(t.current){var i=o0(t.current);e.setState({width:i.width||500,height:i.height||500})}};return r(),window.onresize=r,t.current&&(n=new ResizeObserver(function(){return r()}),n.observe(t.current)),function(){window.onresize=null,n&&t.current&&n.unobserve(t.current)}},[])}var v8=function(e,n){return e.x!==n.x||e.y!==n.y||e.zoom!==n.k},Hg=function(e){return{x:e.x,y:e.y,zoom:e.k}},Jd=function(e,n){return e.target.closest(".".concat(n))},y8=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},w8=function(e){var n=e.onMove,r=e.onMoveStart,s=e.onMoveEnd,i=e.zoomOnScroll,l=i===void 0?!0:i,c=e.zoomOnPinch,d=c===void 0?!0:c,f=e.panOnScroll,h=f===void 0?!1:f,g=e.panOnScrollSpeed,m=g===void 0?.5:g,v=e.panOnScrollMode,w=v===void 0?Sl.Free:v,x=e.zoomOnDoubleClick,_=x===void 0?!0:x,C=e.selectionKeyPressed,T=e.elementsSelectable,O=e.panOnDrag,k=O===void 0?!0:O,P=e.translateExtent,U=e.minZoom,B=e.maxZoom,z=e.defaultZoom,Q=z===void 0?1:z,oe=e.defaultPosition,L=oe===void 0?[0,0]:oe,X=e.zoomActivationKeyCode,D=e.preventScrolling,M=D===void 0?!0:D,W=e.children,j=e.noWheelClassName,H=e.noPanClassName,R=Kn(),F=N.useRef(!1),q=N.useRef(null),$=N.useRef({x:0,y:0,zoom:0}),K=nn(y8,ar),ee=K.d3Zoom,se=K.d3Selection,ce=K.d3ZoomHandler,me=Vf(X);return m8(q),N.useEffect(function(){if(q.current){var J,ae=e6().scaleExtent([U,B]).translateExtent(P),ge=is(q.current).call(ae),le=_l(L[0],P[0][0],P[1][0]),xe=_l(L[1],P[0][1],P[1][1]),Ee=_l(Q,U,B),ze=ta.translate(le,xe).scale(Ee);ae.transform(ge,ze),R.setState({d3Zoom:ae,d3Selection:ge,d3ZoomHandler:ge.on("wheel.zoom"),transform:[le,xe,Ee],domNode:(J=ge.node())===null||J===void 0?void 0:J.closest(".react-flow")})}},[]),N.useEffect(function(){se&&ee&&(h&&!me?se.on("wheel",function(J){if(Jd(J,j))return!1;J.preventDefault(),J.stopImmediatePropagation();var ae=se.property("__zoom").k||1;if(J.ctrlKey&&d){var ge=Ps(J),le=-J.deltaY*(J.deltaMode===1?.05:J.deltaMode?1:.002)*10,xe=ae*Math.pow(2,le);ee.scaleTo(se,xe,ge);return}var Ee=J.deltaMode===1?20:1,ze=w===Sl.Vertical?0:J.deltaX*Ee,Ue=w===Sl.Horizontal?0:J.deltaY*Ee;ee.translateBy(se,-(ze/ae)*m,-(Ue/ae)*m)}).on("wheel.zoom",null):typeof ce<"u"&&se.on("wheel",function(J){if(!M||Jd(J,j))return null;J.preventDefault()}).on("wheel.zoom",ce))},[h,w,se,ee,ce,me,d,M,j]),N.useEffect(function(){ee&&(C&&!F.current?ee.on("zoom",null):C||ee.on("zoom",function(J){if(R.setState({transform:[J.transform.x,J.transform.y,J.transform.k]}),n){var ae=Hg(J.transform);n(J.sourceEvent,ae)}}))},[C,ee,n]),N.useEffect(function(){ee&&ee.on("start",function(J){if(F.current=!0,r){var ae=Hg(J.transform);$.current=ae,r(J.sourceEvent,ae)}})},[ee,r]),N.useEffect(function(){ee&&ee.on("end",function(J){if(F.current=!1,s&&v8($.current,J.transform)){var ae=Hg(J.transform);$.current=ae,s(J.sourceEvent,ae)}})},[ee,s]),N.useEffect(function(){ee&&ee.filter(function(J){var ae=me||l,ge=d&&J.ctrlKey;return!k&&!ae&&!h&&!_&&!d||C||!_&&J.type==="dblclick"||Jd(J,j)&&J.type==="wheel"||Jd(J,H)&&J.type!=="wheel"||!d&&J.ctrlKey&&J.type==="wheel"||!ae&&!h&&!ge&&J.type==="wheel"||!k&&(J.type==="mousedown"||J.type==="touchstart")?!1:(!J.ctrlKey||J.type==="wheel")&&!J.button})},[ee,l,d,h,_,k,C,T,me]),fe.createElement("div",{className:"react-flow__renderer react-flow__container",ref:q},W)};function vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wx(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}var b8=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},bx={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},x8=N.memo(function(t){var e=t.selectionKeyPressed,n=Kn(),r=N.useRef(0),s=N.useRef(0),i=N.useRef(),l=N.useState(bx),c=st(l,2),d=c[0],f=c[1],h=nn(b8,ar),g=h.userSelectionActive,m=h.elementsSelectable,v=g||e;if(!m||!v)return null;var w=function(){f(bx),n.setState({userSelectionActive:!1}),r.current=0,s.current=0},x=function(k){var P=k.target.closest(".react-flow");i.current=P.getBoundingClientRect();var U=wx(k,i.current);f({width:0,height:0,startX:U.x,startY:U.y,x:U.x,y:U.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},_=function(k){var P,U;if(!(!e||!d.draw||!i.current)){var B=wx(k,i.current),z=(P=d.startX)!==null&&P!==void 0?P:0,Q=(U=d.startY)!==null&&U!==void 0?U:0,oe=yx(yx({},d),{},{x:B.x<z?B.x:z,y:B.y<Q?B.y:Q,width:Math.abs(B.x-z),height:Math.abs(B.y-Q)}),L=n.getState(),X=L.nodeInternals,D=L.edges,M=L.transform,W=L.onNodesChange,j=L.onEdgesChange,H=Array.from(X.values()),R=hN(X,oe,M,!1,!0),F=pN(R,D).map(function(ee){return ee.id}),q=R.map(function(ee){return ee.id});if(r.current!==q.length){r.current=q.length;var $=ml(H,q);$.length&&(W==null||W($))}if(s.current!==F.length){s.current=F.length;var K=ml(D,F);K.length&&(j==null||j(K))}f(oe)}},C=function(){n.setState({nodesSelectionActive:r.current>0}),w()},T=function(){n.setState({nodesSelectionActive:!1}),w()};return fe.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:x,onMouseMove:_,onMouseUp:C,onMouseLeave:T},d.draw&&fe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:d.width,height:d.height,transform:"translate(".concat(d.x,"px, ").concat(d.y,"px)")}}))});function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MN(t,e){if(!t.parentNode)return!1;var n=e.get(t.parentNode);return n?n.selected?!0:MN(n,e):!1}function _x(t,e,n){var r=t;do{var s;if((s=r)!==null&&s!==void 0&&s.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function S8(t,e,n){return Array.from(t.values()).filter(function(r){return(r.selected||r.id===n)&&(!r.parentNode||!MN(r,t))}).map(function(r){var s,i,l,c;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:e.x-((s=(i=r.positionAbsolute)===null||i===void 0?void 0:i.x)!==null&&s!==void 0?s:0),y:e.y-((l=(c=r.positionAbsolute)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function _8(t,e,n,r,s,i){var l=st(r,2),c=l[0],d=l[1],f=t.extent||i,h={x:e.x-t.distance.x,y:e.y-t.distance.y};if(n&&(h.x=c*Math.round(h.x/c),h.y=d*Math.round(h.y/d)),t.extent==="parent")if(t.parentNode&&t.width&&t.height){var g=s.get(t.parentNode);f=g!=null&&g.positionAbsolute&&g!==null&&g!==void 0&&g.width&&g!==null&&g!==void 0&&g.height?[[g.positionAbsolute.x,g.positionAbsolute.y],[g.positionAbsolute.x+g.width-t.width,g.positionAbsolute.y+g.height-t.height]]:f}else f=i;else if(t.extent&&t.parentNode){var m,v,w,x,_=s.get(t.parentNode),C=(m=_==null||(v=_.positionAbsolute)===null||v===void 0?void 0:v.x)!==null&&m!==void 0?m:0,T=(w=_==null||(x=_.positionAbsolute)===null||x===void 0?void 0:x.y)!==null&&w!==void 0?w:0;f=[[t.extent[0][0]+C,t.extent[0][1]+T],[t.extent[1][0]+C,t.extent[1][1]+T]]}var O={x:0,y:0};if(t.parentNode){var k,P,U,B,z=s.get(t.parentNode);O={x:(k=z==null||(P=z.positionAbsolute)===null||P===void 0?void 0:P.x)!==null&&k!==void 0?k:0,y:(U=z==null||(B=z.positionAbsolute)===null||B===void 0?void 0:B.y)!==null&&U!==void 0?U:0}}return t.positionAbsolute=f?nN(h,f):h,t.position={x:t.positionAbsolute.x-O.x,y:t.positionAbsolute.y-O.y},t}function Vg(t){var e=t.nodeId,n=t.dragItems,r=t.nodeInternals,s=n.map(function(i){var l=r.get(i.id);return Sx(Sx({},l),{},{position:i.position,positionAbsolute:i.positionAbsolute})});return[e?s.find(function(i){return i.id===e}):s[0],s]}function Wg(t){return function(e,n,r){return t==null?void 0:t(e,r)}}function DN(t){var e=t.nodeRef,n=t.disabled,r=n===void 0?!1:n,s=t.noDragClassName,i=t.handleSelector,l=t.nodeId,c=t.isSelectable,d=t.selectNodesOnDrag,f=N.useState(!1),h=st(f,2),g=h[0],m=h[1],v=Kn(),w=N.useRef(),x=N.useRef({x:null,y:null}),_=N.useCallback(function(C){var T=C.sourceEvent,O=v.getState(),k=O.transform,P=O.snapGrid,U=O.snapToGrid,B=T.touches?T.touches[0].clientX:T.clientX,z=T.touches?T.touches[0].clientY:T.clientY,Q=fN({x:B,y:z},k,U,P);return Q},[]);return N.useEffect(function(){if(e!=null&&e.current){var C=is(e.current);if(r)C.on(".drag",null);else{var T=uD().on("start",function(O){var k=v.getState(),P=k.nodeInternals,U=k.multiSelectionActive,B=k.unselectNodesAndEdges,z=k.onNodeDragStart,Q=k.onSelectionDragStart,oe=l?z:Wg(Q);if(!d&&!U&&l){var L;(L=P.get(l))!==null&&L!==void 0&&L.selected||B()}l&&c&&d&&uN({id:l,store:v});var X=_(O);if(x.current=X,w.current=S8(P,X,l),oe&&w.current){var D=Vg({nodeId:l,dragItems:w.current,nodeInternals:P}),M=st(D,2),W=M[0],j=M[1];oe(O.sourceEvent,W,j)}}).on("drag",function(O){var k=v.getState(),P=k.updateNodePositions,U=k.snapToGrid,B=k.snapGrid,z=k.nodeInternals,Q=k.nodeExtent,oe=k.onNodeDrag,L=k.onSelectionDrag,X=_(O);if((x.current.x!==X.x||x.current.y!==X.y)&&w.current){x.current=X,w.current=w.current.map(function(R){return _8(R,X,U,B,z,Q)});var D=l?oe:Wg(L);if(P(w.current,!0,!0),m(!0),D){var M=Vg({nodeId:l,dragItems:w.current,nodeInternals:z}),W=st(M,2),j=W[0],H=W[1];D(O.sourceEvent,j,H)}}O.on("end",function(R){if(m(!1),w.current){var F=v.getState(),q=F.updateNodePositions,$=F.nodeInternals,K=F.onNodeDragStop,ee=F.onSelectionDragStop,se=l?K:Wg(ee);if(q(w.current,!1,!1),se){var ce=Vg({nodeId:l,dragItems:w.current,nodeInternals:$}),me=st(ce,2),J=me[0],ae=me[1];se(R.sourceEvent,J,ae)}}})}).filter(function(O){var k=O.target,P=!O.button&&(!s||!_x(k,".".concat(s),e))&&(!i||_x(k,i,e));return P});return C.call(T),function(){C.on(".drag",null)}}}},[e,r,s,i,c,v,l,d,_]),g}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var C8=function(e){return E8({transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive},wh(Array.from(e.nodeInternals.values()).filter(function(n){return n.selected})))},N8=function(e){var n=Array.from(e.nodeInternals.values()).filter(function(r){return r.selected});return wh(n)};function k8(t){var e=t.onSelectionContextMenu,n=t.noPanClassName,r=Kn(),s=nn(C8,ar),i=s.transformString,l=s.userSelectionActive,c=nn(N8,ar),d=c.width,f=c.height,h=c.x,g=c.y,m=N.useRef(null);if(DN({nodeRef:m}),l||!d||!f)return null;var v=e?function(w){var x=Array.from(r.getState().nodeInternals.values()).filter(function(_){return _.selected});e(w,x)}:void 0;return fe.createElement("div",{className:Gn(["react-flow__nodesselection","react-flow__container",n]),style:{transform:i}},fe.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:v,style:{width:d,height:f,top:g,left:h}}))}var O8=N.memo(k8),T8=function(e){return e.nodesSelectionActive},$N=function(e){var n=e.children,r=e.onPaneClick,s=e.onPaneContextMenu,i=e.onPaneScroll,l=e.deleteKeyCode,c=e.onMove,d=e.onMoveStart,f=e.onMoveEnd,h=e.selectionKeyCode,g=e.multiSelectionKeyCode,m=e.zoomActivationKeyCode,v=e.elementsSelectable,w=e.zoomOnScroll,x=e.zoomOnPinch,_=e.panOnScroll,C=e.panOnScrollSpeed,T=e.panOnScrollMode,O=e.zoomOnDoubleClick,k=e.panOnDrag,P=e.translateExtent,U=e.minZoom,B=e.maxZoom,z=e.defaultZoom,Q=e.defaultPosition,oe=e.preventScrolling,L=e.onSelectionContextMenu,X=e.noWheelClassName,D=e.noPanClassName,M=Kn(),W=nn(T8),j=Vf(h);g8({deleteKeyCode:l,multiSelectionKeyCode:g});var H=function($){r==null||r($),M.getState().resetSelectedElements(),M.setState({nodesSelectionActive:!1})},R=s?function(q){return s(q)}:void 0,F=i?function(q){return i(q)}:void 0;return fe.createElement(w8,{onMove:c,onMoveStart:d,onMoveEnd:f,selectionKeyPressed:j,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:x,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:T,zoomOnDoubleClick:O,panOnDrag:k,translateExtent:P,minZoom:U,maxZoom:B,defaultZoom:z,defaultPosition:Q,zoomActivationKeyCode:m,preventScrolling:oe,noWheelClassName:X,noPanClassName:D},n,fe.createElement(x8,{selectionKeyPressed:j}),W&&fe.createElement(O8,{onSelectionContextMenu:L,noPanClassName:D}),fe.createElement("div",{className:"react-flow__pane react-flow__container",onClick:H,onContextMenu:R,onWheel:F}))};$N.displayName="FlowRenderer";var A8=N.memo($N);function P8(t){var e=nn(N.useCallback(function(n){return t?hN(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[t]));return e}var R8=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},BN=function(e){var n=nn(R8,ar),r=n.nodesDraggable,s=n.nodesConnectable,i=n.elementsSelectable,l=n.updateNodeDimensions,c=P8(e.onlyRenderVisibleElements),d=N.useRef(),f=N.useMemo(function(){if(typeof ResizeObserver>"u")return null;var h=new ResizeObserver(function(g){var m=g.map(function(v){return{id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}});l(m)});return d.current=h,h},[]);return N.useEffect(function(){return function(){var h;d==null||(h=d.current)===null||h===void 0||h.disconnect()}},[]),fe.createElement("div",{className:"react-flow__nodes react-flow__container"},c.map(function(h){var g,m,v,w,x,_,C,T=h.type||"default";e.nodeTypes[T]||(T="default");var O=e.nodeTypes[T]||e.nodeTypes.default,k=!!(h.draggable||r&&typeof h.draggable>"u"),P=!!(h.selectable||i&&typeof h.selectable>"u"),U=!!(h.connectable||s&&typeof h.connectable>"u");return fe.createElement(O,{key:h.id,id:h.id,className:h.className,style:h.style,type:T,data:h.data,sourcePosition:h.sourcePosition||Le.Bottom,targetPosition:h.targetPosition||Le.Top,hidden:h.hidden,xPos:(g=(m=h.positionAbsolute)===null||m===void 0?void 0:m.x)!==null&&g!==void 0?g:0,yPos:(v=(w=h.positionAbsolute)===null||w===void 0?void 0:w.y)!==null&&v!==void 0?v:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:k,isSelectable:P,isConnectable:U,resizeObserver:f,dragHandle:h.dragHandle,zIndex:(x=(_=h[Nn])===null||_===void 0?void 0:_.z)!==null&&x!==void 0?x:0,isParent:!!((C=h[Nn])!==null&&C!==void 0&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height})}))};BN.displayName="NodeRenderer";var j8=N.memo(BN),ol;function Cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var L8=(ol={},ft(ol,Le.Left,Le.Right),ft(ol,Le.Right,Le.Left),ft(ol,Le.Top,Le.Bottom),ft(ol,Le.Bottom,Le.Top),ol),I8=(function(t){var e,n,r,s,i,l=t.connectionNodeId,c=t.connectionHandleType,d=t.connectionLineStyle,f=t.connectionLineType,h=f===void 0?ri.Bezier:f,g=t.isConnectable,m=t.CustomConnectionLineComponent,v=nn(N.useCallback(function(F){return{fromNode:F.nodeInternals.get(l),handleId:F.connectionHandleId,toX:(F.connectionPosition.x-F.transform[0])/F.transform[2],toY:(F.connectionPosition.y-F.transform[1])/F.transform[2]}},[l]),ar),w=v.fromNode,x=v.handleId,_=v.toX,C=v.toY,T=w==null||(e=w[Nn])===null||e===void 0?void 0:e.handleBounds;if(!w||!g||!(T!=null&&T[c]))return null;var O=T[c],k=x?O.find(function(F){return F.id===x}):O[0],P=k?k.x+k.width/2:((n=w==null?void 0:w.width)!==null&&n!==void 0?n:0)/2,U=k?k.y+k.height/2:(r=w==null?void 0:w.height)!==null&&r!==void 0?r:0,B=((w==null||(s=w.positionAbsolute)===null||s===void 0?void 0:s.x)||0)+P,z=((w==null||(i=w.positionAbsolute)===null||i===void 0?void 0:i.y)||0)+U,Q=k==null?void 0:k.position;if(!Q)return null;var oe=L8[Q],L,X,D,M,W,j;switch(c){case"source":L=B,X=z,D=Q,M=_,W=C,j=oe;break;case"target":L=_,X=C,D=oe,M=B,W=z,j=Q;break}if(m)return fe.createElement("g",{className:"react-flow__connection"},fe.createElement(m,{connectionLineType:h,connectionLineStyle:d,fromNode:w,fromHandle:k,fromX:B,fromY:z,toX:_,toY:C,fromPosition:Q,toPosition:oe,sourcePosition:D,targetPosition:j,sourceNode:w,sourceHandle:k,targetX:M,targetY:W,sourceX:L,sourceY:X}));var H="",R={sourceX:L,sourceY:X,sourcePosition:D,targetX:M,targetY:W,targetPosition:j};return h===ri.Bezier?H=ON(R):h===ri.Step?H=Jm(Nx(Nx({},R),{},{borderRadius:0})):h===ri.SmoothStep?H=Jm(R):h===ri.SimpleBezier?H=_N(R):H="M".concat(L,",").concat(X," ").concat(M,",").concat(W),fe.createElement("g",{className:"react-flow__connection"},fe.createElement("path",{d:H,className:"react-flow__connection-path",style:d}))});function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}var Qd,M8=function(e){var n=e.color,r=n===void 0?"none":n,s=e.strokeWidth,i=s===void 0?1:s;return fe.createElement("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:"none",points:"-5,-4 0,0 -5,4"})},D8=function(e){var n=e.color,r=n===void 0?"none":n,s=e.strokeWidth,i=s===void 0?1:s;return fe.createElement("polyline",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:i,fill:r,points:"-5,-4 0,0 -5,4 -5,-4"})},kx=(Qd={},ft(Qd,Uf.Arrow,M8),ft(Qd,Uf.ArrowClosed,D8),Qd);function $8(t){var e=N.useMemo(function(){var n=kx.hasOwnProperty(t);return n?kx[t]:function(){return null}},[t]);return e}function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function B8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var z8=function(e){var n=e.id,r=e.type,s=e.color,i=e.width,l=i===void 0?12.5:i,c=e.height,d=c===void 0?12.5:c,f=e.markerUnits,h=f===void 0?"strokeWidth":f,g=e.strokeWidth,m=e.orient,v=m===void 0?"auto":m,w=$8(r);return fe.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(l),markerHeight:"".concat(d),viewBox:"-10 -10 20 20",markerUnits:h,orient:v,refX:"0",refY:"0"},fe.createElement(w,{color:s,strokeWidth:g}))},U8=function(e){var n=e.defaultColor,r=e.rfId;return function(s){var i=[];return s.edges.reduce(function(l,c){return[c.markerStart,c.markerEnd].forEach(function(d){if(d&&nv(d)==="object"){var f=Ym(d,r);i.includes(f)||(l.push(B8({id:f,color:d.color||n},d)),i.push(f))}}),l},[]).sort(function(l,c){return l.id.localeCompare(c.id)})}},zN=function(e){var n=e.defaultColor,r=e.rfId,s=nn(N.useCallback(U8({defaultColor:n,rfId:r}),[n,r]),function(i,l){return!(i.length!==l.length||i.some(function(c,d){return c.id!==l[d].id}))});return fe.createElement("defs",null,s.map(function(i){return fe.createElement(z8,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})}))};zN.displayName="MarkerDefinitions";var F8=N.memo(zN),q8=[{level:0,isMaxLevel:!0,edges:[]}];function H8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=-1,s=t.reduce(function(l,c){var d=iN(c.zIndex),f=d?c.zIndex:0;if(n){var h,g,m,v;f=d?c.zIndex:Math.max(((h=e.get(c.source))===null||h===void 0||(g=h[Nn])===null||g===void 0?void 0:g.z)||0,((m=e.get(c.target))===null||m===void 0||(v=m[Nn])===null||v===void 0?void 0:v.z)||0)}return l[f]?l[f].push(c):l[f]=[c],r=f>r?f:r,l},{}),i=Object.entries(s).map(function(l){var c=st(l,2),d=c[0],f=c[1],h=+d;return{edges:f,level:h,isMaxLevel:h===r}});return i.length===0?q8:i}function V8(t,e,n){var r=nn(N.useCallback(function(s){return t?s.edges.filter(function(i){var l=e.get(i.source),c=e.get(i.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&f8({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges},[t,e]));return H8(r,e,n)}var W8=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},UN=function(e){var n=nn(W8,ar),r=n.connectionNodeId,s=n.connectionHandleType,i=n.nodesConnectable,l=n.elementsSelectable,c=n.width,d=n.height,f=n.connectionMode,h=n.nodeInternals,g=V8(e.onlyRenderVisibleElements,h,e.elevateEdgesOnSelect);if(!c)return null;var m=e.connectionLineType,v=e.defaultMarkerColor,w=e.connectionLineStyle,x=e.connectionLineComponent,_=e.connectionLineContainerStyle,C=r&&s;return fe.createElement(fe.Fragment,null,g.map(function(T){var O=T.level,k=T.edges,P=T.isMaxLevel;return fe.createElement("svg",{key:O,style:{zIndex:O},width:c,height:d,className:"react-flow__edges react-flow__container"},P&&fe.createElement(F8,{defaultColor:v,rfId:e.rfId}),fe.createElement("g",null,k.map(function(U){var B=hx(h,U.source),z=st(B,3),Q=z[0],oe=z[1],L=z[2],X=hx(h,U.target),D=st(X,3),M=D[0],W=D[1],j=D[2];if(!L||!j)return null;var H=U.type||"default";e.edgeTypes[H]||(console.warn('[React Flow]: Edge type "'.concat(H,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),H="default");var R=e.edgeTypes[H]||e.edgeTypes.default,F=f===Rl.Strict?W.target:W.target||W.source,q=fx(oe.source,U.sourceHandle||null),$=fx(F,U.targetHandle||null),K=(q==null?void 0:q.position)||Le.Bottom,ee=($==null?void 0:$.position)||Le.Top;if(!q||!$)return null;var se=d8(Q,q,K,M,$,ee),ce=se.sourceX,me=se.sourceY,J=se.targetX,ae=se.targetY;return fe.createElement(R,{key:U.id,id:U.id,className:Gn([U.className,e.noPanClassName]),type:H,data:U.data,selected:!!U.selected,animated:!!U.animated,hidden:!!U.hidden,label:U.label,labelStyle:U.labelStyle,labelShowBg:U.labelShowBg,labelBgStyle:U.labelBgStyle,labelBgPadding:U.labelBgPadding,labelBgBorderRadius:U.labelBgBorderRadius,style:U.style,source:U.source,target:U.target,sourceHandleId:U.sourceHandle,targetHandleId:U.targetHandle,markerEnd:U.markerEnd,markerStart:U.markerStart,sourceX:ce,sourceY:me,targetX:J,targetY:ae,sourcePosition:K,targetPosition:ee,elementsSelectable:l,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})})))}),C&&fe.createElement("svg",{style:_,width:c,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},fe.createElement(I8,{connectionNodeId:r,connectionHandleType:s,connectionLineStyle:w,connectionLineType:m,isConnectable:i,CustomConnectionLineComponent:x})))};UN.displayName="EdgeRenderer";var K8=N.memo(UN),G8=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function X8(t){var e=t.children,n=nn(G8);return fe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function Y8(t){var e=yN(),n=N.useRef(!1);N.useEffect(function(){!n.current&&e.viewportInitialized&&t&&(setTimeout(function(){return t(e)},1),n.current=!0)},[t,e.viewportInitialized])}var FN=function(e){var n=e.nodeTypes,r=e.edgeTypes,s=e.onMove,i=e.onMoveStart,l=e.onMoveEnd,c=e.onInit,d=e.onNodeClick,f=e.onEdgeClick,h=e.onNodeDoubleClick,g=e.onEdgeDoubleClick,m=e.onNodeMouseEnter,v=e.onNodeMouseMove,w=e.onNodeMouseLeave,x=e.onNodeContextMenu,_=e.onSelectionContextMenu,C=e.connectionLineType,T=e.connectionLineStyle,O=e.connectionLineComponent,k=e.connectionLineContainerStyle,P=e.selectionKeyCode,U=e.multiSelectionKeyCode,B=e.zoomActivationKeyCode,z=e.deleteKeyCode,Q=e.onlyRenderVisibleElements,oe=e.elementsSelectable,L=e.selectNodesOnDrag,X=e.translateExtent,D=e.minZoom,M=e.maxZoom,W=e.defaultZoom,j=e.defaultPosition,H=e.preventScrolling,R=e.defaultMarkerColor,F=e.zoomOnScroll,q=e.zoomOnPinch,$=e.panOnScroll,K=e.panOnScrollSpeed,ee=e.panOnScrollMode,se=e.zoomOnDoubleClick,ce=e.panOnDrag,me=e.onPaneClick,J=e.onPaneScroll,ae=e.onPaneContextMenu,ge=e.onEdgeUpdate,le=e.onEdgeContextMenu,xe=e.onEdgeMouseEnter,Ee=e.onEdgeMouseMove,ze=e.onEdgeMouseLeave,Ue=e.edgeUpdaterRadius,tt=e.onEdgeUpdateStart,At=e.onEdgeUpdateEnd,Ct=e.noDragClassName,fn=e.noWheelClassName,Mt=e.noPanClassName,Bt=e.elevateEdgesOnSelect,Vt=e.id;return Y8(c),fe.createElement(A8,{onPaneClick:me,onPaneContextMenu:ae,onPaneScroll:J,deleteKeyCode:z,selectionKeyCode:P,multiSelectionKeyCode:U,zoomActivationKeyCode:B,elementsSelectable:oe,onMove:s,onMoveStart:i,onMoveEnd:l,zoomOnScroll:F,zoomOnPinch:q,zoomOnDoubleClick:se,panOnScroll:$,panOnScrollSpeed:K,panOnScrollMode:ee,panOnDrag:ce,translateExtent:X,minZoom:D,maxZoom:M,defaultZoom:W,defaultPosition:j,onSelectionContextMenu:_,preventScrolling:H,noDragClassName:Ct,noWheelClassName:fn,noPanClassName:Mt},fe.createElement(X8,null,fe.createElement(K8,{edgeTypes:r,onEdgeClick:f,onEdgeDoubleClick:g,connectionLineType:C,connectionLineStyle:T,connectionLineComponent:O,connectionLineContainerStyle:k,onEdgeUpdate:ge,onlyRenderVisibleElements:Q,onEdgeContextMenu:le,onEdgeMouseEnter:xe,onEdgeMouseMove:Ee,onEdgeMouseLeave:ze,onEdgeUpdateStart:tt,onEdgeUpdateEnd:At,edgeUpdaterRadius:Ue,defaultMarkerColor:R,noPanClassName:Mt,elevateEdgesOnSelect:!!Bt,rfId:Vt}),fe.createElement(j8,{nodeTypes:n,onNodeClick:d,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:x,selectNodesOnDrag:L,onlyRenderVisibleElements:Q,noPanClassName:Mt,noDragClassName:Ct})))};FN.displayName="GraphView";var Z8=N.memo(FN),qN=function(){return null};qN.displayName="GroupNode";function Tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tx(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Tc=(function(t){var e=function(r){var s=r.id,i=r.type,l=r.data,c=r.xPos,d=r.yPos,f=r.selected,h=r.onClick,g=r.onMouseEnter,m=r.onMouseMove,v=r.onMouseLeave,w=r.onContextMenu,x=r.onDoubleClick,_=r.style,C=r.className,T=r.isDraggable,O=r.isSelectable,k=r.isConnectable,P=r.selectNodesOnDrag,U=r.sourcePosition,B=r.targetPosition,z=r.hidden,Q=r.resizeObserver,oe=r.dragHandle,L=r.zIndex,X=r.isParent,D=r.noPanClassName,M=r.noDragClassName,W=r.initialized,j=Kn(),H=N.useRef(null),R=N.useRef(U),F=N.useRef(B),q=N.useRef(i),$=O||T||h||g||m||v,K=kc(s,j.getState,g),ee=kc(s,j.getState,m),se=kc(s,j.getState,v),ce=kc(s,j.getState,w),me=kc(s,j.getState,x),J=function(le){if(O&&(!P||!T)&&uN({id:s,store:j}),h){var xe=j.getState().nodeInternals.get(s);h(le,Ax({},xe))}};N.useEffect(function(){if(H.current&&!z){var ge=H.current;return Q==null||Q.observe(ge),function(){return Q==null?void 0:Q.unobserve(ge)}}},[z]),N.useEffect(function(){var ge=q.current!==i,le=R.current!==U,xe=F.current!==B;H.current&&(ge||le||xe)&&(ge&&(q.current=i),le&&(R.current=U),xe&&(F.current=B),j.getState().updateNodeDimensions([{id:s,nodeElement:H.current,forceUpdate:!0}]))},[s,i,U,B]);var ae=DN({nodeRef:H,disabled:z||!T,noDragClassName:M,handleSelector:oe,nodeId:s,isSelectable:O,selectNodesOnDrag:P});return z?null:fe.createElement("div",{className:Gn(["react-flow__node","react-flow__node-".concat(i),D,C,{selected:f,selectable:O,parent:X}]),ref:H,style:Ax({zIndex:L,transform:"translate(".concat(c,"px,").concat(d,"px)"),pointerEvents:$?"all":"none",visibility:W?"visible":"hidden"},_),onMouseEnter:K,onMouseMove:ee,onMouseLeave:se,onContextMenu:ce,onClick:J,onDoubleClick:me,"data-testid":"rf__node-".concat(s),"data-id":s},fe.createElement(G6,{value:s},fe.createElement(t,{id:s,data:l,type:i,xPos:c,yPos:d,selected:f,isConnectable:k,sourcePosition:U,targetPosition:B,dragging:ae,dragHandle:oe,zIndex:L})))};return e.displayName="NodeWrapper",N.memo(e)});function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J8(t){var e={input:Tc(t.input||jN),default:Tc(t.default||tv),output:Tc(t.output||IN),group:Tc(t.group||qN)},n={},r=Object.keys(t).filter(function(s){return!["input","default","output","group"].includes(s)}).reduce(function(s,i){return s[i]=Tc(t[i]||tv),s},n);return Rx(Rx({},e),r)}function jx(t,e){N.useRef(null);var n=N.useMemo(function(){return e(t)},[t]);return n}function Lx(t){if(!(!t||typeof document>"u")){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}}var HN=function(e){var n=e.children,r=!0;try{Kn()}catch{r=!1}return r?fe.createElement(fe.Fragment,null,n):fe.createElement(d6,{createStore:f6},n)};HN.displayName="ReactFlowWrapper";var Q8=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){ft(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}Lx(o8),Lx(a8);var eB={input:jN,default:tv,output:IN},tB={default:Qm,straight:kN,step:NN,smoothstep:a0,simplebezier:EN},nB=[15,15],rB=[0,0],VN=N.forwardRef(function(t,e){var n=t.nodes,r=t.edges,s=t.defaultNodes,i=t.defaultEdges,l=t.className,c=t.nodeTypes,d=c===void 0?eB:c,f=t.edgeTypes,h=f===void 0?tB:f,g=t.onNodeClick,m=t.onEdgeClick,v=t.onInit,w=t.onMove,x=t.onMoveStart,_=t.onMoveEnd,C=t.onConnect,T=t.onConnectStart,O=t.onConnectStop,k=t.onConnectEnd,P=t.onClickConnectStart,U=t.onClickConnectStop,B=t.onClickConnectEnd,z=t.onNodeMouseEnter,Q=t.onNodeMouseMove,oe=t.onNodeMouseLeave,L=t.onNodeContextMenu,X=t.onNodeDoubleClick,D=t.onNodeDragStart,M=t.onNodeDrag,W=t.onNodeDragStop,j=t.onNodesDelete,H=t.onEdgesDelete,R=t.onSelectionChange,F=t.onSelectionDragStart,q=t.onSelectionDrag,$=t.onSelectionDragStop,K=t.onSelectionContextMenu,ee=t.connectionMode,se=ee===void 0?Rl.Strict:ee,ce=t.connectionLineType,me=ce===void 0?ri.Bezier:ce,J=t.connectionLineStyle,ae=t.connectionLineComponent,ge=t.connectionLineContainerStyle,le=t.deleteKeyCode,xe=le===void 0?"Backspace":le,Ee=t.selectionKeyCode,ze=Ee===void 0?"Shift":Ee,Ue=t.multiSelectionKeyCode,tt=Ue===void 0?"Meta":Ue,At=t.zoomActivationKeyCode,Ct=At===void 0?"Meta":At,fn=t.snapToGrid,Mt=fn===void 0?!1:fn,Bt=t.snapGrid,Vt=Bt===void 0?nB:Bt,zn=t.onlyRenderVisibleElements,lr=zn===void 0?!1:zn,Qt=t.selectNodesOnDrag,On=Qt===void 0?!0:Qt,_r=t.nodesDraggable,Wt=t.nodesConnectable,Pt=t.elementsSelectable,Kt=t.minZoom,wt=Kt===void 0?.5:Kt,rn=t.maxZoom,hn=rn===void 0?2:rn,wn=t.defaultZoom,Xn=wn===void 0?1:wn,bn=t.defaultPosition,Un=bn===void 0?rB:bn,xn=t.translateExtent,zt=xn===void 0?Zm:xn,Ut=t.preventScrolling,Gt=Ut===void 0?!0:Ut,ut=t.nodeExtent,sn=t.defaultMarkerColor,Er=sn===void 0?"#b1b1b7":sn,te=t.zoomOnScroll,he=te===void 0?!0:te,_e=t.zoomOnPinch,ye=_e===void 0?!0:_e,Ne=t.panOnScroll,Oe=Ne===void 0?!1:Ne,Fe=t.panOnScrollSpeed,Je=Fe===void 0?.5:Fe,gt=t.panOnScrollMode,ot=gt===void 0?Sl.Free:gt,mt=t.zoomOnDoubleClick,Tn=mt===void 0?!0:mt,Nt=t.panOnDrag,Hs=Nt===void 0?!0:Nt,yi=t.onPaneClick,wi=t.onPaneScroll,bi=t.onPaneContextMenu,cr=t.children,Xt=t.onEdgeUpdate,xo=t.onEdgeContextMenu,xi=t.onEdgeDoubleClick,So=t.onEdgeMouseEnter,_o=t.onEdgeMouseMove,Eo=t.onEdgeMouseLeave,on=t.onEdgeUpdateStart,Si=t.onEdgeUpdateEnd,Co=t.edgeUpdaterRadius,bt=Co===void 0?10:Co,_i=t.onNodesChange,Vs=t.onEdgesChange,Cr=t.noDragClassName,qr=Cr===void 0?"nodrag":Cr,Hr=t.noWheelClassName,Fn=Hr===void 0?"nowheel":Hr,ur=t.noPanClassName,An=ur===void 0?"nopan":ur,No=t.fitView,Sn=No===void 0?!1:No,Ei=t.fitViewOptions,ko=t.connectOnClick,ws=ko===void 0?!0:ko,Nr=t.attributionPosition,Yn=t.proOptions,kr=t.defaultEdgeOptions,Or=t.elevateEdgesOnSelect,Ci=Or===void 0?!1:Or,bs=bh(t,Q8),Ws=jx(d,J8),Oo=jx(h,u8);return fe.createElement("div",Mx(Mx({},bs),{},{ref:e,className:Gn(["react-flow",l])}),fe.createElement(HN,null,fe.createElement(Z8,{onInit:v,onMove:w,onMoveStart:x,onMoveEnd:_,onNodeClick:g,onEdgeClick:m,onNodeMouseEnter:z,onNodeMouseMove:Q,onNodeMouseLeave:oe,onNodeContextMenu:L,onNodeDoubleClick:X,nodeTypes:Ws,edgeTypes:Oo,connectionLineType:me,connectionLineStyle:J,connectionLineComponent:ae,connectionLineContainerStyle:ge,selectionKeyCode:ze,deleteKeyCode:xe,multiSelectionKeyCode:tt,zoomActivationKeyCode:Ct,onlyRenderVisibleElements:lr,selectNodesOnDrag:On,translateExtent:zt,minZoom:wt,maxZoom:hn,defaultZoom:Xn,defaultPosition:Un,preventScrolling:Gt,zoomOnScroll:he,zoomOnPinch:ye,zoomOnDoubleClick:Tn,panOnScroll:Oe,panOnScrollSpeed:Je,panOnScrollMode:ot,panOnDrag:Hs,onPaneClick:yi,onPaneScroll:wi,onPaneContextMenu:bi,onSelectionContextMenu:K,onEdgeUpdate:Xt,onEdgeContextMenu:xo,onEdgeDoubleClick:xi,onEdgeMouseEnter:So,onEdgeMouseMove:_o,onEdgeMouseLeave:Eo,onEdgeUpdateStart:on,onEdgeUpdateEnd:Si,edgeUpdaterRadius:bt,defaultMarkerColor:Er,noDragClassName:qr,noWheelClassName:Fn,noPanClassName:An,elevateEdgesOnSelect:Ci,id:bs==null?void 0:bs.id}),fe.createElement(r8,{nodes:n,edges:r,defaultNodes:s,defaultEdges:i,onConnect:C,onConnectStart:T,onConnectStop:O,onConnectEnd:k,onClickConnectStart:P,onClickConnectStop:U,onClickConnectEnd:B,nodesDraggable:_r,nodesConnectable:Wt,elementsSelectable:Pt,minZoom:wt,maxZoom:hn,nodeExtent:ut,onNodesChange:_i,onEdgesChange:Vs,snapToGrid:Mt,snapGrid:Vt,connectionMode:se,translateExtent:zt,connectOnClick:ws,defaultEdgeOptions:kr,fitView:Sn,fitViewOptions:Ei,onNodesDelete:j,onEdgesDelete:H,onNodeDragStart:D,onNodeDrag:M,onNodeDragStop:W,onSelectionDrag:q,onSelectionDragStart:F,onSelectionDragStop:$}),R&&fe.createElement(t8,{onSelectionChange:R}),cr,fe.createElement(z6,{proOptions:Yn,position:Nr})))});VN.displayName="ReactFlow";var Sh="Dialog",[WN,ZH]=Hl(Sh),[sB,gs]=WN(Sh),KN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,c=N.useRef(null),d=N.useRef(null),[f,h]=Zc({prop:r,defaultProp:s??!1,onChange:i,caller:Sh});return b.jsx(sB,{scope:e,triggerRef:c,contentRef:d,contentId:ai(),titleId:ai(),descriptionId:ai(),open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(g=>!g),[h]),modal:l,children:n})};KN.displayName=Sh;var GN="DialogTrigger",oB=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(GN,n),i=Ht(e,s.triggerRef);return b.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d0(s.open),...r,ref:i,onClick:ct(t.onClick,s.onOpenToggle)})});oB.displayName=GN;var c0="DialogPortal",[iB,XN]=WN(c0,{forceMount:void 0}),YN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=gs(c0,e);return b.jsx(iB,{scope:e,forceMount:n,children:N.Children.map(r,l=>b.jsx(Eu,{present:n||i.open,children:b.jsx(Yv,{asChild:!0,container:s,children:l})}))})};YN.displayName=c0;var Wf="DialogOverlay",ZN=N.forwardRef((t,e)=>{const n=XN(Wf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gs(Wf,t.__scopeDialog);return i.modal?b.jsx(Eu,{present:r||i.open,children:b.jsx(lB,{...s,ref:e})}):null});ZN.displayName=Wf;var aB=kl("DialogOverlay.RemoveScroll"),lB=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(Wf,n);return b.jsx(Zv,{as:aB,allowPinchZoom:!0,shards:[s.contentRef],children:b.jsx(ht.div,{"data-state":d0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),la="DialogContent",JN=N.forwardRef((t,e)=>{const n=XN(la,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gs(la,t.__scopeDialog);return b.jsx(Eu,{present:r||i.open,children:i.modal?b.jsx(cB,{...s,ref:e}):b.jsx(uB,{...s,ref:e})})});JN.displayName=la;var cB=N.forwardRef((t,e)=>{const n=gs(la,t.__scopeDialog),r=N.useRef(null),s=Ht(e,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return KE(i)},[]),b.jsx(QN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ct(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:ct(t.onFocusOutside,i=>i.preventDefault())})}),uB=N.forwardRef((t,e)=>{const n=gs(la,t.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return b.jsx(QN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),QN=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,c=gs(la,n),d=N.useRef(null),f=Ht(e,d);return SE(),b.jsxs(b.Fragment,{children:[b.jsx(Uv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:b.jsx(zv,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":d0(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(fB,{titleId:c.titleId}),b.jsx(pB,{contentRef:d,descriptionId:c.descriptionId})]})]})}),u0="DialogTitle",ek=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(u0,n);return b.jsx(ht.h2,{id:s.titleId,...r,ref:e})});ek.displayName=u0;var tk="DialogDescription",dB=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(tk,n);return b.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});dB.displayName=tk;var nk="DialogClose",rk=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gs(nk,n);return b.jsx(ht.button,{type:"button",...r,ref:e,onClick:ct(t.onClick,()=>s.onOpenChange(!1))})});rk.displayName=nk;function d0(t){return t?"open":"closed"}var sk="DialogTitleWarning",[JH,ok]=_P(sk,{contentName:la,titleName:u0,docsSlug:"dialog"}),fB=({titleId:t})=>{const e=ok(sk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},hB="DialogDescriptionWarning",pB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ok(hB).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},gB=KN,mB=YN,vB=ZN,yB=JN,wB=ek,bB=rk;function ik({...t}){return b.jsx(gB,{"data-slot":"dialog",...t})}function xB({...t}){return b.jsx(mB,{"data-slot":"dialog-portal",...t})}function SB({className:t,...e}){return b.jsx(vB,{"data-slot":"dialog-overlay",className:It("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function ak({className:t,children:e,...n}){return b.jsxs(xB,{"data-slot":"dialog-portal",children:[b.jsx(SB,{}),b.jsxs(yB,{"data-slot":"dialog-content",className:It("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,b.jsxs(bB,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[b.jsx(eE,{}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function lk({className:t,...e}){return b.jsx("div",{"data-slot":"dialog-header",className:It("flex flex-col gap-2 text-center sm:text-left",t),...e})}function ck({className:t,...e}){return b.jsx(wB,{"data-slot":"dialog-title",className:It("text-lg leading-none font-semibold",t),...e})}var uk=typeof global=="object"&&global&&global.Object===Object&&global,_B=typeof self=="object"&&self&&self.Object===Object&&self,qs=uk||_B||Function("return this")(),fi=qs.Symbol,dk=Object.prototype,EB=dk.hasOwnProperty,CB=dk.toString,Ac=fi?fi.toStringTag:void 0;function NB(t){var e=EB.call(t,Ac),n=t[Ac];try{t[Ac]=void 0;var r=!0}catch{}var s=CB.call(t);return r&&(e?t[Ac]=n:delete t[Ac]),s}var kB=Object.prototype,OB=kB.toString;function TB(t){return OB.call(t)}var AB="[object Null]",PB="[object Undefined]",Dx=fi?fi.toStringTag:void 0;function Xl(t){return t==null?t===void 0?PB:AB:Dx&&Dx in Object(t)?NB(t):TB(t)}function mo(t){return t!=null&&typeof t=="object"}var ca=Array.isArray;function mi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function fk(t){return t}var RB="[object AsyncFunction]",jB="[object Function]",LB="[object GeneratorFunction]",IB="[object Proxy]";function f0(t){if(!mi(t))return!1;var e=Xl(t);return e==jB||e==LB||e==RB||e==IB}var Kg=qs["__core-js_shared__"],$x=(function(){var t=/[^.]+$/.exec(Kg&&Kg.keys&&Kg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function MB(t){return!!$x&&$x in t}var DB=Function.prototype,$B=DB.toString;function ha(t){if(t!=null){try{return $B.call(t)}catch{}try{return t+""}catch{}}return""}var BB=/[\\^$.*+?()[\]{}|]/g,zB=/^\[object .+?Constructor\]$/,UB=Function.prototype,FB=Object.prototype,qB=UB.toString,HB=FB.hasOwnProperty,VB=RegExp("^"+qB.call(HB).replace(BB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WB(t){if(!mi(t)||MB(t))return!1;var e=f0(t)?VB:zB;return e.test(ha(t))}function KB(t,e){return t==null?void 0:t[e]}function pa(t,e){var n=KB(t,e);return WB(n)?n:void 0}var rv=pa(qs,"WeakMap"),Bx=Object.create,GB=(function(){function t(){}return function(e){if(!mi(e))return{};if(Bx)return Bx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function XB(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function YB(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var ZB=800,JB=16,QB=Date.now;function ez(t){var e=0,n=0;return function(){var r=QB(),s=JB-(r-n);if(n=r,s>0){if(++e>=ZB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function tz(t){return function(){return t}}var Kf=(function(){try{var t=pa(Object,"defineProperty");return t({},"",{}),t}catch{}})(),nz=Kf?function(t,e){return Kf(t,"toString",{configurable:!0,enumerable:!1,value:tz(e),writable:!0})}:fk,rz=ez(nz);function sz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var oz=9007199254740991,iz=/^(?:0|[1-9]\d*)$/;function hk(t,e){var n=typeof t;return e=e??oz,!!e&&(n=="number"||n!="symbol"&&iz.test(t))&&t>-1&&t%1==0&&t<e}function h0(t,e,n){e=="__proto__"&&Kf?Kf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pu(t,e){return t===e||t!==t&&e!==e}var az=Object.prototype,lz=az.hasOwnProperty;function pk(t,e,n){var r=t[e];(!(lz.call(t,e)&&Pu(r,n))||n===void 0&&!(e in t))&&h0(t,e,n)}function cz(t,e,n,r){var s=!n;n||(n={});for(var i=-1,l=e.length;++i<l;){var c=e[i],d=void 0;d===void 0&&(d=t[c]),s?h0(n,c,d):pk(n,c,d)}return n}var zx=Math.max;function uz(t,e,n){return e=zx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=zx(r.length-e,0),l=Array(i);++s<i;)l[s]=r[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=r[s];return c[e]=n(l),XB(t,this,c)}}function dz(t,e){return rz(uz(t,e,fk),t+"")}var fz=9007199254740991;function gk(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fz}function _h(t){return t!=null&&gk(t.length)&&!f0(t)}function hz(t,e,n){if(!mi(n))return!1;var r=typeof e;return(r=="number"?_h(n)&&hk(e,n.length):r=="string"&&e in n)?Pu(n[e],t):!1}function pz(t){return dz(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,l&&hz(n[0],n[1],l)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var c=n[r];c&&t(e,c,r,i)}return e})}var gz=Object.prototype;function p0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||gz;return t===n}function mz(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vz="[object Arguments]";function Ux(t){return mo(t)&&Xl(t)==vz}var mk=Object.prototype,yz=mk.hasOwnProperty,wz=mk.propertyIsEnumerable,sv=Ux((function(){return arguments})())?Ux:function(t){return mo(t)&&yz.call(t,"callee")&&!wz.call(t,"callee")};function bz(){return!1}var vk=typeof yr=="object"&&yr&&!yr.nodeType&&yr,Fx=vk&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,xz=Fx&&Fx.exports===vk,qx=xz?qs.Buffer:void 0,Sz=qx?qx.isBuffer:void 0,uu=Sz||bz,_z="[object Arguments]",Ez="[object Array]",Cz="[object Boolean]",Nz="[object Date]",kz="[object Error]",Oz="[object Function]",Tz="[object Map]",Az="[object Number]",Pz="[object Object]",Rz="[object RegExp]",jz="[object Set]",Lz="[object String]",Iz="[object WeakMap]",Mz="[object ArrayBuffer]",Dz="[object DataView]",$z="[object Float32Array]",Bz="[object Float64Array]",zz="[object Int8Array]",Uz="[object Int16Array]",Fz="[object Int32Array]",qz="[object Uint8Array]",Hz="[object Uint8ClampedArray]",Vz="[object Uint16Array]",Wz="[object Uint32Array]",Tt={};Tt[$z]=Tt[Bz]=Tt[zz]=Tt[Uz]=Tt[Fz]=Tt[qz]=Tt[Hz]=Tt[Vz]=Tt[Wz]=!0;Tt[_z]=Tt[Ez]=Tt[Mz]=Tt[Cz]=Tt[Dz]=Tt[Nz]=Tt[kz]=Tt[Oz]=Tt[Tz]=Tt[Az]=Tt[Pz]=Tt[Rz]=Tt[jz]=Tt[Lz]=Tt[Iz]=!1;function Kz(t){return mo(t)&&gk(t.length)&&!!Tt[Xl(t)]}function g0(t){return function(e){return t(e)}}var yk=typeof yr=="object"&&yr&&!yr.nodeType&&yr,Hc=yk&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,Gz=Hc&&Hc.exports===yk,Gg=Gz&&uk.process,Il=(function(){try{var t=Hc&&Hc.require&&Hc.require("util").types;return t||Gg&&Gg.binding&&Gg.binding("util")}catch{}})(),Hx=Il&&Il.isTypedArray,m0=Hx?g0(Hx):Kz,Xz=Object.prototype,Yz=Xz.hasOwnProperty;function wk(t,e){var n=ca(t),r=!n&&sv(t),s=!n&&!r&&uu(t),i=!n&&!r&&!s&&m0(t),l=n||r||s||i,c=l?mz(t.length,String):[],d=c.length;for(var f in t)(e||Yz.call(t,f))&&!(l&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||hk(f,d)))&&c.push(f);return c}function bk(t,e){return function(n){return t(e(n))}}var Zz=bk(Object.keys,Object),Jz=Object.prototype,Qz=Jz.hasOwnProperty;function eU(t){if(!p0(t))return Zz(t);var e=[];for(var n in Object(t))Qz.call(t,n)&&n!="constructor"&&e.push(n);return e}function tU(t){return _h(t)?wk(t):eU(t)}function nU(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var rU=Object.prototype,sU=rU.hasOwnProperty;function oU(t){if(!mi(t))return nU(t);var e=p0(t),n=[];for(var r in t)r=="constructor"&&(e||!sU.call(t,r))||n.push(r);return n}function xk(t){return _h(t)?wk(t,!0):oU(t)}var du=pa(Object,"create");function iU(){this.__data__=du?du(null):{},this.size=0}function aU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lU="__lodash_hash_undefined__",cU=Object.prototype,uU=cU.hasOwnProperty;function dU(t){var e=this.__data__;if(du){var n=e[t];return n===lU?void 0:n}return uU.call(e,t)?e[t]:void 0}var fU=Object.prototype,hU=fU.hasOwnProperty;function pU(t){var e=this.__data__;return du?e[t]!==void 0:hU.call(e,t)}var gU="__lodash_hash_undefined__";function mU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=du&&e===void 0?gU:e,this}function ua(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ua.prototype.clear=iU;ua.prototype.delete=aU;ua.prototype.get=dU;ua.prototype.has=pU;ua.prototype.set=mU;function vU(){this.__data__=[],this.size=0}function Eh(t,e){for(var n=t.length;n--;)if(Pu(t[n][0],e))return n;return-1}var yU=Array.prototype,wU=yU.splice;function bU(t){var e=this.__data__,n=Eh(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wU.call(e,n,1),--this.size,!0}function xU(t){var e=this.__data__,n=Eh(e,t);return n<0?void 0:e[n][1]}function SU(t){return Eh(this.__data__,t)>-1}function _U(t,e){var n=this.__data__,r=Eh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wo.prototype.clear=vU;wo.prototype.delete=bU;wo.prototype.get=xU;wo.prototype.has=SU;wo.prototype.set=_U;var fu=pa(qs,"Map");function EU(){this.size=0,this.__data__={hash:new ua,map:new(fu||wo),string:new ua}}function CU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ch(t,e){var n=t.__data__;return CU(e)?n[typeof e=="string"?"string":"hash"]:n.map}function NU(t){var e=Ch(this,t).delete(t);return this.size-=e?1:0,e}function kU(t){return Ch(this,t).get(t)}function OU(t){return Ch(this,t).has(t)}function TU(t,e){var n=Ch(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ga.prototype.clear=EU;ga.prototype.delete=NU;ga.prototype.get=kU;ga.prototype.has=OU;ga.prototype.set=TU;function AU(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var Sk=bk(Object.getPrototypeOf,Object),PU="[object Object]",RU=Function.prototype,jU=Object.prototype,_k=RU.toString,LU=jU.hasOwnProperty,IU=_k.call(Object);function MU(t){if(!mo(t)||Xl(t)!=PU)return!1;var e=Sk(t);if(e===null)return!0;var n=LU.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_k.call(n)==IU}function DU(){this.__data__=new wo,this.size=0}function $U(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function BU(t){return this.__data__.get(t)}function zU(t){return this.__data__.has(t)}var UU=200;function FU(t,e){var n=this.__data__;if(n instanceof wo){var r=n.__data__;if(!fu||r.length<UU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ga(r)}return n.set(t,e),this.size=n.size,this}function Ms(t){var e=this.__data__=new wo(t);this.size=e.size}Ms.prototype.clear=DU;Ms.prototype.delete=$U;Ms.prototype.get=BU;Ms.prototype.has=zU;Ms.prototype.set=FU;var Ek=typeof yr=="object"&&yr&&!yr.nodeType&&yr,Vx=Ek&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,qU=Vx&&Vx.exports===Ek,Wx=qU?qs.Buffer:void 0,Kx=Wx?Wx.allocUnsafe:void 0;function Ck(t,e){if(e)return t.slice();var n=t.length,r=Kx?Kx(n):new t.constructor(n);return t.copy(r),r}function HU(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var l=t[n];e(l,n,t)&&(i[s++]=l)}return i}function VU(){return[]}var WU=Object.prototype,KU=WU.propertyIsEnumerable,Gx=Object.getOwnPropertySymbols,GU=Gx?function(t){return t==null?[]:(t=Object(t),HU(Gx(t),function(e){return KU.call(t,e)}))}:VU;function XU(t,e,n){var r=e(t);return ca(t)?r:AU(r,n(t))}function ov(t){return XU(t,tU,GU)}var iv=pa(qs,"DataView"),av=pa(qs,"Promise"),lv=pa(qs,"Set"),Xx="[object Map]",YU="[object Object]",Yx="[object Promise]",Zx="[object Set]",Jx="[object WeakMap]",Qx="[object DataView]",ZU=ha(iv),JU=ha(fu),QU=ha(av),eF=ha(lv),tF=ha(rv),os=Xl;(iv&&os(new iv(new ArrayBuffer(1)))!=Qx||fu&&os(new fu)!=Xx||av&&os(av.resolve())!=Yx||lv&&os(new lv)!=Zx||rv&&os(new rv)!=Jx)&&(os=function(t){var e=Xl(t),n=e==YU?t.constructor:void 0,r=n?ha(n):"";if(r)switch(r){case ZU:return Qx;case JU:return Xx;case QU:return Yx;case eF:return Zx;case tF:return Jx}return e});var nF=Object.prototype,rF=nF.hasOwnProperty;function sF(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&rF.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Gf=qs.Uint8Array;function v0(t){var e=new t.constructor(t.byteLength);return new Gf(e).set(new Gf(t)),e}function oF(t,e){var n=v0(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var iF=/\w*$/;function aF(t){var e=new t.constructor(t.source,iF.exec(t));return e.lastIndex=t.lastIndex,e}var eS=fi?fi.prototype:void 0,tS=eS?eS.valueOf:void 0;function lF(t){return tS?Object(tS.call(t)):{}}function Nk(t,e){var n=e?v0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var cF="[object Boolean]",uF="[object Date]",dF="[object Map]",fF="[object Number]",hF="[object RegExp]",pF="[object Set]",gF="[object String]",mF="[object Symbol]",vF="[object ArrayBuffer]",yF="[object DataView]",wF="[object Float32Array]",bF="[object Float64Array]",xF="[object Int8Array]",SF="[object Int16Array]",_F="[object Int32Array]",EF="[object Uint8Array]",CF="[object Uint8ClampedArray]",NF="[object Uint16Array]",kF="[object Uint32Array]";function OF(t,e,n){var r=t.constructor;switch(e){case vF:return v0(t);case cF:case uF:return new r(+t);case yF:return oF(t);case wF:case bF:case xF:case SF:case _F:case EF:case CF:case NF:case kF:return Nk(t,n);case dF:return new r;case fF:case gF:return new r(t);case hF:return aF(t);case pF:return new r;case mF:return lF(t)}}function kk(t){return typeof t.constructor=="function"&&!p0(t)?GB(Sk(t)):{}}var TF="[object Map]";function AF(t){return mo(t)&&os(t)==TF}var nS=Il&&Il.isMap,PF=nS?g0(nS):AF,RF="[object Set]";function jF(t){return mo(t)&&os(t)==RF}var rS=Il&&Il.isSet,LF=rS?g0(rS):jF,IF=1,Ok="[object Arguments]",MF="[object Array]",DF="[object Boolean]",$F="[object Date]",BF="[object Error]",Tk="[object Function]",zF="[object GeneratorFunction]",UF="[object Map]",FF="[object Number]",Ak="[object Object]",qF="[object RegExp]",HF="[object Set]",VF="[object String]",WF="[object Symbol]",KF="[object WeakMap]",GF="[object ArrayBuffer]",XF="[object DataView]",YF="[object Float32Array]",ZF="[object Float64Array]",JF="[object Int8Array]",QF="[object Int16Array]",e7="[object Int32Array]",t7="[object Uint8Array]",n7="[object Uint8ClampedArray]",r7="[object Uint16Array]",s7="[object Uint32Array]",Et={};Et[Ok]=Et[MF]=Et[GF]=Et[XF]=Et[DF]=Et[$F]=Et[YF]=Et[ZF]=Et[JF]=Et[QF]=Et[e7]=Et[UF]=Et[FF]=Et[Ak]=Et[qF]=Et[HF]=Et[VF]=Et[WF]=Et[t7]=Et[n7]=Et[r7]=Et[s7]=!0;Et[BF]=Et[Tk]=Et[KF]=!1;function xf(t,e,n,r,s,i){var l,c=e&IF;if(l!==void 0)return l;if(!mi(t))return t;var d=ca(t);if(d)l=sF(t);else{var f=os(t),h=f==Tk||f==zF;if(uu(t))return Ck(t,c);if(f==Ak||f==Ok||h&&!s)l=h?{}:kk(t);else{if(!Et[f])return s?t:{};l=OF(t,f,c)}}i||(i=new Ms);var g=i.get(t);if(g)return g;i.set(t,l),LF(t)?t.forEach(function(w){l.add(xf(w,e,n,w,t,i))}):PF(t)&&t.forEach(function(w,x){l.set(x,xf(w,e,n,x,t,i))});var m=ov,v=d?void 0:m(t);return sz(v||t,function(w,x){v&&(x=w,w=t[x]),pk(l,x,xf(w,e,n,x,t,i))}),l}var o7=1,i7=4;function El(t){return xf(t,o7|i7)}var a7="__lodash_hash_undefined__";function l7(t){return this.__data__.set(t,a7),this}function c7(t){return this.__data__.has(t)}function Xf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ga;++e<n;)this.add(t[e])}Xf.prototype.add=Xf.prototype.push=l7;Xf.prototype.has=c7;function u7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function d7(t,e){return t.has(e)}var f7=1,h7=2;function Pk(t,e,n,r,s,i){var l=n&f7,c=t.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var g=-1,m=!0,v=n&h7?new Xf:void 0;for(i.set(t,e),i.set(e,t);++g<c;){var w=t[g],x=e[g];if(r)var _=l?r(x,w,g,e,t,i):r(w,x,g,t,e,i);if(_!==void 0){if(_)continue;m=!1;break}if(v){if(!u7(e,function(C,T){if(!d7(v,T)&&(w===C||s(w,C,n,r,i)))return v.push(T)})){m=!1;break}}else if(!(w===x||s(w,x,n,r,i))){m=!1;break}}return i.delete(t),i.delete(e),m}function p7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function g7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var m7=1,v7=2,y7="[object Boolean]",w7="[object Date]",b7="[object Error]",x7="[object Map]",S7="[object Number]",_7="[object RegExp]",E7="[object Set]",C7="[object String]",N7="[object Symbol]",k7="[object ArrayBuffer]",O7="[object DataView]",sS=fi?fi.prototype:void 0,Xg=sS?sS.valueOf:void 0;function T7(t,e,n,r,s,i,l){switch(n){case O7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k7:return!(t.byteLength!=e.byteLength||!i(new Gf(t),new Gf(e)));case y7:case w7:case S7:return Pu(+t,+e);case b7:return t.name==e.name&&t.message==e.message;case _7:case C7:return t==e+"";case x7:var c=p7;case E7:var d=r&m7;if(c||(c=g7),t.size!=e.size&&!d)return!1;var f=l.get(t);if(f)return f==e;r|=v7,l.set(t,e);var h=Pk(c(t),c(e),r,s,i,l);return l.delete(t),h;case N7:if(Xg)return Xg.call(t)==Xg.call(e)}return!1}var A7=1,P7=Object.prototype,R7=P7.hasOwnProperty;function j7(t,e,n,r,s,i){var l=n&A7,c=ov(t),d=c.length,f=ov(e),h=f.length;if(d!=h&&!l)return!1;for(var g=d;g--;){var m=c[g];if(!(l?m in e:R7.call(e,m)))return!1}var v=i.get(t),w=i.get(e);if(v&&w)return v==e&&w==t;var x=!0;i.set(t,e),i.set(e,t);for(var _=l;++g<d;){m=c[g];var C=t[m],T=e[m];if(r)var O=l?r(T,C,m,e,t,i):r(C,T,m,t,e,i);if(!(O===void 0?C===T||s(C,T,n,r,i):O)){x=!1;break}_||(_=m=="constructor")}if(x&&!_){var k=t.constructor,P=e.constructor;k!=P&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof P=="function"&&P instanceof P)&&(x=!1)}return i.delete(t),i.delete(e),x}var L7=1,oS="[object Arguments]",iS="[object Array]",ef="[object Object]",I7=Object.prototype,aS=I7.hasOwnProperty;function M7(t,e,n,r,s,i){var l=ca(t),c=ca(e),d=l?iS:os(t),f=c?iS:os(e);d=d==oS?ef:d,f=f==oS?ef:f;var h=d==ef,g=f==ef,m=d==f;if(m&&uu(t)){if(!uu(e))return!1;l=!0,h=!1}if(m&&!h)return i||(i=new Ms),l||m0(t)?Pk(t,e,n,r,s,i):T7(t,e,d,n,r,s,i);if(!(n&L7)){var v=h&&aS.call(t,"__wrapped__"),w=g&&aS.call(e,"__wrapped__");if(v||w){var x=v?t.value():t,_=w?e.value():e;return i||(i=new Ms),s(x,_,n,r,i)}}return m?(i||(i=new Ms),j7(t,e,n,r,s,i)):!1}function Rk(t,e,n,r,s){return t===e?!0:t==null||e==null||!mo(t)&&!mo(e)?t!==t&&e!==e:M7(t,e,n,r,Rk,s)}function D7(t){return function(e,n,r){for(var s=-1,i=Object(e),l=r(e),c=l.length;c--;){var d=l[++s];if(n(i[d],d,i)===!1)break}return e}}var $7=D7();function cv(t,e,n){(n!==void 0&&!Pu(t[e],n)||n===void 0&&!(e in t))&&h0(t,e,n)}function B7(t){return mo(t)&&_h(t)}function uv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function z7(t){return cz(t,xk(t))}function U7(t,e,n,r,s,i,l){var c=uv(t,n),d=uv(e,n),f=l.get(d);if(f){cv(t,n,f);return}var h=i?i(c,d,n+"",t,e,l):void 0,g=h===void 0;if(g){var m=ca(d),v=!m&&uu(d),w=!m&&!v&&m0(d);h=d,m||v||w?ca(c)?h=c:B7(c)?h=YB(c):v?(g=!1,h=Ck(d,!0)):w?(g=!1,h=Nk(d,!0)):h=[]:MU(d)||sv(d)?(h=c,sv(c)?h=z7(c):(!mi(c)||f0(c))&&(h=kk(d))):g=!1}g&&(l.set(d,h),s(h,d,r,i,l),l.delete(d)),cv(t,n,h)}function jk(t,e,n,r,s){t!==e&&$7(e,function(i,l){if(s||(s=new Ms),mi(i))U7(t,e,l,n,jk,r,s);else{var c=r?r(uv(t,l),i,l+"",t,e,s):void 0;c===void 0&&(c=i),cv(t,l,c)}},xk)}function y0(t,e){return Rk(t,e)}var li=pz(function(t,e,n){jk(t,e,n)}),Be=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Be||{});class Bs{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const s=Be.TYPE&Be.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Be.LEVEL|s:Be.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class Cl extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Lk=class dv{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const s=this.query(n);if(s==null)throw new Cl(`Unable to create ${n} blot`);const i=s,l=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),c=new i(e,l,r);return dv.blots.set(c.domNode,c),c}find(e,n=!1){return dv.find(e,n)}query(e,n=Be.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Be.LEVEL&Be.BLOCK?r=this.types.block:e&Be.LEVEL&Be.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&Be.LEVEL&r.scope&&n&Be.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,s="attrName"in n;if(!r&&!s)throw new Cl("Invalid definition");if(r&&n.blotName==="abstract")throw new Cl("Cannot register abstract class");const i=r?n.blotName:s?n.attrName:void 0;return this.types[i]=n,s?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(l=>l.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(l=>{(this.tags[l]==null||n.className==null)&&(this.tags[l]=n)}))),n})}};Lk.blots=new WeakMap;let Ml=Lk;function lS(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class F7 extends Bs{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){lS(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(lS(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const ms=F7;function Yg(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class q7 extends Bs{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Yg(this.keyName)]=n,!0):!1}remove(e){e.style[Yg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Yg(this.keyName)];return this.canAdd(e,n)?n:""}}const vi=q7;class H7{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Ml.find(this.domNode);if(e==null)return;const n=Bs.keys(this.domNode),r=ms.keys(this.domNode),s=vi.keys(this.domNode);n.concat(r).concat(s).forEach(i=>{const l=e.scroll.query(i,Be.ATTRIBUTE);l instanceof Bs&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Nh=H7,Ik=class{constructor(e,n){this.scroll=e,this.domNode=n,Ml.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Cl("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Ml.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,s){const i=this.isolate(e,n);if(this.scroll.query(r,Be.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,Be.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);i.wrap(l),l.format(r,s)}}insertAt(e,n,r){const s=r==null?this.scroll.create("text",n):this.scroll.create(n,r),i=this.split(e);this.parent.insertBefore(s,i||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Cl(`Cannot wrap ${e}`);return r.appendChild(this),r}};Ik.blotName="abstract";let Mk=Ik;const Dk=class extends Mk{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Dk.scope=Be.INLINE_BLOT;let V7=Dk;const Dn=V7;class W7{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),s=0;for(;r;){if(r===e)return s;s+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(e<i||n&&e===i&&(s.next==null||s.next.length()!==0))return[s,e];e-=i,s=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[s,i]=this.find(e);let l=e-i;const c=this.iterator(s);let d=c();for(;d&&l<e+n;){const f=d.length();e>l?r(d,e-l,Math.min(n,l+f-e)):r(d,0,Math.min(f,e+n-l)),l+=f,d=c()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let s=r();for(;s;)n=e(n,s),s=r();return n}}function cS(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(Be.INLINE);return Array.from(t.childNodes).forEach(s=>{r.domNode.appendChild(s)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const $k=class Jo extends Mk{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Jo.uiClass&&this.uiNode.classList.add(Jo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new W7,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=cS(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Cl)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,s,i)=>{r.deleteAt(s,i)})}descendant(e,n=0){const[r,s]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,s]:r instanceof Jo?r.descendant(e,s):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(n,r,(l,c,d)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&s.push(l),l instanceof Jo&&(s=s.concat(l.descendants(e,c,i))),i-=d}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===Be.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof Jo?n.unwrap():n.remove())})}formatAt(e,n,r,s){this.children.forEachAt(e,n,(i,l,c)=>{i.formatAt(l,c,r,s)})}insertAt(e,n,r){const[s,i]=this.children.find(e);if(s)s.insertAt(i,n,r);else{const l=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(l)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,s]=this.children.find(e,n),i=[[this,e]];return r instanceof Jo?i.concat(r.path(s,n)):(r!=null&&i.push([r,s]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof Jo&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(s,i,l)=>{const c=s.split(i,n);c!=null&&r.appendChild(c)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],s=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(i);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,l)=>i===l?0:i.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let l=null;i.nextSibling!=null&&(l=this.scroll.find(i.nextSibling));const c=cS(i,this.scroll);(c.next!==l||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,l||void 0))}),this.enforceAllowedChildren()}};$k.uiClass="";let K7=$k;const cs=K7;function G7(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const cl=class ul extends cs{static create(e){return super.create(e)}static formats(e,n){const r=n.query(ul.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Nh(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof ul||(r=r.wrap(ul.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Be.INLINE);if(r==null)return;r instanceof Bs?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.formats()[r]!=null||this.scroll.query(r,Be.ATTRIBUTE)?this.isolate(e,n).format(r,s):super.formatAt(e,n,r,s)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof ul&&r.prev===this&&G7(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof ul&&this.attributes.move(r),r}};cl.allowedChildren=[cl,Dn],cl.blotName="inline",cl.scope=Be.INLINE_BLOT,cl.tagName="SPAN";let X7=cl;const w0=X7,dl=class fv extends cs{static create(e){return super.create(e)}static formats(e,n){const r=n.query(fv.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Nh(this.domNode)}format(e,n){const r=this.scroll.query(e,Be.BLOCK);r!=null&&(r instanceof Bs?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(fv.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.scroll.query(r,Be.BLOCK)!=null?this.format(r,s):super.formatAt(e,n,r,s)}insertAt(e,n,r){if(r==null||this.scroll.query(n,Be.INLINE)!=null)super.insertAt(e,n,r);else{const s=this.split(e);if(s!=null){const i=this.scroll.create(n,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};dl.blotName="block",dl.scope=Be.BLOCK_BLOT,dl.tagName="P",dl.allowedChildren=[w0,dl,Dn];let Y7=dl;const hu=Y7,hv=class extends cs{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};hv.blotName="container",hv.scope=Be.BLOCK_BLOT;let Z7=hv;const kh=Z7;class J7 extends Dn{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,s){e===0&&n===this.length()?this.format(r,s):super.formatAt(e,n,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Sr=J7,Q7={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},e9=100,fl=class extends cs{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Q7),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=Be.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,s){this.update(),super.formatAt(e,n,r,s)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)e.push(s.pop());const i=(d,f=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(r.has(d.domNode)||r.set(d.domNode,[]),f&&i(d.parent))},l=d=>{r.has(d.domNode)&&(d instanceof cs&&d.children.forEach(l),r.delete(d.domNode),d.optimize(n))};let c=e;for(let d=0;c.length>0;d+=1){if(d>=e9)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(f=>{const h=this.find(f.target,!0);h!=null&&(h.domNode===f.target&&(f.type==="childList"?(i(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(g=>{const m=this.find(g,!1);i(m,!1),m instanceof cs&&m.children.forEach(v=>{i(v,!1)})})):f.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(l),c=Array.from(this.observer.takeRecords()),s=c.slice();s.length>0;)e.push(s.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};fl.blotName="scroll",fl.defaultChild=hu,fl.allowedChildren=[hu,kh],fl.scope=Be.BLOCK_BLOT,fl.tagName="DIV";let t9=fl;const b0=t9,pv=class Bk extends Dn{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Bk&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};pv.blotName="text",pv.scope=Be.INLINE_BLOT;let n9=pv;const Yf=n9,r9=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Bs,AttributorStore:Nh,BlockBlot:hu,ClassAttributor:ms,ContainerBlot:kh,EmbedBlot:Sr,InlineBlot:w0,LeafBlot:Dn,ParentBlot:cs,Registry:Ml,Scope:Be,ScrollBlot:b0,StyleAttributor:vi,TextBlot:Yf},Symbol.toStringTag,{value:"Module"}));var tf={exports:{}},Zg,uS;function s9(){if(uS)return Zg;uS=1;var t=-1,e=1,n=0;function r(L,X,D,M,W){if(L===X)return L?[[n,L]]:[];if(D!=null){var j=Q(L,X,D);if(j)return j}var H=c(L,X),R=L.substring(0,H);L=L.substring(H),X=X.substring(H),H=f(L,X);var F=L.substring(L.length-H);L=L.substring(0,L.length-H),X=X.substring(0,X.length-H);var q=s(L,X);return R&&q.unshift([n,R]),F&&q.push([n,F]),T(q,W),M&&g(q),q}function s(L,X){var D;if(!L)return[[e,X]];if(!X)return[[t,L]];var M=L.length>X.length?L:X,W=L.length>X.length?X:L,j=M.indexOf(W);if(j!==-1)return D=[[e,M.substring(0,j)],[n,W],[e,M.substring(j+W.length)]],L.length>X.length&&(D[0][0]=D[2][0]=t),D;if(W.length===1)return[[t,L],[e,X]];var H=h(L,X);if(H){var R=H[0],F=H[1],q=H[2],$=H[3],K=H[4],ee=r(R,q),se=r(F,$);return ee.concat([[n,K]],se)}return i(L,X)}function i(L,X){for(var D=L.length,M=X.length,W=Math.ceil((D+M)/2),j=W,H=2*W,R=new Array(H),F=new Array(H),q=0;q<H;q++)R[q]=-1,F[q]=-1;R[j+1]=0,F[j+1]=0;for(var $=D-M,K=$%2!==0,ee=0,se=0,ce=0,me=0,J=0;J<W;J++){for(var ae=-J+ee;ae<=J-se;ae+=2){var ge=j+ae,le;ae===-J||ae!==J&&R[ge-1]<R[ge+1]?le=R[ge+1]:le=R[ge-1]+1;for(var xe=le-ae;le<D&&xe<M&&L.charAt(le)===X.charAt(xe);)le++,xe++;if(R[ge]=le,le>D)se+=2;else if(xe>M)ee+=2;else if(K){var Ee=j+$-ae;if(Ee>=0&&Ee<H&&F[Ee]!==-1){var ze=D-F[Ee];if(le>=ze)return l(L,X,le,xe)}}}for(var Ue=-J+ce;Ue<=J-me;Ue+=2){var Ee=j+Ue,ze;Ue===-J||Ue!==J&&F[Ee-1]<F[Ee+1]?ze=F[Ee+1]:ze=F[Ee-1]+1;for(var tt=ze-Ue;ze<D&&tt<M&&L.charAt(D-ze-1)===X.charAt(M-tt-1);)ze++,tt++;if(F[Ee]=ze,ze>D)me+=2;else if(tt>M)ce+=2;else if(!K){var ge=j+$-Ue;if(ge>=0&&ge<H&&R[ge]!==-1){var le=R[ge],xe=j+le-ge;if(ze=D-ze,le>=ze)return l(L,X,le,xe)}}}}return[[t,L],[e,X]]}function l(L,X,D,M){var W=L.substring(0,D),j=X.substring(0,M),H=L.substring(D),R=X.substring(M),F=r(W,j),q=r(H,R);return F.concat(q)}function c(L,X){if(!L||!X||L.charAt(0)!==X.charAt(0))return 0;for(var D=0,M=Math.min(L.length,X.length),W=M,j=0;D<W;)L.substring(j,W)==X.substring(j,W)?(D=W,j=D):M=W,W=Math.floor((M-D)/2+D);return O(L.charCodeAt(W-1))&&W--,W}function d(L,X){var D=L.length,M=X.length;if(D==0||M==0)return 0;D>M?L=L.substring(D-M):D<M&&(X=X.substring(0,D));var W=Math.min(D,M);if(L==X)return W;for(var j=0,H=1;;){var R=L.substring(W-H),F=X.indexOf(R);if(F==-1)return j;H+=F,(F==0||L.substring(W-H)==X.substring(0,H))&&(j=H,H++)}}function f(L,X){if(!L||!X||L.slice(-1)!==X.slice(-1))return 0;for(var D=0,M=Math.min(L.length,X.length),W=M,j=0;D<W;)L.substring(L.length-W,L.length-j)==X.substring(X.length-W,X.length-j)?(D=W,j=D):M=W,W=Math.floor((M-D)/2+D);return k(L.charCodeAt(L.length-W))&&W--,W}function h(L,X){var D=L.length>X.length?L:X,M=L.length>X.length?X:L;if(D.length<4||M.length*2<D.length)return null;function W(se,ce,me){for(var J=se.substring(me,me+Math.floor(se.length/4)),ae=-1,ge="",le,xe,Ee,ze;(ae=ce.indexOf(J,ae+1))!==-1;){var Ue=c(se.substring(me),ce.substring(ae)),tt=f(se.substring(0,me),ce.substring(0,ae));ge.length<tt+Ue&&(ge=ce.substring(ae-tt,ae)+ce.substring(ae,ae+Ue),le=se.substring(0,me-tt),xe=se.substring(me+Ue),Ee=ce.substring(0,ae-tt),ze=ce.substring(ae+Ue))}return ge.length*2>=se.length?[le,xe,Ee,ze,ge]:null}var j=W(D,M,Math.ceil(D.length/4)),H=W(D,M,Math.ceil(D.length/2)),R;if(!j&&!H)return null;H?j?R=j[4].length>H[4].length?j:H:R=H:R=j;var F,q,$,K;L.length>X.length?(F=R[0],q=R[1],$=R[2],K=R[3]):($=R[0],K=R[1],F=R[2],q=R[3]);var ee=R[4];return[F,q,$,K,ee]}function g(L){for(var X=!1,D=[],M=0,W=null,j=0,H=0,R=0,F=0,q=0;j<L.length;)L[j][0]==n?(D[M++]=j,H=F,R=q,F=0,q=0,W=L[j][1]):(L[j][0]==e?F+=L[j][1].length:q+=L[j][1].length,W&&W.length<=Math.max(H,R)&&W.length<=Math.max(F,q)&&(L.splice(D[M-1],0,[t,W]),L[D[M-1]+1][0]=e,M--,M--,j=M>0?D[M-1]:-1,H=0,R=0,F=0,q=0,W=null,X=!0)),j++;for(X&&T(L),C(L),j=1;j<L.length;){if(L[j-1][0]==t&&L[j][0]==e){var $=L[j-1][1],K=L[j][1],ee=d($,K),se=d(K,$);ee>=se?(ee>=$.length/2||ee>=K.length/2)&&(L.splice(j,0,[n,K.substring(0,ee)]),L[j-1][1]=$.substring(0,$.length-ee),L[j+1][1]=K.substring(ee),j++):(se>=$.length/2||se>=K.length/2)&&(L.splice(j,0,[n,$.substring(0,se)]),L[j-1][0]=e,L[j-1][1]=K.substring(0,K.length-se),L[j+1][0]=t,L[j+1][1]=$.substring(se),j++),j++}j++}}var m=/[^a-zA-Z0-9]/,v=/\s/,w=/[\r\n]/,x=/\n\r?\n$/,_=/^\r?\n\r?\n/;function C(L){function X(se,ce){if(!se||!ce)return 6;var me=se.charAt(se.length-1),J=ce.charAt(0),ae=me.match(m),ge=J.match(m),le=ae&&me.match(v),xe=ge&&J.match(v),Ee=le&&me.match(w),ze=xe&&J.match(w),Ue=Ee&&se.match(x),tt=ze&&ce.match(_);return Ue||tt?5:Ee||ze?4:ae&&!le&&xe?3:le||xe?2:ae||ge?1:0}for(var D=1;D<L.length-1;){if(L[D-1][0]==n&&L[D+1][0]==n){var M=L[D-1][1],W=L[D][1],j=L[D+1][1],H=f(M,W);if(H){var R=W.substring(W.length-H);M=M.substring(0,M.length-H),W=R+W.substring(0,W.length-H),j=R+j}for(var F=M,q=W,$=j,K=X(M,W)+X(W,j);W.charAt(0)===j.charAt(0);){M+=W.charAt(0),W=W.substring(1)+j.charAt(0),j=j.substring(1);var ee=X(M,W)+X(W,j);ee>=K&&(K=ee,F=M,q=W,$=j)}L[D-1][1]!=F&&(F?L[D-1][1]=F:(L.splice(D-1,1),D--),L[D][1]=q,$?L[D+1][1]=$:(L.splice(D+1,1),D--))}D++}}function T(L,X){L.push([n,""]);for(var D=0,M=0,W=0,j="",H="",R;D<L.length;){if(D<L.length-1&&!L[D][1]){L.splice(D,1);continue}switch(L[D][0]){case e:W++,H+=L[D][1],D++;break;case t:M++,j+=L[D][1],D++;break;case n:var F=D-W-M-1;if(X){if(F>=0&&U(L[F][1])){var q=L[F][1].slice(-1);if(L[F][1]=L[F][1].slice(0,-1),j=q+j,H=q+H,!L[F][1]){L.splice(F,1),D--;var $=F-1;L[$]&&L[$][0]===e&&(W++,H=L[$][1]+H,$--),L[$]&&L[$][0]===t&&(M++,j=L[$][1]+j,$--),F=$}}if(P(L[D][1])){var q=L[D][1].charAt(0);L[D][1]=L[D][1].slice(1),j+=q,H+=q}}if(D<L.length-1&&!L[D][1]){L.splice(D,1);break}if(j.length>0||H.length>0){j.length>0&&H.length>0&&(R=c(H,j),R!==0&&(F>=0?L[F][1]+=H.substring(0,R):(L.splice(0,0,[n,H.substring(0,R)]),D++),H=H.substring(R),j=j.substring(R)),R=f(H,j),R!==0&&(L[D][1]=H.substring(H.length-R)+L[D][1],H=H.substring(0,H.length-R),j=j.substring(0,j.length-R)));var K=W+M;j.length===0&&H.length===0?(L.splice(D-K,K),D=D-K):j.length===0?(L.splice(D-K,K,[e,H]),D=D-K+1):H.length===0?(L.splice(D-K,K,[t,j]),D=D-K+1):(L.splice(D-K,K,[t,j],[e,H]),D=D-K+2)}D!==0&&L[D-1][0]===n?(L[D-1][1]+=L[D][1],L.splice(D,1)):D++,W=0,M=0,j="",H="";break}}L[L.length-1][1]===""&&L.pop();var ee=!1;for(D=1;D<L.length-1;)L[D-1][0]===n&&L[D+1][0]===n&&(L[D][1].substring(L[D][1].length-L[D-1][1].length)===L[D-1][1]?(L[D][1]=L[D-1][1]+L[D][1].substring(0,L[D][1].length-L[D-1][1].length),L[D+1][1]=L[D-1][1]+L[D+1][1],L.splice(D-1,1),ee=!0):L[D][1].substring(0,L[D+1][1].length)==L[D+1][1]&&(L[D-1][1]+=L[D+1][1],L[D][1]=L[D][1].substring(L[D+1][1].length)+L[D+1][1],L.splice(D+1,1),ee=!0)),D++;ee&&T(L,X)}function O(L){return L>=55296&&L<=56319}function k(L){return L>=56320&&L<=57343}function P(L){return k(L.charCodeAt(0))}function U(L){return O(L.charCodeAt(L.length-1))}function B(L){for(var X=[],D=0;D<L.length;D++)L[D][1].length>0&&X.push(L[D]);return X}function z(L,X,D,M){return U(L)||P(M)?null:B([[n,L],[t,X],[e,D],[n,M]])}function Q(L,X,D){var M=typeof D=="number"?{index:D,length:0}:D.oldRange,W=typeof D=="number"?null:D.newRange,j=L.length,H=X.length;if(M.length===0&&(W===null||W.length===0)){var R=M.index,F=L.slice(0,R),q=L.slice(R),$=W?W.index:null;e:{var K=R+H-j;if($!==null&&$!==K||K<0||K>H)break e;var ee=X.slice(0,K),se=X.slice(K);if(se!==q)break e;var ce=Math.min(R,K),me=F.slice(0,ce),J=ee.slice(0,ce);if(me!==J)break e;var ae=F.slice(ce),ge=ee.slice(ce);return z(me,ae,ge,q)}e:{if($!==null&&$!==R)break e;var le=R,ee=X.slice(0,le),se=X.slice(le);if(ee!==F)break e;var xe=Math.min(j-le,H-le),Ee=q.slice(q.length-xe),ze=se.slice(se.length-xe);if(Ee!==ze)break e;var ae=q.slice(0,q.length-xe),ge=se.slice(0,se.length-xe);return z(F,ae,ge,Ee)}}if(M.length>0&&W&&W.length===0)e:{var me=L.slice(0,M.index),Ee=L.slice(M.index+M.length),ce=me.length,xe=Ee.length;if(H<ce+xe)break e;var J=X.slice(0,ce),ze=X.slice(H-xe);if(me!==J||Ee!==ze)break e;var ae=L.slice(ce,j-xe),ge=X.slice(ce,H-xe);return z(me,ae,ge,Ee)}return null}function oe(L,X,D,M){return r(L,X,D,M,!0)}return oe.INSERT=e,oe.DELETE=t,oe.EQUAL=n,Zg=oe,Zg}var Dc={exports:{}};Dc.exports;var dS;function zk(){return dS||(dS=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",g="[object GeneratorFunction]",m="[object Map]",v="[object Number]",w="[object Object]",x="[object Promise]",_="[object RegExp]",C="[object Set]",T="[object String]",O="[object Symbol]",k="[object WeakMap]",P="[object ArrayBuffer]",U="[object DataView]",B="[object Float32Array]",z="[object Float64Array]",Q="[object Int8Array]",oe="[object Int16Array]",L="[object Int32Array]",X="[object Uint8Array]",D="[object Uint8ClampedArray]",M="[object Uint16Array]",W="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,H=/\w*$/,R=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,q={};q[i]=q[l]=q[P]=q[U]=q[c]=q[d]=q[B]=q[z]=q[Q]=q[oe]=q[L]=q[m]=q[v]=q[w]=q[_]=q[C]=q[T]=q[O]=q[X]=q[D]=q[M]=q[W]=!0,q[f]=q[h]=q[k]=!1;var $=typeof si=="object"&&si&&si.Object===Object&&si,K=typeof self=="object"&&self&&self.Object===Object&&self,ee=$||K||Function("return this")(),se=e&&!e.nodeType&&e,ce=se&&!0&&t&&!t.nodeType&&t,me=ce&&ce.exports===se;function J(E,I){return E.set(I[0],I[1]),E}function ae(E,I){return E.add(I),E}function ge(E,I){for(var G=-1,de=E?E.length:0;++G<de&&I(E[G],G,E)!==!1;);return E}function le(E,I){for(var G=-1,de=I.length,Ve=E.length;++G<de;)E[Ve+G]=I[G];return E}function xe(E,I,G,de){for(var Ve=-1,Me=E?E.length:0;++Ve<Me;)G=I(G,E[Ve],Ve,E);return G}function Ee(E,I){for(var G=-1,de=Array(E);++G<E;)de[G]=I(G);return de}function ze(E,I){return E==null?void 0:E[I]}function Ue(E){var I=!1;if(E!=null&&typeof E.toString!="function")try{I=!!(E+"")}catch{}return I}function tt(E){var I=-1,G=Array(E.size);return E.forEach(function(de,Ve){G[++I]=[Ve,de]}),G}function At(E,I){return function(G){return E(I(G))}}function Ct(E){var I=-1,G=Array(E.size);return E.forEach(function(de){G[++I]=de}),G}var fn=Array.prototype,Mt=Function.prototype,Bt=Object.prototype,Vt=ee["__core-js_shared__"],zn=(function(){var E=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""})(),lr=Mt.toString,Qt=Bt.hasOwnProperty,On=Bt.toString,_r=RegExp("^"+lr.call(Qt).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=me?ee.Buffer:void 0,Pt=ee.Symbol,Kt=ee.Uint8Array,wt=At(Object.getPrototypeOf,Object),rn=Object.create,hn=Bt.propertyIsEnumerable,wn=fn.splice,Xn=Object.getOwnPropertySymbols,bn=Wt?Wt.isBuffer:void 0,Un=At(Object.keys,Object),xn=Xe(ee,"DataView"),zt=Xe(ee,"Map"),Ut=Xe(ee,"Promise"),Gt=Xe(ee,"Set"),ut=Xe(ee,"WeakMap"),sn=Xe(Object,"create"),Er=Rt(xn),te=Rt(zt),he=Rt(Ut),_e=Rt(Gt),ye=Rt(ut),Ne=Pt?Pt.prototype:void 0,Oe=Ne?Ne.valueOf:void 0;function Fe(E){var I=-1,G=E?E.length:0;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function Je(){this.__data__=sn?sn(null):{}}function gt(E){return this.has(E)&&delete this.__data__[E]}function ot(E){var I=this.__data__;if(sn){var G=I[E];return G===r?void 0:G}return Qt.call(I,E)?I[E]:void 0}function mt(E){var I=this.__data__;return sn?I[E]!==void 0:Qt.call(I,E)}function Tn(E,I){var G=this.__data__;return G[E]=sn&&I===void 0?r:I,this}Fe.prototype.clear=Je,Fe.prototype.delete=gt,Fe.prototype.get=ot,Fe.prototype.has=mt,Fe.prototype.set=Tn;function Nt(E){var I=-1,G=E?E.length:0;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function Hs(){this.__data__=[]}function yi(E){var I=this.__data__,G=Hr(I,E);if(G<0)return!1;var de=I.length-1;return G==de?I.pop():wn.call(I,G,1),!0}function wi(E){var I=this.__data__,G=Hr(I,E);return G<0?void 0:I[G][1]}function bi(E){return Hr(this.__data__,E)>-1}function cr(E,I){var G=this.__data__,de=Hr(G,E);return de<0?G.push([E,I]):G[de][1]=I,this}Nt.prototype.clear=Hs,Nt.prototype.delete=yi,Nt.prototype.get=wi,Nt.prototype.has=bi,Nt.prototype.set=cr;function Xt(E){var I=-1,G=E?E.length:0;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function xo(){this.__data__={hash:new Fe,map:new(zt||Nt),string:new Fe}}function xi(E){return Vr(this,E).delete(E)}function So(E){return Vr(this,E).get(E)}function _o(E){return Vr(this,E).has(E)}function Eo(E,I){return Vr(this,E).set(E,I),this}Xt.prototype.clear=xo,Xt.prototype.delete=xi,Xt.prototype.get=So,Xt.prototype.has=_o,Xt.prototype.set=Eo;function on(E){this.__data__=new Nt(E)}function Si(){this.__data__=new Nt}function Co(E){return this.__data__.delete(E)}function bt(E){return this.__data__.get(E)}function _i(E){return this.__data__.has(E)}function Vs(E,I){var G=this.__data__;if(G instanceof Nt){var de=G.__data__;if(!zt||de.length<n-1)return de.push([E,I]),this;G=this.__data__=new Xt(de)}return G.set(E,I),this}on.prototype.clear=Si,on.prototype.delete=Co,on.prototype.get=bt,on.prototype.has=_i,on.prototype.set=Vs;function Cr(E,I){var G=Zn(E)||Pr(E)?Ee(E.length,String):[],de=G.length,Ve=!!de;for(var Me in E)Qt.call(E,Me)&&!(Ve&&(Me=="length"||ba(Me,de)))&&G.push(Me);return G}function qr(E,I,G){var de=E[I];(!(Qt.call(E,I)&&xs(de,G))||G===void 0&&!(I in E))&&(E[I]=G)}function Hr(E,I){for(var G=E.length;G--;)if(xs(E[G][0],I))return G;return-1}function Fn(E,I){return E&&Ks(I,Pi(I),E)}function ur(E,I,G,de,Ve,Me,nt){var rt;if(de&&(rt=Me?de(E,Ve,Me,nt):de(E)),rt!==void 0)return rt;if(!qn(E))return E;var yt=Zn(E);if(yt){if(rt=Ni(E),!I)return Oo(E,rt)}else{var it=Ar(E),Yt=it==h||it==g;if(Ss(E))return ws(E,I);if(it==w||it==i||Yt&&!Me){if(Ue(E))return Me?E:{};if(rt=dr(Yt?{}:E),!I)return Gs(E,Fn(rt,E))}else{if(!q[it])return Me?E:{};rt=wa(E,it,ur,I)}}nt||(nt=new on);var _n=nt.get(E);if(_n)return _n;if(nt.set(E,rt),!yt)var jt=G?Yl(E):Pi(E);return ge(jt||E,function(Zt,en){jt&&(en=Zt,Zt=E[en]),qr(rt,en,ur(Zt,I,G,de,en,E,nt))}),rt}function An(E){return qn(E)?rn(E):{}}function No(E,I,G){var de=I(E);return Zn(E)?de:le(de,G(E))}function Sn(E){return On.call(E)}function Ei(E){if(!qn(E)||To(E))return!1;var I=Oi(E)||Ue(E)?_r:R;return I.test(Rt(E))}function ko(E){if(!fr(E))return Un(E);var I=[];for(var G in Object(E))Qt.call(E,G)&&G!="constructor"&&I.push(G);return I}function ws(E,I){if(I)return E.slice();var G=new E.constructor(E.length);return E.copy(G),G}function Nr(E){var I=new E.constructor(E.byteLength);return new Kt(I).set(new Kt(E)),I}function Yn(E,I){var G=I?Nr(E.buffer):E.buffer;return new E.constructor(G,E.byteOffset,E.byteLength)}function kr(E,I,G){var de=I?G(tt(E),!0):tt(E);return xe(de,J,new E.constructor)}function Or(E){var I=new E.constructor(E.source,H.exec(E));return I.lastIndex=E.lastIndex,I}function Ci(E,I,G){var de=I?G(Ct(E),!0):Ct(E);return xe(de,ae,new E.constructor)}function bs(E){return Oe?Object(Oe.call(E)):{}}function Ws(E,I){var G=I?Nr(E.buffer):E.buffer;return new E.constructor(G,E.byteOffset,E.length)}function Oo(E,I){var G=-1,de=E.length;for(I||(I=Array(de));++G<de;)I[G]=E[G];return I}function Ks(E,I,G,de){G||(G={});for(var Ve=-1,Me=I.length;++Ve<Me;){var nt=I[Ve],rt=void 0;qr(G,nt,rt===void 0?E[nt]:rt)}return G}function Gs(E,I){return Ks(E,Tr(E),I)}function Yl(E){return No(E,Pi,Tr)}function Vr(E,I){var G=E.__data__;return ki(I)?G[typeof I=="string"?"string":"hash"]:G.map}function Xe(E,I){var G=ze(E,I);return Ei(G)?G:void 0}var Tr=Xn?At(Xn,Object):Xs,Ar=Sn;(xn&&Ar(new xn(new ArrayBuffer(1)))!=U||zt&&Ar(new zt)!=m||Ut&&Ar(Ut.resolve())!=x||Gt&&Ar(new Gt)!=C||ut&&Ar(new ut)!=k)&&(Ar=function(E){var I=On.call(E),G=I==w?E.constructor:void 0,de=G?Rt(G):void 0;if(de)switch(de){case Er:return U;case te:return m;case he:return x;case _e:return C;case ye:return k}return I});function Ni(E){var I=E.length,G=E.constructor(I);return I&&typeof E[0]=="string"&&Qt.call(E,"index")&&(G.index=E.index,G.input=E.input),G}function dr(E){return typeof E.constructor=="function"&&!fr(E)?An(wt(E)):{}}function wa(E,I,G,de){var Ve=E.constructor;switch(I){case P:return Nr(E);case c:case d:return new Ve(+E);case U:return Yn(E,de);case B:case z:case Q:case oe:case L:case X:case D:case M:case W:return Ws(E,de);case m:return kr(E,de,G);case v:case T:return new Ve(E);case _:return Or(E);case C:return Ci(E,de,G);case O:return bs(E)}}function ba(E,I){return I=I??s,!!I&&(typeof E=="number"||F.test(E))&&E>-1&&E%1==0&&E<I}function ki(E){var I=typeof E;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?E!=="__proto__":E===null}function To(E){return!!zn&&zn in E}function fr(E){var I=E&&E.constructor,G=typeof I=="function"&&I.prototype||Bt;return E===G}function Rt(E){if(E!=null){try{return lr.call(E)}catch{}try{return E+""}catch{}}return""}function hr(E){return ur(E,!0,!0)}function xs(E,I){return E===I||E!==E&&I!==I}function Pr(E){return xa(E)&&Qt.call(E,"callee")&&(!hn.call(E,"callee")||On.call(E)==i)}var Zn=Array.isArray;function Ao(E){return E!=null&&Ti(E.length)&&!Oi(E)}function xa(E){return Ai(E)&&Ao(E)}var Ss=bn||Ys;function Oi(E){var I=qn(E)?On.call(E):"";return I==h||I==g}function Ti(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=s}function qn(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}function Ai(E){return!!E&&typeof E=="object"}function Pi(E){return Ao(E)?Cr(E):ko(E)}function Xs(){return[]}function Ys(){return!1}t.exports=hr})(Dc,Dc.exports)),Dc.exports}var $c={exports:{}};$c.exports;var fS;function Uk(){return fS||(fS=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,i=2,l=9007199254740991,c="[object Arguments]",d="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",m="[object Error]",v="[object Function]",w="[object GeneratorFunction]",x="[object Map]",_="[object Number]",C="[object Null]",T="[object Object]",O="[object Promise]",k="[object Proxy]",P="[object RegExp]",U="[object Set]",B="[object String]",z="[object Symbol]",Q="[object Undefined]",oe="[object WeakMap]",L="[object ArrayBuffer]",X="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",W="[object Int8Array]",j="[object Int16Array]",H="[object Int32Array]",R="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",$="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ce={};ce[D]=ce[M]=ce[W]=ce[j]=ce[H]=ce[R]=ce[F]=ce[q]=ce[$]=!0,ce[c]=ce[d]=ce[L]=ce[h]=ce[X]=ce[g]=ce[m]=ce[v]=ce[x]=ce[_]=ce[T]=ce[P]=ce[U]=ce[B]=ce[oe]=!1;var me=typeof si=="object"&&si&&si.Object===Object&&si,J=typeof self=="object"&&self&&self.Object===Object&&self,ae=me||J||Function("return this")(),ge=e&&!e.nodeType&&e,le=ge&&!0&&t&&!t.nodeType&&t,xe=le&&le.exports===ge,Ee=xe&&me.process,ze=(function(){try{return Ee&&Ee.binding&&Ee.binding("util")}catch{}})(),Ue=ze&&ze.isTypedArray;function tt(E,I){for(var G=-1,de=E==null?0:E.length,Ve=0,Me=[];++G<de;){var nt=E[G];I(nt,G,E)&&(Me[Ve++]=nt)}return Me}function At(E,I){for(var G=-1,de=I.length,Ve=E.length;++G<de;)E[Ve+G]=I[G];return E}function Ct(E,I){for(var G=-1,de=E==null?0:E.length;++G<de;)if(I(E[G],G,E))return!0;return!1}function fn(E,I){for(var G=-1,de=Array(E);++G<E;)de[G]=I(G);return de}function Mt(E){return function(I){return E(I)}}function Bt(E,I){return E.has(I)}function Vt(E,I){return E==null?void 0:E[I]}function zn(E){var I=-1,G=Array(E.size);return E.forEach(function(de,Ve){G[++I]=[Ve,de]}),G}function lr(E,I){return function(G){return E(I(G))}}function Qt(E){var I=-1,G=Array(E.size);return E.forEach(function(de){G[++I]=de}),G}var On=Array.prototype,_r=Function.prototype,Wt=Object.prototype,Pt=ae["__core-js_shared__"],Kt=_r.toString,wt=Wt.hasOwnProperty,rn=(function(){var E=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""})(),hn=Wt.toString,wn=RegExp("^"+Kt.call(wt).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xn=xe?ae.Buffer:void 0,bn=ae.Symbol,Un=ae.Uint8Array,xn=Wt.propertyIsEnumerable,zt=On.splice,Ut=bn?bn.toStringTag:void 0,Gt=Object.getOwnPropertySymbols,ut=Xn?Xn.isBuffer:void 0,sn=lr(Object.keys,Object),Er=Tr(ae,"DataView"),te=Tr(ae,"Map"),he=Tr(ae,"Promise"),_e=Tr(ae,"Set"),ye=Tr(ae,"WeakMap"),Ne=Tr(Object,"create"),Oe=Rt(Er),Fe=Rt(te),Je=Rt(he),gt=Rt(_e),ot=Rt(ye),mt=bn?bn.prototype:void 0,Tn=mt?mt.valueOf:void 0;function Nt(E){var I=-1,G=E==null?0:E.length;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function Hs(){this.__data__=Ne?Ne(null):{},this.size=0}function yi(E){var I=this.has(E)&&delete this.__data__[E];return this.size-=I?1:0,I}function wi(E){var I=this.__data__;if(Ne){var G=I[E];return G===r?void 0:G}return wt.call(I,E)?I[E]:void 0}function bi(E){var I=this.__data__;return Ne?I[E]!==void 0:wt.call(I,E)}function cr(E,I){var G=this.__data__;return this.size+=this.has(E)?0:1,G[E]=Ne&&I===void 0?r:I,this}Nt.prototype.clear=Hs,Nt.prototype.delete=yi,Nt.prototype.get=wi,Nt.prototype.has=bi,Nt.prototype.set=cr;function Xt(E){var I=-1,G=E==null?0:E.length;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function xo(){this.__data__=[],this.size=0}function xi(E){var I=this.__data__,G=ws(I,E);if(G<0)return!1;var de=I.length-1;return G==de?I.pop():zt.call(I,G,1),--this.size,!0}function So(E){var I=this.__data__,G=ws(I,E);return G<0?void 0:I[G][1]}function _o(E){return ws(this.__data__,E)>-1}function Eo(E,I){var G=this.__data__,de=ws(G,E);return de<0?(++this.size,G.push([E,I])):G[de][1]=I,this}Xt.prototype.clear=xo,Xt.prototype.delete=xi,Xt.prototype.get=So,Xt.prototype.has=_o,Xt.prototype.set=Eo;function on(E){var I=-1,G=E==null?0:E.length;for(this.clear();++I<G;){var de=E[I];this.set(de[0],de[1])}}function Si(){this.size=0,this.__data__={hash:new Nt,map:new(te||Xt),string:new Nt}}function Co(E){var I=Xe(this,E).delete(E);return this.size-=I?1:0,I}function bt(E){return Xe(this,E).get(E)}function _i(E){return Xe(this,E).has(E)}function Vs(E,I){var G=Xe(this,E),de=G.size;return G.set(E,I),this.size+=G.size==de?0:1,this}on.prototype.clear=Si,on.prototype.delete=Co,on.prototype.get=bt,on.prototype.has=_i,on.prototype.set=Vs;function Cr(E){var I=-1,G=E==null?0:E.length;for(this.__data__=new on;++I<G;)this.add(E[I])}function qr(E){return this.__data__.set(E,r),this}function Hr(E){return this.__data__.has(E)}Cr.prototype.add=Cr.prototype.push=qr,Cr.prototype.has=Hr;function Fn(E){var I=this.__data__=new Xt(E);this.size=I.size}function ur(){this.__data__=new Xt,this.size=0}function An(E){var I=this.__data__,G=I.delete(E);return this.size=I.size,G}function No(E){return this.__data__.get(E)}function Sn(E){return this.__data__.has(E)}function Ei(E,I){var G=this.__data__;if(G instanceof Xt){var de=G.__data__;if(!te||de.length<n-1)return de.push([E,I]),this.size=++G.size,this;G=this.__data__=new on(de)}return G.set(E,I),this.size=G.size,this}Fn.prototype.clear=ur,Fn.prototype.delete=An,Fn.prototype.get=No,Fn.prototype.has=Sn,Fn.prototype.set=Ei;function ko(E,I){var G=Pr(E),de=!G&&xs(E),Ve=!G&&!de&&Ao(E),Me=!G&&!de&&!Ve&&Ai(E),nt=G||de||Ve||Me,rt=nt?fn(E.length,String):[],yt=rt.length;for(var it in E)wt.call(E,it)&&!(nt&&(it=="length"||Ve&&(it=="offset"||it=="parent")||Me&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||wa(it,yt)))&&rt.push(it);return rt}function ws(E,I){for(var G=E.length;G--;)if(hr(E[G][0],I))return G;return-1}function Nr(E,I,G){var de=I(E);return Pr(E)?de:At(de,G(E))}function Yn(E){return E==null?E===void 0?Q:C:Ut&&Ut in Object(E)?Ar(E):fr(E)}function kr(E){return qn(E)&&Yn(E)==c}function Or(E,I,G,de,Ve){return E===I?!0:E==null||I==null||!qn(E)&&!qn(I)?E!==E&&I!==I:Ci(E,I,G,de,Or,Ve)}function Ci(E,I,G,de,Ve,Me){var nt=Pr(E),rt=Pr(I),yt=nt?d:dr(E),it=rt?d:dr(I);yt=yt==c?T:yt,it=it==c?T:it;var Yt=yt==T,_n=it==T,jt=yt==it;if(jt&&Ao(E)){if(!Ao(I))return!1;nt=!0,Yt=!1}if(jt&&!Yt)return Me||(Me=new Fn),nt||Ai(E)?Ks(E,I,G,de,Ve,Me):Gs(E,I,yt,G,de,Ve,Me);if(!(G&s)){var Zt=Yt&&wt.call(E,"__wrapped__"),en=_n&&wt.call(I,"__wrapped__");if(Zt||en){var Ft=Zt?E.value():E,Pn=en?I.value():I;return Me||(Me=new Fn),Ve(Ft,Pn,G,de,Me)}}return jt?(Me||(Me=new Fn),Yl(E,I,G,de,Ve,Me)):!1}function bs(E){if(!Ti(E)||ki(E))return!1;var I=Ss(E)?wn:ee;return I.test(Rt(E))}function Ws(E){return qn(E)&&Oi(E.length)&&!!ce[Yn(E)]}function Oo(E){if(!To(E))return sn(E);var I=[];for(var G in Object(E))wt.call(E,G)&&G!="constructor"&&I.push(G);return I}function Ks(E,I,G,de,Ve,Me){var nt=G&s,rt=E.length,yt=I.length;if(rt!=yt&&!(nt&&yt>rt))return!1;var it=Me.get(E);if(it&&Me.get(I))return it==I;var Yt=-1,_n=!0,jt=G&i?new Cr:void 0;for(Me.set(E,I),Me.set(I,E);++Yt<rt;){var Zt=E[Yt],en=I[Yt];if(de)var Ft=nt?de(en,Zt,Yt,I,E,Me):de(Zt,en,Yt,E,I,Me);if(Ft!==void 0){if(Ft)continue;_n=!1;break}if(jt){if(!Ct(I,function(Pn,Wr){if(!Bt(jt,Wr)&&(Zt===Pn||Ve(Zt,Pn,G,de,Me)))return jt.push(Wr)})){_n=!1;break}}else if(!(Zt===en||Ve(Zt,en,G,de,Me))){_n=!1;break}}return Me.delete(E),Me.delete(I),_n}function Gs(E,I,G,de,Ve,Me,nt){switch(G){case X:if(E.byteLength!=I.byteLength||E.byteOffset!=I.byteOffset)return!1;E=E.buffer,I=I.buffer;case L:return!(E.byteLength!=I.byteLength||!Me(new Un(E),new Un(I)));case h:case g:case _:return hr(+E,+I);case m:return E.name==I.name&&E.message==I.message;case P:case B:return E==I+"";case x:var rt=zn;case U:var yt=de&s;if(rt||(rt=Qt),E.size!=I.size&&!yt)return!1;var it=nt.get(E);if(it)return it==I;de|=i,nt.set(E,I);var Yt=Ks(rt(E),rt(I),de,Ve,Me,nt);return nt.delete(E),Yt;case z:if(Tn)return Tn.call(E)==Tn.call(I)}return!1}function Yl(E,I,G,de,Ve,Me){var nt=G&s,rt=Vr(E),yt=rt.length,it=Vr(I),Yt=it.length;if(yt!=Yt&&!nt)return!1;for(var _n=yt;_n--;){var jt=rt[_n];if(!(nt?jt in I:wt.call(I,jt)))return!1}var Zt=Me.get(E);if(Zt&&Me.get(I))return Zt==I;var en=!0;Me.set(E,I),Me.set(I,E);for(var Ft=nt;++_n<yt;){jt=rt[_n];var Pn=E[jt],Wr=I[jt];if(de)var Po=nt?de(Wr,Pn,jt,I,E,Me):de(Pn,Wr,jt,E,I,Me);if(!(Po===void 0?Pn===Wr||Ve(Pn,Wr,G,de,Me):Po)){en=!1;break}Ft||(Ft=jt=="constructor")}if(en&&!Ft){var Sa=E.constructor,Ro=I.constructor;Sa!=Ro&&"constructor"in E&&"constructor"in I&&!(typeof Sa=="function"&&Sa instanceof Sa&&typeof Ro=="function"&&Ro instanceof Ro)&&(en=!1)}return Me.delete(E),Me.delete(I),en}function Vr(E){return Nr(E,Pi,Ni)}function Xe(E,I){var G=E.__data__;return ba(I)?G[typeof I=="string"?"string":"hash"]:G.map}function Tr(E,I){var G=Vt(E,I);return bs(G)?G:void 0}function Ar(E){var I=wt.call(E,Ut),G=E[Ut];try{E[Ut]=void 0;var de=!0}catch{}var Ve=hn.call(E);return de&&(I?E[Ut]=G:delete E[Ut]),Ve}var Ni=Gt?function(E){return E==null?[]:(E=Object(E),tt(Gt(E),function(I){return xn.call(E,I)}))}:Xs,dr=Yn;(Er&&dr(new Er(new ArrayBuffer(1)))!=X||te&&dr(new te)!=x||he&&dr(he.resolve())!=O||_e&&dr(new _e)!=U||ye&&dr(new ye)!=oe)&&(dr=function(E){var I=Yn(E),G=I==T?E.constructor:void 0,de=G?Rt(G):"";if(de)switch(de){case Oe:return X;case Fe:return x;case Je:return O;case gt:return U;case ot:return oe}return I});function wa(E,I){return I=I??l,!!I&&(typeof E=="number"||se.test(E))&&E>-1&&E%1==0&&E<I}function ba(E){var I=typeof E;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?E!=="__proto__":E===null}function ki(E){return!!rn&&rn in E}function To(E){var I=E&&E.constructor,G=typeof I=="function"&&I.prototype||Wt;return E===G}function fr(E){return hn.call(E)}function Rt(E){if(E!=null){try{return Kt.call(E)}catch{}try{return E+""}catch{}}return""}function hr(E,I){return E===I||E!==E&&I!==I}var xs=kr((function(){return arguments})())?kr:function(E){return qn(E)&&wt.call(E,"callee")&&!xn.call(E,"callee")},Pr=Array.isArray;function Zn(E){return E!=null&&Oi(E.length)&&!Ss(E)}var Ao=ut||Ys;function xa(E,I){return Or(E,I)}function Ss(E){if(!Ti(E))return!1;var I=Yn(E);return I==v||I==w||I==f||I==k}function Oi(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=l}function Ti(E){var I=typeof E;return E!=null&&(I=="object"||I=="function")}function qn(E){return E!=null&&typeof E=="object"}var Ai=Ue?Mt(Ue):Ws;function Pi(E){return Zn(E)?ko(E):Oo(E)}function Xs(){return[]}function Ys(){return!1}t.exports=xa})($c,$c.exports)),$c.exports}var nf={},hS;function o9(){if(hS)return nf;hS=1,Object.defineProperty(nf,"__esModule",{value:!0});const t=zk(),e=Uk();var n;return(function(r){function s(d={},f={},h=!1){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});let g=t(f);h||(g=Object.keys(g).reduce((m,v)=>(g[v]!=null&&(m[v]=g[v]),m),{}));for(const m in d)d[m]!==void 0&&f[m]===void 0&&(g[m]=d[m]);return Object.keys(g).length>0?g:void 0}r.compose=s;function i(d={},f={}){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});const h=Object.keys(d).concat(Object.keys(f)).reduce((g,m)=>(e(d[m],f[m])||(g[m]=f[m]===void 0?null:f[m]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=i;function l(d={},f={}){d=d||{};const h=Object.keys(f).reduce((g,m)=>(f[m]!==d[m]&&d[m]!==void 0&&(g[m]=f[m]),g),{});return Object.keys(d).reduce((g,m)=>(d[m]!==f[m]&&f[m]===void 0&&(g[m]=null),g),h)}r.invert=l;function c(d,f,h=!1){if(typeof d!="object")return f;if(typeof f!="object")return;if(!h)return f;const g=Object.keys(f).reduce((m,v)=>(d[v]===void 0&&(m[v]=f[v]),m),{});return Object.keys(g).length>0?g:void 0}r.transform=c})(n||(n={})),nf.default=n,nf}var rf={},pS;function Fk(){if(pS)return rf;pS=1,Object.defineProperty(rf,"__esModule",{value:!0});var t;return(function(e){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=n})(t||(t={})),rf.default=t,rf}var sf={},gS;function i9(){if(gS)return sf;gS=1,Object.defineProperty(sf,"__esModule",{value:!0});const t=Fk();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const s=this.ops[this.index];if(s){const i=this.offset,l=t.default.length(s);if(r>=l-i?(r=l-i,this.index+=1,this.offset=0):this.offset+=r,typeof s.delete=="number")return{delete:r};{const c={};return s.attributes&&(c.attributes=s.attributes),typeof s.retain=="number"?c.retain=r:typeof s.retain=="object"&&s.retain!==null?c.retain=s.retain:typeof s.insert=="string"?c.insert=s.insert.substr(i,r):c.insert=s.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,s=this.index,i=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=s,[i].concat(l)}}else return[]}}return sf.default=e,sf}var mS;function a9(){return mS||(mS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=s9(),r=zk(),s=Uk(),i=o9();e.AttributeMap=i.default;const l=Fk();e.Op=l.default;const c=i9();e.OpIterator=c.default;const d="\0",f=(g,m)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);const v=Object.keys(g)[0];if(!v||v!==Object.keys(m)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(m)[0]}`);return[v,g[v],m[v]]};class h{constructor(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]}static registerEmbed(m,v){this.handlers[m]=v}static unregisterEmbed(m){delete this.handlers[m]}static getHandler(m){const v=this.handlers[m];if(!v)throw new Error(`no handlers for embed type "${m}"`);return v}insert(m,v){const w={};return typeof m=="string"&&m.length===0?this:(w.insert=m,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(w.attributes=v),this.push(w))}delete(m){return m<=0?this:this.push({delete:m})}retain(m,v){if(typeof m=="number"&&m<=0)return this;const w={retain:m};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(w.attributes=v),this.push(w)}push(m){let v=this.ops.length,w=this.ops[v-1];if(m=r(m),typeof w=="object"){if(typeof m.delete=="number"&&typeof w.delete=="number")return this.ops[v-1]={delete:w.delete+m.delete},this;if(typeof w.delete=="number"&&m.insert!=null&&(v-=1,w=this.ops[v-1],typeof w!="object"))return this.ops.unshift(m),this;if(s(m.attributes,w.attributes)){if(typeof m.insert=="string"&&typeof w.insert=="string")return this.ops[v-1]={insert:w.insert+m.insert},typeof m.attributes=="object"&&(this.ops[v-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof w.retain=="number")return this.ops[v-1]={retain:w.retain+m.retain},typeof m.attributes=="object"&&(this.ops[v-1].attributes=m.attributes),this}}return v===this.ops.length?this.ops.push(m):this.ops.splice(v,0,m),this}chop(){const m=this.ops[this.ops.length-1];return m&&typeof m.retain=="number"&&!m.attributes&&this.ops.pop(),this}filter(m){return this.ops.filter(m)}forEach(m){this.ops.forEach(m)}map(m){return this.ops.map(m)}partition(m){const v=[],w=[];return this.forEach(x=>{(m(x)?v:w).push(x)}),[v,w]}reduce(m,v){return this.ops.reduce(m,v)}changeLength(){return this.reduce((m,v)=>v.insert?m+l.default.length(v):v.delete?m-v.delete:m,0)}length(){return this.reduce((m,v)=>m+l.default.length(v),0)}slice(m=0,v=1/0){const w=[],x=new c.default(this.ops);let _=0;for(;_<v&&x.hasNext();){let C;_<m?C=x.next(m-_):(C=x.next(v-_),w.push(C)),_+=l.default.length(C)}return new h(w)}compose(m){const v=new c.default(this.ops),w=new c.default(m.ops),x=[],_=w.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){let T=_.retain;for(;v.peekType()==="insert"&&v.peekLength()<=T;)T-=v.peekLength(),x.push(v.next());_.retain-T>0&&w.next(_.retain-T)}const C=new h(x);for(;v.hasNext()||w.hasNext();)if(w.peekType()==="insert")C.push(w.next());else if(v.peekType()==="delete")C.push(v.next());else{const T=Math.min(v.peekLength(),w.peekLength()),O=v.next(T),k=w.next(T);if(k.retain){const P={};if(typeof O.retain=="number")P.retain=typeof k.retain=="number"?T:k.retain;else if(typeof k.retain=="number")O.retain==null?P.insert=O.insert:P.retain=O.retain;else{const B=O.retain==null?"insert":"retain",[z,Q,oe]=f(O[B],k.retain),L=h.getHandler(z);P[B]={[z]:L.compose(Q,oe,B==="retain")}}const U=i.default.compose(O.attributes,k.attributes,typeof O.retain=="number");if(U&&(P.attributes=U),C.push(P),!w.hasNext()&&s(C.ops[C.ops.length-1],P)){const B=new h(v.rest());return C.concat(B).chop()}}else typeof k.delete=="number"&&(typeof O.retain=="number"||typeof O.retain=="object"&&O.retain!==null)&&C.push(k)}return C.chop()}concat(m){const v=new h(this.ops.slice());return m.ops.length>0&&(v.push(m.ops[0]),v.ops=v.ops.concat(m.ops.slice(1))),v}diff(m,v){if(this.ops===m.ops)return new h;const w=[this,m].map(O=>O.map(k=>{if(k.insert!=null)return typeof k.insert=="string"?k.insert:d;const P=O===m?"on":"with";throw new Error("diff() called "+P+" non-document")}).join("")),x=new h,_=n(w[0],w[1],v,!0),C=new c.default(this.ops),T=new c.default(m.ops);return _.forEach(O=>{let k=O[1].length;for(;k>0;){let P=0;switch(O[0]){case n.INSERT:P=Math.min(T.peekLength(),k),x.push(T.next(P));break;case n.DELETE:P=Math.min(k,C.peekLength()),C.next(P),x.delete(P);break;case n.EQUAL:P=Math.min(C.peekLength(),T.peekLength(),k);const U=C.next(P),B=T.next(P);s(U.insert,B.insert)?x.retain(P,i.default.diff(U.attributes,B.attributes)):x.push(B).delete(P);break}k-=P}}),x.chop()}eachLine(m,v=`
`){const w=new c.default(this.ops);let x=new h,_=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const C=w.peek(),T=l.default.length(C)-w.peekLength(),O=typeof C.insert=="string"?C.insert.indexOf(v,T)-T:-1;if(O<0)x.push(w.next());else if(O>0)x.push(w.next(O));else{if(m(x,w.next(1).attributes||{},_)===!1)return;_+=1,x=new h}}x.length()>0&&m(x,{},_)}invert(m){const v=new h;return this.reduce((w,x)=>{if(x.insert)v.delete(l.default.length(x));else{if(typeof x.retain=="number"&&x.attributes==null)return v.retain(x.retain),w+x.retain;if(x.delete||typeof x.retain=="number"){const _=x.delete||x.retain;return m.slice(w,w+_).forEach(T=>{x.delete?v.push(T):x.retain&&x.attributes&&v.retain(l.default.length(T),i.default.invert(x.attributes,T.attributes))}),w+_}else if(typeof x.retain=="object"&&x.retain!==null){const _=m.slice(w,w+1),C=new c.default(_.ops).next(),[T,O,k]=f(x.retain,C.insert),P=h.getHandler(T);return v.retain({[T]:P.invert(O,k)},i.default.invert(x.attributes,C.attributes)),w+1}}return w},0),v.chop()}transform(m,v=!1){if(v=!!v,typeof m=="number")return this.transformPosition(m,v);const w=m,x=new c.default(this.ops),_=new c.default(w.ops),C=new h;for(;x.hasNext()||_.hasNext();)if(x.peekType()==="insert"&&(v||_.peekType()!=="insert"))C.retain(l.default.length(x.next()));else if(_.peekType()==="insert")C.push(_.next());else{const T=Math.min(x.peekLength(),_.peekLength()),O=x.next(T),k=_.next(T);if(O.delete)continue;if(k.delete)C.push(k);else{const P=O.retain,U=k.retain;let B=typeof U=="object"&&U!==null?U:T;if(typeof P=="object"&&P!==null&&typeof U=="object"&&U!==null){const z=Object.keys(P)[0];if(z===Object.keys(U)[0]){const Q=h.getHandler(z);Q&&(B={[z]:Q.transform(P[z],U[z],v)})}}C.retain(B,i.default.transform(O.attributes,k.attributes,v))}}return C.chop()}transformPosition(m,v=!1){v=!!v;const w=new c.default(this.ops);let x=0;for(;w.hasNext()&&x<=m;){const _=w.peekLength(),C=w.peekType();if(w.next(),C==="delete"){m-=Math.min(_,m-x);continue}else C==="insert"&&(x<m||!v)&&(m+=_);x+=_}return m}}h.Op=l.default,h.OpIterator=c.default,h.AttributeMap=i.default,h.handlers={},e.default=h,t.exports=h,t.exports.default=h})(tf,tf.exports)),tf.exports}var Fr=a9();const De=vu(Fr);class vs extends Sr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}vs.blotName="break";vs.tagName="BR";let fs=class extends Yf{};const l9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Oh(t){return t.replace(/[&<>"']/g,e=>l9[e])}const As=class As extends w0{static compare(e,n){const r=As.order.indexOf(e),s=As.order.indexOf(n);return r>=0||s>=0?r-s:e===n?0:e<n?-1:1}formatAt(e,n,r,s){if(As.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Be.BLOT)){const i=this.isolate(e,n);s&&i.wrap(r,s)}else super.formatAt(e,n,r,s)}optimize(e){if(super.optimize(e),this.parent instanceof As&&As.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};Ce(As,"allowedChildren",[As,vs,Sr,fs]),Ce(As,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let zs=As;const vS=1;class kn extends hu{constructor(){super(...arguments);Ce(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=qk(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,s,i){r<=0||(this.scroll.query(s,Be.BLOCK)?n+r===this.length()&&this.format(s,i):super.formatAt(n,Math.min(r,this.length()-n-1),s,i),this.cache={})}insertAt(n,r,s){if(s!=null){super.insertAt(n,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),l=i.shift();l.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let c=this;i.reduce((d,f)=>(c=c.split(d,!0),c.insertAt(0,f),f.length),n+l.length)}insertBefore(n,r){const{head:s}=this.children;super.insertBefore(n,r),s instanceof vs&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+vS),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-vS)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(n,r);return this.cache={},s}}kn.blotName="block";kn.tagName="P";kn.defaultChild=vs;kn.allowedChildren=[vs,zs,Sr,fs];class Ur extends Sr{attach(){super.attach(),this.attributes=new Nh(this.domNode)}delta(){return new De().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,Be.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,s){this.format(r,s)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const s=n.split(`
`),i=s.pop(),l=s.map(d=>{const f=this.scroll.create(kn.blotName);return f.insertAt(0,d),f}),c=this.split(e);l.forEach(d=>{this.parent.insertBefore(d,c)}),i&&this.parent.insertBefore(this.scroll.create("text",i),c)}}Ur.scope=Be.BLOCK_BLOT;function qk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Dn).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),Br(r,{},e)),new De).insert(`
`,Br(t))}function Br(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Br(t.parent,e,n)}const $r=class $r extends Sr{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode($r.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==Be.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=$r.CONTENTS.length,r.optimize(),r.formatAt(s,$r.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof fs?this.prev:null,r=n?n.length():0,s=this.next instanceof fs?this.next:null,i=s?s.text:"",{textNode:l}=this,c=l.data.split($r.CONTENTS).join("");l.data=$r.CONTENTS;let d;if(n)d=n,(c||s)&&(n.insertAt(n.length(),c+i),s&&s.remove());else if(s)d=s,s.insertAt(0,c);else{const f=document.createTextNode(c);d=this.scroll.create(f),this.parent.insertBefore(d,this)}if(this.remove(),e){const f=(m,v)=>n&&m===n.domNode?v:m===l?r+v-1:s&&m===s.domNode?r+c.length+v:null,h=f(e.start.node,e.start.offset),g=f(e.end.node,e.end.offset);if(h!==null&&g!==null)return{startNode:d.domNode,startOffset:h,endNode:d.domNode,endOffset:g}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=$r.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};Ce($r,"blotName","cursor"),Ce($r,"className","ql-cursor"),Ce($r,"tagName","span"),Ce($r,"CONTENTS","\uFEFF");let Dl=$r;var Jg={exports:{}},yS;function c9(){return yS||(yS=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,g,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,g||d,m),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,v=g.length,w=new Array(v);m<v;m++)w[m]=g[m].fn;return w},c.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,h,g,m,v,w){var x=n?n+f:f;if(!this._events[x])return!1;var _=this._events[x],C=arguments.length,T,O;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,g),!0;case 4:return _.fn.call(_.context,h,g,m),!0;case 5:return _.fn.call(_.context,h,g,m,v),!0;case 6:return _.fn.call(_.context,h,g,m,v,w),!0}for(O=1,T=new Array(C-1);O<C;O++)T[O-1]=arguments[O];_.fn.apply(_.context,T)}else{var k=_.length,P;for(O=0;O<k;O++)switch(_[O].once&&this.removeListener(f,_[O].fn,void 0,!0),C){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,h);break;case 3:_[O].fn.call(_[O].context,h,g);break;case 4:_[O].fn.call(_[O].context,h,g,m);break;default:if(!T)for(P=1,T=new Array(C-1);P<C;P++)T[P-1]=arguments[P];_[O].fn.apply(_[O].context,T)}}return!0},c.prototype.on=function(f,h,g){return i(this,f,h,g,!1)},c.prototype.once=function(f,h,g){return i(this,f,h,g,!0)},c.prototype.removeListener=function(f,h,g,m){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return l(this,v),this;var w=this._events[v];if(w.fn)w.fn===h&&(!m||w.once)&&(!g||w.context===g)&&l(this,v);else{for(var x=0,_=[],C=w.length;x<C;x++)(w[x].fn!==h||m&&!w[x].once||g&&w[x].context!==g)&&_.push(w[x]);_.length?this._events[v]=_.length===1?_[0]:_:l(this,v)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Jg)),Jg.exports}var u9=c9();const d9=vu(u9),gv=new WeakMap,mv=["error","warn","log","info"];let vv="warn";function Hk(t){if(vv&&mv.indexOf(t)<=mv.indexOf(vv)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function bo(t){return mv.reduce((e,n)=>(e[n]=Hk.bind(console,n,t),e),{})}bo.level=t=>{vv=t};Hk.level=bo.level;const Qg=bo("quill:events"),f9=["selectionchange","mousedown","mouseup","click"];f9.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=gv.get(s);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class Ae extends d9{constructor(){super(),this.domListeners={},this.on("error",Qg.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Qg.log.call(Qg,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(this.domListeners[e.type]||[]).forEach(i=>{let{node:l,handler:c}=i;(e.target===l||l.contains(e.target))&&c(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}Ce(Ae,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ce(Ae,"sources",{API:"api",SILENT:"silent",USER:"user"});const em=bo("quill:selection");class da{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class h9{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new da(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ae.sources.USER),1)}),this.emitter.on(Ae.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ae.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=i.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(l?Ae.sources.SILENT:s)}catch{}})}),this.emitter.on(Ae.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:l,endNode:c,endOffset:d}=s.range;this.setNativeRange(i,l,c,d),this.update(Ae.sources.SILENT)}}),this.update(Ae.sources.SILENT)}handleComposition(){this.emitter.on(Ae.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ae.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ae.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Be.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof Dn){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let s,[i,l]=this.scroll.leaf(e);if(i==null)return null;if(n>0&&l===i.length()){const[h]=this.scroll.leaf(e+1);if(h){const[g]=this.scroll.line(e),[m]=this.scroll.line(e+1);g===m&&(i=h,l=0)}}[s,l]=i.position(l,!0);const c=document.createRange();if(n>0)return c.setStart(s,l),[i,l]=this.scroll.leaf(e+n),i==null?null:([s,l]=i.position(l,!0),c.setEnd(s,l),c.getBoundingClientRect());let d="left",f;if(s instanceof Text){if(!s.data.length)return null;l<s.data.length?(c.setStart(s,l),c.setEnd(s,l+1)):(c.setStart(s,l-1),c.setEnd(s,l),d="right"),f=c.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;f=i.domNode.getBoundingClientRect(),l>0&&(d="right")}return{bottom:f.top+f.height,height:f.height,left:f[d],right:f[d],top:f.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return em.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&tm(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(l=>{const[c,d]=l,f=this.scroll.find(c,!0),h=f.offset(this.scroll);return d===0?h:f instanceof Dn?h+f.index(c,d):h+f.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new da(i,s-i)}normalizeNative(e){if(!tm(this.root,e.startContainer)||!e.collapsed&&!tm(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),n}rangeToNative(e){const n=this.scroll.length(),r=(s,i)=>{s=Math.min(n-1,s);const[l,c]=this.scroll.leaf(s);return l?l.position(c,i):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(em.info("setNativeRange",e,n,r,s),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||i||e!==c.startContainer||n!==c.startOffset||r!==c.endContainer||s!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const d=document.createRange();d.setStart(e,n),d.setEnd(r,s),l.removeAllRanges(),l.addRange(d)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ae.sources.API;if(typeof n=="string"&&(r=n,n=!1),em.info("setRange",e),e!=null){const s=this.rangeToNative(e);this.setNativeRange(...s,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ae.sources.USER;const n=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!y0(n,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const i=[Ae.events.SELECTION_CHANGE,El(this.lastRange),El(n),e];this.emitter.emit(Ae.events.EDITOR_CHANGE,...i),e!==Ae.sources.SILENT&&this.emitter.emit(...i)}}}function tm(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const p9=/^[ -~]*$/;class g9{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=wS(e),s=new De;return v9(r.ops.slice()).reduce((l,c)=>{const d=Fr.Op.length(c);let f=c.attributes||{},h=!1,g=!1;if(c.insert!=null){if(s.retain(d),typeof c.insert=="string"){const w=c.insert;g=!w.endsWith(`
`)&&(n<=l||!!this.scroll.descendant(Ur,l)[0]),this.scroll.insertAt(l,w);const[x,_]=this.scroll.line(l);let C=li({},Br(x));if(x instanceof kn){const[T]=x.descendant(Dn,_);T&&(C=li(C,Br(T)))}f=Fr.AttributeMap.diff(C,f)||{}}else if(typeof c.insert=="object"){const w=Object.keys(c.insert)[0];if(w==null)return l;const x=this.scroll.query(w,Be.INLINE)!=null;if(x)(n<=l||this.scroll.descendant(Ur,l)[0])&&(g=!0);else if(l>0){const[_,C]=this.scroll.descendant(Dn,l-1);_ instanceof fs?_.value()[C]!==`
`&&(h=!0):_ instanceof Sr&&_.statics.scope===Be.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(l,w,c.insert[w]),x){const[_]=this.scroll.descendant(Dn,l);if(_){const C=li({},Br(_));f=Fr.AttributeMap.diff(C,f)||{}}}}n+=d}else if(s.push(c),c.retain!==null&&typeof c.retain=="object"){const w=Object.keys(c.retain)[0];if(w==null)return l;this.scroll.updateEmbedAt(l,w,c.retain[w])}Object.keys(f).forEach(w=>{this.scroll.formatAt(l,d,w,f[w])});const m=h?1:0,v=g?1:0;return n+=m+v,s.retain(m),s.delete(v),l+d+m+v},0),s.reduce((l,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(l,c.delete),l):l+Fr.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new De().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(e,Math.max(n,1)).forEach(l=>{l.format(i,r[i])})}),this.scroll.optimize();const s=new De().retain(e).retain(n,El(r));return this.update(s)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n,i,r[i])});const s=new De().retain(e).retain(n,El(r));return this.update(s)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new De)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];n===0?this.scroll.path(e).forEach(c=>{const[d]=c;d instanceof kn?r.push(d):d instanceof Dn&&s.push(d)}):(r=this.scroll.lines(e,n),s=this.scroll.descendants(Dn,e,n));const[i,l]=[r,s].map(c=>{const d=c.shift();if(d==null)return{};let f=Br(d);for(;Object.keys(f).length>0;){const h=c.shift();if(h==null)return f;f=m9(Br(h),f)}return f});return{...i,...l}}getHTML(e,n){const[r,s]=this.scroll.line(e);if(r){const i=r.length();return r.length()>=s+n&&!(s===0&&n===i)?pu(r,s,n,!0):pu(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=wS(n),s=new De().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(s)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new De().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n.length,s,r[s])}),this.update(new De().retain(e).insert(n,El(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==kn.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof vs}removeFormat(e,n){const r=this.getText(e,n),[s,i]=this.scroll.line(e+n);let l=0,c=new De;s!=null&&(l=s.length()-i,c=s.delta().slice(i,i+l-1).insert(`
`));const f=this.getContents(e,n+l).diff(new De().insert(r).concat(c)),h=new De().retain(e).concat(f);return this.applyDelta(h)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(p9)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),l=Br(i),c=i.offset(this.scroll),d=n[0].oldValue.replace(Dl.CONTENTS,""),f=new De().insert(d),h=new De().insert(i.value()),g=r&&{oldRange:bS(r.oldRange,-c),newRange:bS(r.newRange,-c)};e=new De().retain(c).concat(f.diff(h,g)).reduce((v,w)=>w.insert?v.insert(w.insert,l):v.push(w),new De),this.delta=s.compose(e)}else this.delta=this.getDelta(),(!e||!y0(s.compose(e),this.delta))&&(e=s.diff(this.delta,r));return e}}function hl(t,e,n){if(t.length===0){const[v]=nm(n.pop());return e<=0?`</li></${v}>`:`</li></${v}>${hl([],e-1,n)}`}const[{child:r,offset:s,length:i,indent:l,type:c},...d]=t,[f,h]=nm(c);if(l>e)return n.push(c),l===e+1?`<${f}><li${h}>${pu(r,s,i)}${hl(d,l,n)}`:`<${f}><li>${hl(t,e+1,n)}`;const g=n[n.length-1];if(l===e&&c===g)return`</li><li${h}>${pu(r,s,i)}${hl(d,l,n)}`;const[m]=nm(n.pop());return`</li></${m}>${hl(t,e-1,n)}`}function pu(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof fs)return Oh(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof cs){if(t.statics.blotName==="list-container"){const f=[];return t.children.forEachAt(e,n,(h,g,m)=>{const v="formats"in h&&typeof h.formats=="function"?h.formats():{};f.push({child:h,offset:g,length:m,indent:v.indent||0,type:v.list})}),hl(f,-1,[])}const s=[];if(t.children.forEachAt(e,n,(f,h,g)=>{s.push(pu(f,h,g))}),r||t.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:l}=t.domNode,[c,d]=i.split(`>${l}<`);return c==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${d}`:`${c}>${s.join("")}<${d}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function m9(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const s=e[r];return s===t[r]?n[r]=s:Array.isArray(s)?s.indexOf(t[r])<0?n[r]=s.concat([t[r]]):n[r]=s:n[r]=[s,t[r]],n},{})}function nm(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function wS(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new De)}function bS(t,e){let{index:n,length:r}=t;return new da(n+e,r)}function v9(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((s,i)=>{i&&e.push({insert:`
`,attributes:n.attributes}),s&&e.push({insert:s,attributes:n.attributes})}):e.push(n)}),e}class ys{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}Ce(ys,"DEFAULTS",{});const of="\uFEFF";class x0 extends Sr{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(of),this.rightGuard=document.createTextNode(of),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const s=e.data.split(of).join("");if(e===this.leftGuard)if(this.prev instanceof fs){const i=this.prev.length();this.prev.insertAt(i,s),n={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:s.length};else e===this.rightGuard&&(this.next instanceof fs?(this.next.insertAt(0,s),n={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:s.length}));return e.data=of,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(n.range=s)}})}}class y9{constructor(e,n){Ce(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof x0)&&(this.emitter.emit(Ae.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ae.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ae.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ae.events.COMPOSITION_END,e),this.isComposing=!1}}const Wc=class Wc{constructor(e,n){Ce(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};Ce(Wc,"DEFAULTS",{modules:{}}),Ce(Wc,"themes",{default:Wc});let $l=Wc;const w9=t=>t.parentElement||t.getRootNode().host||null,b9=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},af=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},xS=(t,e,n,r,s,i)=>t<n&&e>r?0:t<n?-(n-t+s):e>r?e-t>r-n?t+s-n:e-r+i:0,x9=(t,e)=>{var i,l,c;const n=t.ownerDocument;let r=e,s=t;for(;s;){const d=s===n.body,f=d?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??n.documentElement.clientHeight,left:0}:b9(s),h=getComputedStyle(s),g=xS(r.left,r.right,f.left,f.right,af(h.scrollPaddingLeft),af(h.scrollPaddingRight)),m=xS(r.top,r.bottom,f.top,f.bottom,af(h.scrollPaddingTop),af(h.scrollPaddingBottom));if(g||m)if(d)(c=n.defaultView)==null||c.scrollBy(g,m);else{const{scrollLeft:v,scrollTop:w}=s;m&&(s.scrollTop+=m),g&&(s.scrollLeft+=g);const x=s.scrollLeft-v,_=s.scrollTop-w;r={left:r.left-x,top:r.top-_,right:r.right-x,bottom:r.bottom-_}}s=d||h.position==="fixed"?null:w9(s)}},S9=100,_9=["block","break","cursor","inline","scroll","text"],E9=(t,e,n)=>{const r=new Ml;return _9.forEach(s=>{const i=e.query(s);i&&r.register(i)}),t.forEach(s=>{let i=e.query(s);i||n.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,l+=1,l>S9){n.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},Nl=bo("quill"),lf=new Ml;cs.uiClass="ql-ui";const ns=class ns{static debug(e){e===!0&&(e="log"),bo.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return gv.get(e)||lf.find(e,n)}static import(e){return this.imports[e]==null&&Nl.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(s=>{this.register(s,e[s],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Nl.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&lf.register(n),typeof n.register=="function"&&n.register(lf)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=C9(e,n),this.container=this.options.container,this.container==null){Nl.error("Invalid Quill container",e);return}this.options.debug&&ns.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",gv.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ae;const s=b0.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new g9(this.scroll),this.selection=new h9(this.scroll,this.emitter),this.composition=new y9(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ae.events.EDITOR_CHANGE,l=>{l===Ae.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ae.events.SCROLL_UPDATE,(l,c)=>{const d=this.selection.lastRange,[f]=this.selection.getRange(),h=d&&f?{oldRange:d,newRange:f}:void 0;Qr.call(this,()=>this.editor.update(null,c,h),l)}),this.emitter.on(Ae.events.SCROLL_EMBED_UPDATE,(l,c)=>{const d=this.selection.lastRange,[f]=this.selection.getRange(),h=d&&f?{oldRange:d,newRange:f}:void 0;Qr.call(this,()=>{const g=new De().retain(l.offset(this)).retain({[l.statics.blotName]:c});return this.editor.update(g,[],h)},ns.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=ao(e,n,r),Qr.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ae.sources.API;return Qr.call(this,()=>{const s=this.getSelection(!0);let i=new De;if(s==null)return i;if(this.scroll.query(e,Be.BLOCK))i=this.editor.formatLine(s.index,s.length,{[e]:n});else{if(s.length===0)return this.selection.format(e,n),i;i=this.editor.formatText(s.index,s.length,{[e]:n})}return this.setSelection(s,Ae.sources.SILENT),i},r)}formatLine(e,n,r,s,i){let l;return[e,n,l,i]=ao(e,n,r,s,i),Qr.call(this,()=>this.editor.formatLine(e,n,l),i,e,0)}formatText(e,n,r,s,i){let l;return[e,n,l,i]=ao(e,n,r,s,i),Qr.call(this,()=>this.editor.formatText(e,n,l),i,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=ao(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=ao(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=ao(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ns.sources.API;return Qr.call(this,()=>this.editor.insertEmbed(e,n,r),s,e)}insertText(e,n,r,s,i){let l;return[e,,l,i]=ao(e,0,r,s,i),Qr.call(this,()=>this.editor.insertText(e,n,l),i,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=ao(e,n,r),Qr.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){x9(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae.sources.API;return Qr.call(this,()=>{e=new De(e);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(l)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||ns.sources.API):([e,n,,r]=ao(e,n,r),this.selection.setRange(new da(Math.max(0,e),n),r),r!==Ae.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae.sources.API;const r=new De().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ae.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae.sources.API;return Qr.call(this,()=>(e=new De(e),this.editor.applyDelta(e)),n,!0)}};Ce(ns,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:lf,theme:"default"}),Ce(ns,"events",Ae.events),Ce(ns,"sources",Ae.sources),Ce(ns,"version","2.0.3"),Ce(ns,"imports",{delta:De,parchment:r9,"core/module":ys,"core/theme":$l});let pe=ns;function SS(t){return typeof t=="string"?document.querySelector(t):t}function rm(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,s]=n;return{...e,[r]:s===!0?{}:s}},{})}function _S(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function C9(t,e){const n=SS(t);if(!n)throw new Error("Invalid Quill container");const s=!e.theme||e.theme===pe.DEFAULTS.theme?$l:pe.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...l}=pe.DEFAULTS,{modules:c,...d}=s.DEFAULTS;let f=rm(e.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const h=li({},rm(i),rm(c),f),g={...l,..._S(d),..._S(e)};let m=e.registry;return m?e.formats&&Nl.warn('Ignoring "formats" option because "registry" is specified'):m=e.formats?E9(e.formats,g.registry,Nl):g.registry,{...g,registry:m,container:n,theme:s,modules:Object.entries(h).reduce((v,w)=>{let[x,_]=w;if(!_)return v;const C=pe.import(`modules/${x}`);return C==null?(Nl.error(`Cannot load ${x} module. Are you sure you registered it?`),v):{...v,[x]:li({},C.DEFAULTS||{},_)}},{}),bounds:SS(g.bounds)}}function Qr(t,e,n,r){if(!this.isEnabled()&&e===Ae.sources.USER&&!this.allowReadOnlyEdits)return new De;let s=n==null?null:this.getSelection();const i=this.editor.delta,l=t();if(s!=null&&(n===!0&&(n=s.index),r==null?s=ES(s,l,e):r!==0&&(s=ES(s,n,r,e)),this.setSelection(s,Ae.sources.SILENT)),l.length()>0){const c=[Ae.events.TEXT_CHANGE,l,i,e];this.emitter.emit(Ae.events.EDITOR_CHANGE,...c),e!==Ae.sources.SILENT&&this.emitter.emit(...c)}return l}function ao(t,e,n,r,s){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(s=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(s=r,r=n,n=e,e=0),typeof n=="object"?(i=n,s=r):typeof n=="string"&&(r!=null?i[n]=r:s=n),s=s||Ae.sources.API,[t,e,i,s]}function ES(t,e,n,r){const s=typeof n=="number"?n:0;if(t==null)return null;let i,l;return e&&typeof e.transformPosition=="function"?[i,l]=[t.index,t.index+t.length].map(c=>e.transformPosition(c,r!==Ae.sources.USER)):[i,l]=[t.index,t.index+t.length].map(c=>c<e||c===e&&r===Ae.sources.USER?c:s>=0?c+s:Math.max(e,c+s)),new da(i,l-i)}class ma extends kh{}function CS(t){return t instanceof kn||t instanceof Ur}function NS(t){return typeof t.updateContent=="function"}class pl extends b0{constructor(e,n,r){let{emitter:s}=r;super(e,n),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ae.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ae.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(Ae.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,s]=this.line(e),[i]=this.line(e+n);if(super.deleteAt(e,n),i!=null&&r!==i&&s>0){if(r instanceof Ur||i instanceof Ur){this.optimize();return}const l=i.children.head instanceof vs?null:i.children.head;r.moveChildren(i,l),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,Be.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&n.endsWith(`
`)?s.insertAt(0,n.slice(0,-1),r):s.insertAt(0,n,r)}else{const s=this.scroll.create(n,r);this.appendChild(s)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===Be.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new De().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const d=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ur,e)[0]&&e<this.length()),f=i.type==="block"?i.delta:new De().insert({[i.key]:i.value});sm(this,e,f);const h=i.type==="block"?1:0,g=e+f.length()+h;d&&this.insertAt(g-1,`
`);const m=Br(this.line(e)[0]),v=Fr.AttributeMap.diff(m,i.attributes)||{};Object.keys(v).forEach(w=>{this.formatAt(g-1,1,w,v[w])}),e=g}let[l,c]=this.children.find(e);if(r.length&&(l&&(l=l.split(c),c=0),r.forEach(d=>{if(d.type==="block"){const f=this.createBlock(d.attributes,l||void 0);sm(f,0,d.delta)}else{const f=this.create(d.key,d.value);this.insertBefore(f,l||void 0),Object.keys(d.attributes).forEach(h=>{f.format(h,d.attributes[h])})}})),s.type==="block"&&s.delta.length()){const d=l?l.offset(l.scroll)+c:this.length();sm(this,d,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,s]=n;return r instanceof Dn?[r,s]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(CS,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,l)=>{let c=[],d=l;return s.children.forEachAt(i,l,(f,h,g)=>{CS(f)?c.push(f):f instanceof kh&&(c=c.concat(r(f,h,d))),d-=g}),c};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(Ae.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=Ae.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!NS(i)}),e.length>0&&this.emitter.emit(Ae.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ae.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[s]=this.descendant(i=>i instanceof Ur,e);s&&s.statics.blotName===n&&NS(s)&&s.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new De;return e.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const l=i.split(`
`);l.slice(0,-1).forEach(d=>{r.insert(d,s.attributes),n.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new De});const c=l[l.length-1];c&&r.insert(c,s.attributes)}else{const l=Object.keys(i)[0];if(!l)return;this.query(l,Be.INLINE)?r.push(s):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new De,n.push({type:"blockEmbed",key:l,value:i[l],attributes:s.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const s={};Object.entries(e).forEach(c=>{let[d,f]=c;this.query(d,Be.BLOCK&Be.BLOT)!=null?r=d:s[d]=f});const i=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(i,n||void 0);const l=i.length();return Object.entries(s).forEach(c=>{let[d,f]=c;i.formatAt(0,l,d,f)}),i}}Ce(pl,"blotName","scroll"),Ce(pl,"className","ql-editor"),Ce(pl,"tagName","DIV"),Ce(pl,"defaultChild",kn),Ce(pl,"allowedChildren",[kn,Ur,ma]);function sm(t,e,n){n.reduce((r,s)=>{const i=Fr.Op.length(s);let l=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const c=s.insert;t.insertAt(r,c);const[d]=t.descendant(Dn,r),f=Br(d);l=Fr.AttributeMap.diff(f,l)||{}}else if(typeof s.insert=="object"){const c=Object.keys(s.insert)[0];if(c==null)return r;if(t.insertAt(r,c,s.insert[c]),t.scroll.query(c,Be.INLINE)!=null){const[f]=t.descendant(Dn,r),h=Br(f);l=Fr.AttributeMap.diff(h,l)||{}}}}return Object.keys(l).forEach(c=>{t.formatAt(r,i,c,l[c])}),r+i},e)}const S0={scope:Be.BLOCK,whitelist:["right","center","justify"]},N9=new Bs("align","align",S0),Vk=new ms("align","ql-align",S0),Wk=new vi("align","text-align",S0);class Kk extends vi{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):n}}const k9=new ms("color","ql-color",{scope:Be.INLINE}),_0=new Kk("color","color",{scope:Be.INLINE}),O9=new ms("background","ql-bg",{scope:Be.INLINE}),E0=new Kk("background","background-color",{scope:Be.INLINE});class va extends ma{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Oh(this.code(e,n))}
</pre>`}}class $n extends kn{static register(){pe.register(va)}}Ce($n,"TAB","  ");class C0 extends zs{}C0.blotName="code";C0.tagName="CODE";$n.blotName="code-block";$n.className="ql-code-block";$n.tagName="DIV";va.blotName="code-block-container";va.className="ql-code-block-container";va.tagName="DIV";va.allowedChildren=[$n];$n.allowedChildren=[fs,vs,Dl];$n.requiredContainer=va;const N0={scope:Be.BLOCK,whitelist:["rtl"]},Gk=new Bs("direction","dir",N0),Xk=new ms("direction","ql-direction",N0),Yk=new vi("direction","direction",N0),Zk={scope:Be.INLINE,whitelist:["serif","monospace"]},Jk=new ms("font","ql-font",Zk);class T9 extends vi{value(e){return super.value(e).replace(/["']/g,"")}}const Qk=new T9("font","font-family",Zk),e2=new ms("size","ql-size",{scope:Be.INLINE,whitelist:["small","large","huge"]}),t2=new vi("size","font-size",{scope:Be.INLINE,whitelist:["10px","18px","32px"]}),A9=bo("quill:keyboard"),P9=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Th extends ys{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=j9(e);if(s==null){A9.warn("Attempted to add invalid keyboard binding",s);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(l=>{const c={...s,key:l,...n,...r};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(C=>Th.match(e,C));if(s.length===0)return;const i=pe.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[c,d]=this.quill.getLine(l.index),[f,h]=this.quill.getLeaf(l.index),[g,m]=l.length===0?[f,h]:this.quill.getLeaf(l.index+l.length),v=f instanceof Yf?f.value().slice(0,h):"",w=g instanceof Yf?g.value().slice(m):"",x={collapsed:l.length===0,empty:l.length===0&&c.length()<=1,format:this.quill.getFormat(l),line:c,offset:d,prefix:v,suffix:w,event:e};s.some(C=>{if(C.collapsed!=null&&C.collapsed!==x.collapsed||C.empty!=null&&C.empty!==x.empty||C.offset!=null&&C.offset!==x.offset)return!1;if(Array.isArray(C.format)){if(C.format.every(T=>x.format[T]==null))return!1}else if(typeof C.format=="object"&&!Object.keys(C.format).every(T=>C.format[T]===!0?x.format[T]!=null:C.format[T]===!1?x.format[T]==null:y0(C.format[T],x.format[T])))return!1;return C.prefix!=null&&!C.prefix.test(x.prefix)||C.suffix!=null&&!C.suffix.test(x.suffix)?!1:C.handler.call(this,l,x,C)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(e.index);let l=new De().retain(e.index-r).delete(r);if(n.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const f=i.formats(),h=this.quill.getFormat(e.index-1,1);if(s=Fr.AttributeMap.diff(f,h)||{},Object.keys(s).length>0){const g=new De().retain(e.index+i.length()-2).retain(1,s);l=l.compose(g)}}}this.quill.updateContents(l,pe.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(e.index);let l=new De().retain(e.index).delete(r);if(n.offset>=i.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const d=i.formats(),f=this.quill.getFormat(e.index,1);s=Fr.AttributeMap.diff(d,f)||{},Object.keys(s).length>0&&(l=l.retain(c.length()-1).retain(1,s))}}this.quill.updateContents(l,pe.sources.USER),this.quill.focus()}handleDeleteRange(e){k0({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((i,l)=>(this.quill.scroll.query(l,Be.BLOCK)&&!Array.isArray(n.format[l])&&(i[l]=n.format[l]),i),{}),s=new De().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(s,pe.sources.USER),this.quill.setSelection(e.index+1,pe.sources.SILENT),this.quill.focus()}}const R9={bindings:{bold:om("bold"),italic:om("italic"),underline:om("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",pe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",pe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",pe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,pe.sources.USER)}},"indent code-block":kS(!0),"outdent code-block":kS(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,pe.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new De().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,pe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,pe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,pe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},s=new De().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,pe.sources.USER),this.quill.setSelection(t.index+1,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),s=new De().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,pe.sources.USER),this.quill.setSelection(t.index+1,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,s,i]=e.getTable(t),l=L9(n,r,s,i);if(l==null)return;let c=n.offset();if(l<0){const d=new De().retain(c).insert(`
`);this.quill.updateContents(d,pe.sources.USER),this.quill.setSelection(t.index+1,t.length,pe.sources.SILENT)}else if(l>0){c+=n.length();const d=new De().retain(c).insert(`
`);this.quill.updateContents(d,pe.sources.USER),this.quill.setSelection(c,pe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,s=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,pe.sources.USER):this.quill.setSelection(s+r.length(),pe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,s]=this.quill.getLine(t.index);if(s>n)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",pe.sources.USER),this.quill.history.cutoff();const l=new De().retain(t.index-s).delete(n+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(l,pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,pe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,s=e;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new De().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,pe.sources.USER),this.quill.setSelection(t.index-1,pe.sources.SILENT),!1}return!0}},"embed left":cf("ArrowLeft",!1),"embed left shift":cf("ArrowLeft",!0),"embed right":cf("ArrowRight",!1),"embed right shift":cf("ArrowRight",!0),"table down":OS(!1),"table up":OS(!0)}};Th.DEFAULTS=R9;function kS(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,i,pe.sources.USER),this.quill.setSelection(e.index+i.length,pe.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:d}=e;l.forEach((f,h)=>{t?(f.insertAt(0,i),h===0?c+=i.length:d+=i.length):f.domNode.textContent.startsWith(i)&&(f.deleteAt(0,i.length),h===0?c-=i.length:d-=i.length)}),this.quill.update(pe.sources.USER),this.quill.setSelection(c,d,pe.sources.SILENT)}}}function cf(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;t==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof Sr?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,pe.sources.USER):this.quill.setSelection(r.index-1,pe.sources.USER):e?this.quill.setSelection(r.index,r.length+1,pe.sources.USER):this.quill.setSelection(r.index+r.length+1,pe.sources.USER),!1):!0}}}function om(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],pe.sources.USER)}}}function OS(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",s=n.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let l=i.children.head,c=s;for(;c.prev!=null;)c=c.prev,l=l.next;const d=l.offset(this.quill.scroll)+Math.min(n.offset,l.length()-1);this.quill.setSelection(d,0,pe.sources.USER)}}else{const l=s.table()[r];l!=null&&(t?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,pe.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,pe.sources.USER))}return!1}}}function j9(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=El(t);else return null;return t.shortKey&&(t[P9]=t.shortKey,delete t.shortKey),t}function k0(t){let{quill:e,range:n}=t;const r=e.getLines(n);let s={};if(r.length>1){const i=r[0].formats(),l=r[r.length-1].formats();s=Fr.AttributeMap.diff(l,i)||{}}e.deleteText(n,pe.sources.USER),Object.keys(s).length>0&&e.formatLine(n.index,1,s,pe.sources.USER),e.setSelection(n.index,pe.sources.SILENT)}function L9(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const I9=/font-weight:\s*normal/,M9=["P","OL","UL"],TS=t=>t&&M9.includes(t.tagName),D9=t=>{Array.from(t.querySelectorAll("br")).filter(e=>TS(e.previousElementSibling)&&TS(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},$9=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(I9)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function B9(t){t.querySelector('[id^="docs-internal-guid-"]')&&($9(t),D9(t))}const z9=/\bmso-list:[^;]*ignore/i,U9=/\bmso-list:[^;]*\bl(\d+)/i,F9=/\bmso-list:[^;]*\blevel(\d+)/i,q9=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(U9);if(!r)return null;const s=Number(r[1]),i=n==null?void 0:n.match(F9),l=i?Number(i[1]):1,c=new RegExp(`@list l${s}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(c),f=d&&d[1]==="bullet"?"bullet":"ordered";return{id:s,indent:l,type:f,element:t}},H9=t=>{var l,c;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(d=>{(d.getAttribute("style")||"").match(z9)?n.push(d):r.push(d)}),n.forEach(d=>{var f;return(f=d.parentNode)==null?void 0:f.removeChild(d)});const s=t.documentElement.innerHTML,i=r.map(d=>q9(d,s)).filter(d=>d);for(;i.length;){const d=[];let f=i.shift();for(;f;)d.push(f),f=i.length&&((l=i[0])==null?void 0:l.element)===f.element.nextElementSibling&&i[0].id===f.id?i.shift():null;const h=document.createElement("ul");d.forEach(v=>{const w=document.createElement("li");w.setAttribute("data-list",v.type),v.indent>1&&w.setAttribute("class",`ql-indent-${v.indent-1}`),w.innerHTML=v.element.innerHTML,h.appendChild(w)});const g=(c=d[0])==null?void 0:c.element,{parentNode:m}=g??{};g&&(m==null||m.replaceChild(h,g)),d.slice(1).forEach(v=>{let{element:w}=v;m==null||m.removeChild(w)})}};function V9(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&H9(t)}const W9=[V9,B9],K9=t=>{t.documentElement&&W9.forEach(e=>{e(t)})},G9=bo("quill:clipboard"),X9=[[Node.TEXT_NODE,aq],[Node.TEXT_NODE,PS],["br",eq],[Node.ELEMENT_NODE,PS],[Node.ELEMENT_NODE,Q9],[Node.ELEMENT_NODE,J9],[Node.ELEMENT_NODE,oq],["li",rq],["ol, ul",sq],["pre",tq],["tr",iq],["b",im("bold")],["i",im("italic")],["strike",im("strike")],["style",nq]],Y9=[N9,Gk].reduce((t,e)=>(t[e.keyName]=e,t),{}),AS=[Wk,E0,_0,Yk,Qk,t2].reduce((t,e)=>(t[e.keyName]=e,t),{});class n2 extends ys{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],X9.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[$n.blotName])return new De().insert(r||"",{[$n.blotName]:s[$n.blotName]});if(!n)return new De().insert(r||"",s);const i=this.convertHTML(n);return Ru(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new De().retain(i.length()-1).delete(1)):i}normalizeHTML(e){K9(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,s=new WeakMap,[i,l]=this.prepareMatching(r,s);return O0(this.quill.scroll,r,i,l,s)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pe.sources.API;if(typeof e=="string"){const s=this.convert({html:e,text:""});this.quill.setContents(s,n),this.quill.setSelection(0,pe.sources.SILENT)}else{const s=this.convert({html:n,text:""});this.quill.updateContents(new De().retain(e).concat(s),r),this.quill.setSelection(e+s.length(),pe.sources.SILENT)}}onCaptureCopy(e){var l,c;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,n);(l=e.clipboardData)==null||l.setData("text/plain",i),(c=e.clipboardData)==null||c.setData("text/html",s),n&&k0({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var l,c,d,f,h;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(l=e.clipboardData)==null?void 0:l.getData("text/html");let s=(c=e.clipboardData)==null?void 0:c.getData("text/plain");if(!r&&!s){const g=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const i=Array.from(((f=e.clipboardData)==null?void 0:f.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(n,i);return}if(r&&i.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:r,text:s})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:s}=n;const i=this.quill.getFormat(e.index),l=this.convert({text:r,html:s},i);G9.log("onPaste",l,{text:r,html:s});const c=new De().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(c,pe.sources.USER),this.quill.setSelection(c.length()-e.length,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],s=[];return this.matchers.forEach(i=>{const[l,c]=i;switch(l){case Node.TEXT_NODE:s.push(c);break;case Node.ELEMENT_NODE:r.push(c);break;default:Array.from(e.querySelectorAll(l)).forEach(d=>{if(n.has(d)){const f=n.get(d);f==null||f.push(c)}else n.set(d,[c])});break}}),[r,s]}}Ce(n2,"DEFAULTS",{matchers:[]});function ya(t,e,n,r){return r.query(e)?t.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[e])return s.push(i);const l=n?{[e]:n}:{};return s.insert(i.insert,{...l,...i.attributes})},new De):t}function Ru(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const s=t.ops[r];if(typeof s.insert!="string")break;n=s.insert+n}return n.slice(-1*e.length)===e}function oi(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Sr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function Z9(t,e){return t.previousElementSibling&&t.nextElementSibling&&!oi(t.previousElementSibling,e)&&!oi(t.nextElementSibling,e)}const uf=new WeakMap;function r2(t){return t==null?!1:(uf.has(t)||(t.tagName==="PRE"?uf.set(t,!0):uf.set(t,r2(t.parentNode))),uf.get(t))}function O0(t,e,n,r,s){return e.nodeType===e.TEXT_NODE?r.reduce((i,l)=>l(e,i,t),new De):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,l)=>{let c=O0(t,l,n,r,s);return l.nodeType===e.ELEMENT_NODE&&(c=n.reduce((d,f)=>f(l,d,t),c),c=(s.get(l)||[]).reduce((d,f)=>f(l,d,t),c)),i.concat(c)},new De):new De}function im(t){return(e,n,r)=>ya(n,t,!0,r)}function J9(t,e,n){const r=Bs.keys(t),s=ms.keys(t),i=vi.keys(t),l={};return r.concat(s).concat(i).forEach(c=>{let d=n.query(c,Be.ATTRIBUTE);d!=null&&(l[d.attrName]=d.value(t),l[d.attrName])||(d=Y9[c],d!=null&&(d.attrName===c||d.keyName===c)&&(l[d.attrName]=d.value(t)||void 0),d=AS[c],d!=null&&(d.attrName===c||d.keyName===c)&&(d=AS[c],l[d.attrName]=d.value(t)||void 0))}),Object.entries(l).reduce((c,d)=>{let[f,h]=d;return ya(c,f,h,n)},e)}function Q9(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof Sr){const s={},i=r.value(t);if(i!=null)return s[r.blotName]=i,new De().insert(s,r.formats(t,n))}else if(r.prototype instanceof hu&&!Ru(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return ya(e,r.blotName,r.formats(t,n),n);return e}function eq(t,e){return Ru(e,`
`)||e.insert(`
`),e}function tq(t,e,n){const r=n.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return ya(e,"code-block",s,n)}function nq(){return new De}function rq(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!Ru(e,`
`))return e;let s=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?e:e.reduce((l,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?l.push(c):l.insert(c.insert,{indent:s,...c.attributes||{}}):l,new De)}function sq(t,e,n){const r=t;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),ya(e,"list",s,n)}function PS(t,e,n){if(!Ru(e,`
`)){if(oi(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(oi(r,n))return e.insert(`
`);const s=n.query(r);if(s&&s.prototype instanceof Ur)return e.insert(`
`);r=r.firstChild}}}return e}function oq(t,e,n){var i;const r={},s=t.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,c)=>{let[d,f]=c;return ya(l,d,f,n)},e),parseFloat(s.textIndent||0)>0?new De().insert("	").concat(e):e}function iq(t,e,n){var s,i;const r=((s=t.parentElement)==null?void 0:s.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(r!=null){const c=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return ya(e,"table",c,n)}return e}function aq(t,e,n){var s;let r=t.data;if(((s=t.parentElement)==null?void 0:s.tagName)==="O:P")return e.insert(r.trim());if(!r2(t)){if(r.trim().length===0&&r.includes(`
`)&&!Z9(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&oi(t.parentElement,n)||t.previousSibling instanceof Element&&oi(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&oi(t.parentElement,n)||t.nextSibling instanceof Element&&oi(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class s2 extends ys{constructor(n,r){super(n,r);Ce(this,"lastRecorded",0);Ce(this,"ignoreChange",!1);Ce(this,"stack",{undo:[],redo:[]});Ce(this,"currentRange",null);this.quill.on(pe.events.EDITOR_CHANGE,(s,i,l,c)=>{s===pe.events.SELECTION_CHANGE?i&&c!==pe.sources.SILENT&&(this.currentRange=i):s===pe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===pe.sources.USER?this.record(i,l):this.transform(i)),this.currentRange=yv(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const s=this.stack[n].pop();if(!s)return;const i=this.quill.getContents(),l=s.delta.invert(i);this.stack[r].push({delta:l,range:yv(s.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,pe.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let s=n.invert(r),i=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(s=s.compose(c.delta),i=c.range)}else this.lastRecorded=l;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){RS(this.stack.undo,n),RS(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,pe.sources.USER);else{const r=cq(this.quill.scroll,n.delta);this.quill.setSelection(r,pe.sources.USER)}}}Ce(s2,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function RS(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const s=t[r];t[r]={delta:n.transform(s.delta,!0),range:s.range&&yv(s.range,n)},n=s.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function lq(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,Be.BLOCK)!=null):!1}function cq(t,e){const n=e.reduce((s,i)=>s+(i.delete||0),0);let r=e.length()-n;return lq(t,e)&&(r-=1),r}function yv(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class o2 extends ys{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var l;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(c.offsetNode,c.offset),s.setEnd(c.offsetNode,c.offset)}const i=s&&e.selection.normalizeNative(s);if(i){const c=e.selection.normalizedToRange(i);(l=r.dataTransfer)!=null&&l.files&&this.upload(c,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,e,r)}}o2.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(r)}));Promise.all(n).then(r=>{const s=r.reduce((i,l)=>i.insert({image:l}),new De().retain(t.index).delete(t.length));this.quill.updateContents(s,Ae.sources.USER),this.quill.setSelection(t.index+r.length,Ae.sources.SILENT)})}};const uq=["insertText","insertReplacementText"];class dq extends ys{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(pe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){k0({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new De().retain(e.index).insert(n,r),pe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,pe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!uq.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=fq(e);if(r==null)return;const s=this.quill.selection.normalizeNative(n),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function fq(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const hq=/Mac/i.test(navigator.platform),pq=100,gq=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||hq&&t.key==="a"&&t.ctrlKey===!0);class mq extends ys{constructor(n,r){super(n,r);Ce(this,"isListening",!1);Ce(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:s,event:i}=r;if(!(s instanceof cs)||!s.uiNode)return!0;const l=getComputedStyle(s.domNode).direction==="rtl";return l&&i.key!=="ArrowRight"||!l&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),pe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&gq(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+pq,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof cs)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),n.removeAllRanges(),n.addRange(i)}}pe.register({"blots/block":kn,"blots/block/embed":Ur,"blots/break":vs,"blots/container":ma,"blots/cursor":Dl,"blots/embed":x0,"blots/inline":zs,"blots/scroll":pl,"blots/text":fs,"modules/clipboard":n2,"modules/history":s2,"modules/keyboard":Th,"modules/uploader":o2,"modules/input":dq,"modules/uiNode":mq});class vq extends ms{add(e,n){let r=0;if(n==="+1"||n==="-1"){const s=this.value(e)||0;r=n==="+1"?s+1:s-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const yq=new vq("indent","ql-indent",{scope:Be.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class wv extends kn{}Ce(wv,"blotName","blockquote"),Ce(wv,"tagName","blockquote");class bv extends kn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Ce(bv,"blotName","header"),Ce(bv,"tagName",["H1","H2","H3","H4","H5","H6"]);class ju extends ma{}ju.blotName="list-container";ju.tagName="OL";class Lu extends kn{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){pe.register(ju)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),s=i=>{if(!e.isEnabled())return;const l=this.statics.formats(n,e);l==="checked"?(this.format("list","unchecked"),i.preventDefault()):l==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Lu.blotName="list";Lu.tagName="LI";ju.allowedChildren=[Lu];Lu.requiredContainer=ju;class gu extends zs{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ce(gu,"blotName","bold"),Ce(gu,"tagName",["STRONG","B"]);class xv extends gu{}Ce(xv,"blotName","italic"),Ce(xv,"tagName",["EM","I"]);class ii extends zs{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return i2(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}Ce(ii,"blotName","link"),Ce(ii,"tagName","A"),Ce(ii,"SANITIZED_URL","about:blank"),Ce(ii,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function i2(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class Sv extends zs{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Ce(Sv,"blotName","script"),Ce(Sv,"tagName",["SUB","SUP"]);class _v extends gu{}Ce(_v,"blotName","strike"),Ce(_v,"tagName",["S","STRIKE"]);class Ev extends zs{}Ce(Ev,"blotName","underline"),Ce(Ev,"tagName","U");class Sf extends x0{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Ce(Sf,"blotName","formula"),Ce(Sf,"className","ql-formula"),Ce(Sf,"tagName","SPAN");const jS=["alt","height","width"];class Cv extends Sr{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return jS.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return i2(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){jS.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}Ce(Cv,"blotName","image"),Ce(Cv,"tagName","IMG");const LS=["height","width"];class _f extends Ur{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return LS.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return ii.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){LS.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Ce(_f,"blotName","video"),Ce(_f,"className","ql-video"),Ce(_f,"tagName","IFRAME");const Bc=new ms("code-token","hljs",{scope:Be.INLINE});class vo extends zs{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains($n.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),Bc.add(this.domNode,r)}format(e,n){e!==vo.blotName?super.format(e,n):n?Bc.add(this.domNode,n):(Bc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Bc.value(this.domNode)||this.unwrap()}}vo.blotName="code-token";vo.className="ql-token";class zr extends $n{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),vo.blotName,!1),super.replaceWith(e,n)}}class Vc extends va{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===zr.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,s){r===zr.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,s)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,i=zr.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const l=this.children.reduce((d,f)=>d.concat(qk(f,!1)),new De),c=e(s,i);l.diff(c).reduce((d,f)=>{let{retain:h,attributes:g}=f;return h?(g&&Object.keys(g).forEach(m=>{[zr.blotName,vo.blotName].includes(m)&&this.formatAt(d,h,m,g[m])}),d+h):d},0)}this.cachedText=s,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?zr.formats(r.domNode):"plain"}">
${Oh(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=zr.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Vc.allowedChildren=[zr];zr.requiredContainer=Vc;zr.allowedChildren=[vo,Dl,fs,vs];const wq=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class a2 extends ys{static register(){pe.register(vo,!0),pe.register(zr,!0),pe.register(Vc,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(pe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Vc))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const l=n.ownerDocument.createElement("option");l.textContent=i,l.setAttribute("value",s),n.appendChild(l)}),n.addEventListener("change",()=>{e.format(zr.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=zr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(pe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(pe.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Vc):[e]).forEach(i=>{i.highlight(this.highlightBlot,n)}),this.quill.update(pe.sources.SILENT),r!=null&&this.quill.setSelection(r,pe.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Oh(e).split(`
`).reduce((s,i,l)=>(l!==0&&s.insert(`
`,{[$n.blotName]:n}),s.insert(i)),new De);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add($n.className),r.innerHTML=wq(this.options.hljs,n,e),O0(this.quill.scroll,r,[(s,i)=>{const l=Bc.value(s);return l?i.compose(new De().retain(i.length(),{[vo.blotName]:l})):i}],[(s,i)=>s.data.split(`
`).reduce((l,c,d)=>(d!==0&&l.insert(`
`,{[$n.blotName]:n}),l.insert(c)),i)],new WeakMap)}}a2.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Kc=class Kc extends kn{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",T0()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Kc.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ce(Kc,"blotName","table"),Ce(Kc,"tagName","TD");let ls=Kc;class yo extends ma{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===s.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),s=n.next.formats();if(r.table!==s.table){const i=this.splitAfter(n);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ce(yo,"blotName","table-row"),Ce(yo,"tagName","TR");class Ds extends ma{}Ce(Ds,"blotName","table-body"),Ce(Ds,"tagName","TBODY");class Bl extends ma{balanceCells(){const e=this.descendants(yo),n=e.reduce((r,s)=>Math.max(s.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=ls.formats(r.children.head.domNode));const i=this.scroll.create(ls.blotName,s);r.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Ds);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e);s!=null&&s.remove()})}insertColumn(e){const[n]=this.descendant(Ds);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e),i=ls.formats(r.children.head.domNode),l=this.scroll.create(ls.blotName,i);r.insertBefore(l,s)})}insertRow(e){const[n]=this.descendant(Ds);if(n==null||n.children.head==null)return;const r=T0(),s=this.scroll.create(yo.blotName);n.children.head.children.forEach(()=>{const l=this.scroll.create(ls.blotName,r);s.appendChild(l)});const i=n.children.at(e);n.insertBefore(s,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}Ce(Bl,"blotName","table-container"),Ce(Bl,"tagName","TABLE");Bl.allowedChildren=[Ds];Ds.requiredContainer=Bl;Ds.allowedChildren=[yo];yo.requiredContainer=Ds;yo.allowedChildren=[ls];ls.requiredContainer=yo;function T0(){return`row-${Math.random().toString(36).slice(2,6)}`}class bq extends ys{static register(){pe.register(ls),pe.register(yo),pe.register(Ds),pe.register(Bl)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Bl).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(pe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(pe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(pe.sources.USER),this.quill.setSelection(n,pe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==ls.blotName)return[null,null,null,-1];const s=n.parent;return[s.parent.parent,s,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const l=i.cellOffset();r.insertColumn(l+e),this.quill.update(pe.sources.USER);let c=s.rowOffset();e===0&&(c+=1),this.quill.setSelection(n.index+c,n.length,pe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const l=s.rowOffset();r.insertRow(l+e),this.quill.update(pe.sources.USER),e>0?this.quill.setSelection(n,pe.sources.SILENT):this.quill.setSelection(n.index+s.children.length,n.length,pe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const s=new Array(e).fill(0).reduce(i=>{const l=new Array(n).fill(`
`).join("");return i.insert(l,{table:T0()})},new De().retain(r.index));this.quill.updateContents(s,pe.sources.USER),this.quill.setSelection(r.index,pe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(pe.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(pe.events.TEXT_CHANGE,(r,s,i)=>{i===pe.sources.USER&&this.balanceTables()}),!0):!1)})}}const IS=bo("quill:toolbar");class A0 extends ys{constructor(e,n){var r,s;if(super(e,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),xq(i,this.options.container),(s=(r=e.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){IS.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var c;const l=(c=this.options.handlers)==null?void 0:c[i];l&&this.addHandler(i,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(pe.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(s=>s.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){IS.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,s=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?i=!1:i=c.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),s.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof Sr){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new De().retain(l.index).delete(l.length).insert({[n]:i}),pe.sources.USER)}else this.quill.format(n,i,pe.sources.USER);this.update(l)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(n[s]==null)l=i.querySelector("option[selected]");else if(!Array.isArray(n[s])){let c=n[s];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),l=i.querySelector(`option[value="${c}"]`)}l==null?(i.value="",i.selectedIndex=-1):l.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const l=n[s],c=l===i.getAttribute("value")||l!=null&&l.toString()===i.getAttribute("value")||l==null&&!i.getAttribute("value");i.classList.toggle("ql-active",c),i.setAttribute("aria-pressed",c.toString())}else{const l=n[s]!=null;i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}})}}A0.DEFAULTS={};function MS(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function xq(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(s=>{if(typeof s=="string")MS(r,s);else{const i=Object.keys(s)[0],l=s[i];Array.isArray(l)?Sq(r,i,l):MS(r,i,l)}}),t.appendChild(r)})}function Sq(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),t.appendChild(r)}A0.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Be.INLINE)!=null&&this.quill.format(n,!1,pe.sources.USER)})}else this.quill.removeFormat(t.index,t.length,pe.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",pe.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,pe.sources.USER),this.quill.format("direction",t,pe.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let s=t==="+1"?1:-1;n.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,pe.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,pe.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,pe.sources.USER):this.quill.format("list","unchecked",pe.sources.USER):this.quill.format("list",t,pe.sources.USER)}}};const _q='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Eq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Cq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Nq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',kq='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Oq='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Tq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Aq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',DS='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Pq='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Rq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',jq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Lq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Iq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Mq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Dq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$q='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Bq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Uq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Fq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',qq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Hq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Vq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Wq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Kq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Gq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Xq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Yq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Zq='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Jq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Qq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',eH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',mu={align:{"":_q,center:Eq,right:Cq,justify:Nq},background:kq,blockquote:Oq,bold:Tq,clean:Aq,code:DS,"code-block":DS,color:Pq,direction:{"":Rq,rtl:jq},formula:Lq,header:{1:Iq,2:Mq,3:Dq,4:$q,5:Bq,6:zq},italic:Uq,image:Fq,indent:{"+1":qq,"-1":Hq},link:Vq,list:{bullet:Wq,check:Kq,ordered:Gq},script:{sub:Xq,super:Yq},strike:Zq,table:Jq,underline:Qq,video:eH},tH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let $S=0;function BS(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Ah{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),BS(this.label,"aria-expanded"),BS(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(n,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=tH,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${$S}`,$S+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class l2 extends Ah{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class c2 extends Ah{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const nH=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class u2{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,nH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let l=0;if(i.right>s.right&&(l=s.right-i.right,this.root.style.left=`${n+l}px`),i.left<s.left&&(l=s.left-i.left,this.root.style.left=`${n+l}px`),i.bottom>s.bottom){const c=i.bottom-i.top,d=e.bottom-e.top+c;this.root.style.top=`${r-d}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const rH=[!1,"center","right","justify"],sH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],oH=[!1,"serif","monospace"],iH=["1","2","3",!1],aH=["small",!1,"large","huge"];class Iu extends $l{constructor(e,n){super(e,n);const r=s=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")r.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")r.innerHTML=n[i];else{const l=r.value||"";l!=null&&n[i][l]&&(r.innerHTML=n[i][l])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Pc(s,rH),typeof n.align=="object"))return new c2(s,n.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Pc(s,sH,i==="background"?"#ffffff":"#000000"),new l2(s,n[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Pc(s,oH):s.classList.contains("ql-header")?Pc(s,iH):s.classList.contains("ql-size")&&Pc(s,aH)),new Ah(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(Ae.events.EDITOR_CHANGE,r)}}Iu.DEFAULTS=li({},$l.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class d2 extends u2{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ae.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ae.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=lH(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ae.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ae.sources.USER),this.quill.setSelection(r+2,Ae.sources.USER)}break}}this.textbox.value="",this.hide()}}function lH(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Pc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const s=document.createElement("option");r===n?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),t.appendChild(s)})}const cH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class f2 extends d2{constructor(e,n){super(e,n),this.quill.on(Ae.events.EDITOR_CHANGE,(r,s,i,l)=>{if(r===Ae.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&l===Ae.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(s.index,s.length);if(c.length===1){const d=this.quill.getBounds(s);d!=null&&this.position(d)}else{const d=c[c.length-1],f=this.quill.getIndex(d),h=Math.min(d.length()-1,s.index+s.length-f),g=this.quill.getBounds(new da(f,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ae.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}Ce(f2,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class h2 extends Iu{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=cH),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new f2(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),mu),this.buildPickers(e.container.querySelectorAll("select"),mu))}}h2.DEFAULTS=li({},Iu.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,pe.sources.USER)}}}}});const uH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class p2 extends d2{constructor(){super(...arguments);Ce(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Ae.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(Ae.events.SELECTION_CHANGE,(n,r,s)=>{if(n!=null){if(n.length===0&&s===Ae.sources.USER){const[i,l]=this.quill.scroll.descendant(ii,n.index);if(i!=null){this.linkRange=new da(n.index-l,i.length());const c=ii.formats(i.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ce(p2,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class g2 extends Iu{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=uH),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),mu),this.buildPickers(e.container.querySelectorAll("select"),mu),this.tooltip=new p2(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}g2.DEFAULTS=li({},Iu.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,pe.sources.USER)}}}}});pe.register({"attributors/attribute/direction":Gk,"attributors/class/align":Vk,"attributors/class/background":O9,"attributors/class/color":k9,"attributors/class/direction":Xk,"attributors/class/font":Jk,"attributors/class/size":e2,"attributors/style/align":Wk,"attributors/style/background":E0,"attributors/style/color":_0,"attributors/style/direction":Yk,"attributors/style/font":Qk,"attributors/style/size":t2},!0);pe.register({"formats/align":Vk,"formats/direction":Xk,"formats/indent":yq,"formats/background":E0,"formats/color":_0,"formats/font":Jk,"formats/size":e2,"formats/blockquote":wv,"formats/code-block":$n,"formats/header":bv,"formats/list":Lu,"formats/bold":gu,"formats/code":C0,"formats/italic":xv,"formats/link":ii,"formats/script":Sv,"formats/strike":_v,"formats/underline":Ev,"formats/formula":Sf,"formats/image":Cv,"formats/video":_f,"modules/syntax":a2,"modules/table":bq,"modules/toolbar":A0,"themes/bubble":h2,"themes/snow":g2,"ui/icons":mu,"ui/picker":Ah,"ui/icon-picker":c2,"ui/color-picker":l2,"ui/tooltip":u2},!0);const dH="https://nexus-backend-f2td.onrender.com";Ze.defaults.baseURL=dH;const Ki=Ze.create({baseURL:""}),fH=[{type:"rectangle",label:"Rectangle",icon:Sb},{type:"circle",label:"Circle",icon:pR},{type:"rounded",label:"Rounded Rectangle",icon:Sb}],il=t=>t.map(e=>({...e,position:e.position&&typeof e.position.x=="number"&&typeof e.position.y=="number"?e.position:{x:0,y:0}})),m2=({data:t})=>{const[e,n]=N.useState([]);return N.useEffect(()=>{const r=s=>{const i=[];return s.split(/(?=(?:Q:|\d+\.)\s*)/).filter(Boolean).forEach(c=>{const d=c.match(/(?:Q:|\d+\.)\s*(.*?)(?=\n(?:[A-D]\.|\nCorrect Answer:|\nExpected Answer:|$))/s),f=d?d[1].trim():"",h=[],g=c.matchAll(/([A-D]\.)\s*(.*?)(?=\n[A-D]\.|\nCorrect Answer:|\nExpected Answer:|$)/gs);for(const w of g)h.push(`${w[1]} ${w[2].trim()}`);const m=c.match(/(Correct Answer:|Expected Answer:)\s*(.*)/i),v=m?m[2].trim():"Not provided.";f&&i.push({question:f,options:h,answer:v})}),i};t.description&&n(r(t.description))},[t.description]),b.jsxs("div",{className:"p-4 overflow-y-auto max-h-96",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t.label||"Generated Test"}),e.length>0?e.map((r,s)=>b.jsxs(Xc,{className:"mb-3",children:[b.jsx(Nf,{className:"pb-2",children:b.jsxs(kf,{className:"text-sm",children:["Question ",s+1,": ",r.question]})}),b.jsxs(Yc,{children:[r.options.length>0&&b.jsx("div",{className:"space-y-1 mb-2",children:r.options.map((i,l)=>b.jsx("div",{className:"text-sm text-gray-600",children:i},l))}),b.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Answer: ",r.answer]})]})]},s)):b.jsx("p",{className:"text-gray-500 text-sm",children:"No test questions to display or content could not be parsed."})]})},hH={testNode:m2};function pH({project:t,onBack:e}){const{user:n}=ku(),[r,s]=N.useState(!1),[i,l]=N.useState(""),[c,d]=N.useState([]),[f,h]=N.useState(!1),[g,m]=N.useState(""),[v,w]=N.useState(null),[x,_]=N.useState([]),[C,T]=N.useState([]),[O,k]=N.useState(!1),[P,U]=N.useState(!1),[B,z]=N.useState(!1),[Q,oe]=N.useState(!1),[L,X]=N.useState(!1),[D,M]=N.useState([]),[W,j]=N.useState(!1),[H,R]=N.useState(!1),[F,q]=N.useState({}),[$,K]=N.useState({}),[ee,se]=N.useState("idle"),[ce,me]=N.useState(null),J=N.useRef(null),ae=N.useRef(null),ge=N.useRef(null),le=N.useRef(null),[xe,Ee]=N.useState({name:"",questionCount:5,type:"mcq"}),[ze]=N.useState([{name:"summarize",display_name:"Summarize Content",icon:ym},{name:"analyze",display_name:"Analyze Files",icon:K_},{name:"translate",display_name:"Translate Text",icon:Z_},{name:"extract",display_name:"Extract Key Points",icon:ti}]),Ue=N.useCallback((te,he)=>{if(!(t!=null&&t.id)||!te)return;const _e=`shape_${te}`,ye={...he,lastModified:new Date().toISOString(),nodeId:te};gl(t.id,_e,ye),q(Ne=>({...Ne,[te]:ye})),at(t.id,"shape_memory_saved",`Saved memory for shape "${he.label||te}" - ${Object.keys(he).join(", ")}`)},[t==null?void 0:t.id]),tt=N.useCallback(te=>{if(!(t!=null&&t.id)||!te)return null;const he=`shape_${te}`,_e=Jf(t.id,he);return _e?(q(ye=>({...ye,[te]:_e})),_e):null},[t==null?void 0:t.id]),At=N.useCallback(()=>{if(!(t!=null&&t.id))return;const te={};x.forEach(he=>{const _e=tt(he.id);_e&&(te[he.id]=_e)}),q(te)},[t==null?void 0:t.id,x,tt]),Ct=N.useCallback(async()=>{if(!(!(t!=null&&t.id)||ee==="syncing")){se("syncing");try{const te={project_id:t.id,project_title:t.title,project_subject:t.subject,nodes:x,edges:C,shapeMemory:F,nodePositions:$,changeLogs:Nv(t.id),uploadedFiles:c,importFiles:D,timestamp:new Date().toISOString()},he=await Ki.post("/api/project-state/save",te,{withCredentials:!0});he.data.success?(se("success"),me(new Date),at(t.id,"backend_sync_success","Project state synced to backend successfully")):(se("error"),at(t.id,"backend_sync_failed",`Backend sync failed: ${he.data.error||"Unknown error"}`))}catch(te){console.error("Backend sync error:",te),se("error"),at(t.id,"backend_sync_error",`Backend sync error: ${te.message}`)}setTimeout(()=>se("idle"),3e3)}},[t==null?void 0:t.id,x,C,F,$,c,D,ee]),fn=N.useCallback(async()=>{if(t!=null&&t.id)try{const te=await Ki.get(`/api/project-state/load/${t.id}`,{withCredentials:!0});if(te.data.success&&te.data.projectState){const he=te.data.projectState;he.nodes&&_(il(he.nodes)),he.edges&&T(he.edges),he.shapeMemory&&q(he.shapeMemory),he.nodePositions&&K(he.nodePositions),he.uploadedFiles&&d(he.uploadedFiles),he.importFiles&&M(he.importFiles),he.changeLogs&&gl(t.id,"changeLogs",he.changeLogs),at(t.id,"backend_load_success","Project state loaded from backend successfully")}}catch(te){console.error("Backend load error:",te),at(t.id,"backend_load_error",`Backend load error: ${te.message}`)}},[t==null?void 0:t.id]);N.useCallback(()=>{if(!(t!=null&&t.id))return;const te={nodes:x,edges:C,shapeMemory:F,nodePositions:$,lastSaved:new Date().toISOString()};gl(t.id,"projectData",te),Object.keys(F).forEach(he=>{Ue(he,F[he])}),at(t.id,"project_saved",`Project saved with ${x.length} nodes, ${C.length} edges, and ${Object.keys(F).length} shape memories`),Ct()},[t==null?void 0:t.id,x,C,F,$,Ue,Ct]);const Mt=N.useCallback(()=>{var he,_e;if(!(t!=null&&t.id))return;const te=Jf(t.id,"projectData");if(te){if(_(il(te.nodes||[])),T(te.edges||[]),te.shapeMemory&&q(te.shapeMemory),te.nodePositions)K(te.nodePositions);else if(te.nodes){const ye={};te.nodes.forEach(Ne=>{ye[Ne.id]=Ne.position}),K(ye)}at(t.id,"project_loaded",`Project loaded with ${((he=te.nodes)==null?void 0:he.length)||0} nodes and ${((_e=te.edges)==null?void 0:_e.length)||0} edges`)}else fn()},[t==null?void 0:t.id,fn]);N.useEffect(()=>{const te={};x.forEach(he=>{te[he.id]=he.position}),K(te)},[x]),N.useEffect(()=>{if(t!=null&&t.id&&(x.length>0||C.length>0||Object.keys(F).length>0)){const te={nodes:x,edges:C,shapeMemory:F,nodePositions:$,lastSaved:new Date().toISOString()};gl(t.id,"projectData",te),Object.keys(F).forEach(he=>{const _e=`shape_${he}`;gl(t.id,_e,F[he])})}},[x,C,F,$,t==null?void 0:t.id]),N.useEffect(()=>{Mt()},[Mt]),N.useEffect(()=>{x.length>0&&At()},[x,At]),N.useEffect(()=>{ge.current&&!le.current&&(le.current=new pe(ge.current,{theme:"snow",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["clean"]]}}),le.current.on("text-change",(te,he,_e)=>{if(_e==="user"&&v){const ye=le.current.root.innerHTML;_(Oe=>Oe.map(Fe=>Fe.id===v.id?{...Fe,data:{...Fe.data,description:ye}}:Fe));const Ne=F[v.id]||{};Ue(v.id,{...Ne,description:ye,label:v.data.label})}}),R(!0))},[v,F,Ue]),N.useEffect(()=>{var te;if(le.current&&H&&v&&v.type!=="testNode"){const he=F[v.id];let _e="";if(he&&he.description)_e=he.description;else{const ye=x.find(Ne=>Ne.id===v.id);_e=((te=ye==null?void 0:ye.data)==null?void 0:te.description)||""}le.current.root.innerHTML!==_e&&setTimeout(()=>{try{const ye=le.current.clipboard.convert(_e);le.current.setContents(ye,"silent")}catch(ye){console.warn("Error setting Quill content:",ye),le.current.setText(_e.replace(/<[^>]*>/g,""),"silent")}},100)}else le.current&&H&&(!v||v.type==="testNode")&&le.current.setContents([],"silent")},[v,x,F,H]),N.useEffect(()=>{t!=null&&t.id&&Bt()},[t]);const Bt=async()=>{try{const te=await Ze.get(`/api/files?project_id=${t.id}`,{withCredentials:!0});te.data.success&&d(te.data.files)}catch(te){console.error("Error loading project files:",te)}},Vt=async te=>{var ye,Ne,Oe;const he=Array.from(te.target.files),_e=[];l("");for(const Fe of he){const Je={file:Fe,type:"test",id:`${Date.now()}-${Fe.name}`},gt=new FormData;gt.append("file",Fe),gt.append("type","test"),gt.append("project_id",t.id);try{s(!0);const ot=await Ki.post("/import-file",gt,{withCredentials:!0});if(console.log("File uploaded and text extracted:",ot.data),ot.data&&ot.data.success)_e.push({...Je,path:ot.data.path,compressed_path:ot.data.compressed_path,file_id:ot.data.file_id}),at(t.id,"file_imported",`Imported and processed file: ${Fe.name} (${(Fe.size/1024).toFixed(1)} KB)`);else{const mt=((ye=ot.data)==null?void 0:ye.error)||`Upload failed for ${Fe.name}: Invalid response format`;console.error("Upload error:",mt),l(mt),at(t.id,"file_import_failed",`Failed to import file: ${Fe.name} - ${mt}`)}}catch(ot){console.error("Upload failed for "+Fe.name+":",ot);let mt=`Upload failed for ${Fe.name}`;(Oe=(Ne=ot.response)==null?void 0:Ne.data)!=null&&Oe.error?mt=ot.response.data.error:ot.message&&(mt=`Upload failed for ${Fe.name}: ${ot.message}`),l(mt),at(t.id,"file_import_failed",`Failed to import file: ${Fe.name} - ${mt}`)}finally{s(!1)}}_e.length>0&&(M(Fe=>[...Fe,..._e]),l(""))},zn=(te,he)=>{var ye,Ne;M(Oe=>Oe.map(Fe=>Fe.id===te?{...Fe,type:he}:Fe));const _e=((Ne=(ye=D.find(Oe=>Oe.id===te))==null?void 0:ye.file)==null?void 0:Ne.name)||"Unknown file";at(t.id,"file_type_changed",`Changed file type for "${_e}" to "${he}"`)},lr=async te=>{var he;if(c.length===0&&!v){l("Please upload files or select a node before using AI tools");return}h(!0),l("");try{const _e=await Ze.post("/api/ai-tools/execute",{tool_name:te,input:((he=v==null?void 0:v.data)==null?void 0:he.description)||t.description,project_id:t.id,selected_files:c.map(ye=>ye.id)},{withCredentials:!0});_e.data.success?(m(_e.data.output),at(t.id,"ai_tool_executed",`Executed AI tool: ${te} ${v?`on node "${v.data.label}"`:"on project"}`)):(l("AI tool execution failed"),at(t.id,"ai_tool_failed",`AI tool execution failed: ${te}`))}catch(_e){console.error("Error executing AI tool:",_e),l("Failed to execute AI tool"),at(t.id,"ai_tool_error",`AI tool error: ${te} - ${_e.message}`)}finally{h(!1)}},Qt=te=>{const he=`${Date.now()}`,_e={x:Math.random()*300+50,y:Math.random()*300+50},ye={id:he,type:"default",data:{label:te.charAt(0).toUpperCase()+te.slice(1),description:"",aiSummary:""},position:_e,style:{background:"#3b82f6",border:"2px solid #1d4ed8",borderRadius:te==="circle"?"50%":te==="rounded"?"20px":"4px",width:te==="circle"?80:120,height:te==="circle"?80:60,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}};_(Ne=>il([...Ne,ye])),Ue(he,{label:ye.data.label,description:"",aiSummary:"",createdAt:new Date().toISOString(),position:_e}),at(t.id,"shape_created",`Created ${te} shape "${ye.data.label}" at position (${Math.round(_e.x)}, ${Math.round(_e.y)})`)},On=te=>{T(he=>dN(te,he)),at(t.id,"connection_created",`Connected node ${te.source} to node ${te.target}`)},_r=N.useCallback(te=>{_(he=>{const _e=il(lN(te,he));return te.forEach(ye=>{var Ne,Oe,Fe;if(ye.type==="remove"){const Je=he.find(mt=>mt.id===ye.id),gt=((Ne=Je==null?void 0:Je.data)==null?void 0:Ne.label)||ye.id,ot=$[ye.id]||{x:0,y:0};if(at(t.id,"node_deleted",`Deleted node "${gt}" at position (${Math.round(ot.x)}, ${Math.round(ot.y)})`),F[ye.id]){const mt={...F};delete mt[ye.id],q(mt);const Tn=`shape_${ye.id}`;localStorage.removeItem(Zf(t.id,Tn))}}else if(ye.type==="position"&&ye.position&&ye.dragging===!1){const Je=he.find(mt=>mt.id===ye.id),gt=((Oe=Je==null?void 0:Je.data)==null?void 0:Oe.label)||ye.id,ot=$[ye.id];if(ot){if(Math.abs(ye.position.x-ot.x)>2||Math.abs(ye.position.y-ot.y)>2){at(t.id,"node_moved",`Moved node "${gt}" from (${Math.round(ot.x)}, ${Math.round(ot.y)}) to (${Math.round(ye.position.x)}, ${Math.round(ye.position.y)})`);const Tn=F[ye.id]||{};Ue(ye.id,{...Tn,position:ye.position,lastMoved:new Date().toISOString()})}}else at(t.id,"node_positioned",`Node "${gt}" positioned at (${Math.round(ye.position.x)}, ${Math.round(ye.position.y)})`)}else if(ye.type==="dimensions"&&ye.dimensions){const Je=he.find(ot=>ot.id===ye.id),gt=((Fe=Je==null?void 0:Je.data)==null?void 0:Fe.label)||ye.id;at(t.id,"node_resized",`Resized node "${gt}" to ${Math.round(ye.dimensions.width)}x${Math.round(ye.dimensions.height)}`)}}),_e})},[_,t==null?void 0:t.id,F,$,Ue]),Wt=N.useCallback(te=>{T(he=>{const _e=o6(te,he);return te.forEach(ye=>{if(ye.type==="remove"){const Ne=he.find(Oe=>Oe.id===ye.id);at(t.id,"connection_deleted",`Deleted connection from ${Ne==null?void 0:Ne.source} to ${Ne==null?void 0:Ne.target}`)}}),_e})},[T,t==null?void 0:t.id]),Pt=N.useCallback((te,he)=>{const _e=tt(he.id);_e&&_(Ne=>Ne.map(Oe=>Oe.id===he.id?{...Oe,data:{...Oe.data,label:_e.label||Oe.data.label,description:_e.description||Oe.data.description,aiSummary:_e.aiSummary||Oe.data.aiSummary}}:Oe)),w(he);const ye=$[he.id]||he.position;at(t.id,"node_selected",`Selected node "${he.data.label||he.id}" at position (${Math.round(ye.x)}, ${Math.round(ye.y)})`)},[tt,t==null?void 0:t.id,$]),Kt=te=>{if(!v)return;const he=te.target.value,_e=v.data.label;_(Ne=>Ne.map(Oe=>Oe.id===v.id?{...Oe,data:{...Oe.data,label:he}}:Oe));const ye=F[v.id]||{};Ue(v.id,{...ye,label:he}),_e!==he&&he.trim()!==""&&at(t.id,"node_label_updated",`Updated node label from "${_e||"Untitled"}" to "${he}"`)},wt=()=>{if(!v)return;const te=v.id,he=v.data.label||te,_e=$[te]||v.position;if(_(ye=>ye.filter(Ne=>Ne.id!==te)),T(ye=>ye.filter(Ne=>Ne.source!==te&&Ne.target!==te)),F[te]){const ye={...F};delete ye[te],q(ye);const Ne=`shape_${te}`;localStorage.removeItem(Zf(t.id,Ne))}at(t.id,"node_deleted",`Deleted node "${he}" at position (${Math.round(_e.x)}, ${Math.round(_e.y)}) and its connections`),w(null)},rn=()=>{k(!0),Ee({name:"",questionCount:5,type:"mcq"})},hn=()=>{k(!1)},wn=(te,he)=>{Ee(_e=>({..._e,[te]:he}))},Xn=async()=>{const te=D.filter(Oe=>Oe.type==="test"),he=D.filter(Oe=>Oe.type==="practice"),_e=D.filter(Oe=>Oe.type==="notes");let ye=[],Ne=[];if(te.length>0)ye=te.map(Oe=>Oe.path),Ne=te.map(Oe=>Oe.compressed_path);else if(he.length>0)ye=he.map(Oe=>Oe.path),Ne=he.map(Oe=>Oe.compressed_path);else if(_e.length>0)ye=_e.map(Oe=>Oe.path),Ne=_e.map(Oe=>Oe.compressed_path);else{console.warn("No suitable files (tests, practice, or notes) found to generate a test."),alert("Please upload 'test', 'practice', or 'notes' files to generate a test."),hn();return}s(!0);try{const Fe=(await Ki.post("/generate-test",{config:xe,sourceFilePaths:ye,compressedFilePaths:Ne})).data.testContent,Je={x:Math.random()*300+50,y:Math.random()*300+50},gt={id:`test-${Date.now()}`,type:"testNode",data:{label:`${xe.name||"Generated Test"} (${xe.type.toUpperCase()}, ${xe.questionCount} Qs)`,description:Fe},position:Je,style:{backgroundColor:"#dc2626",border:"2px solid #b91c1c",width:200,height:100,borderRadius:"8px",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}};_(ot=>il([...ot,gt])),k(!1),at(t.id,"test_generated",`Generated ${xe.type.toUpperCase()} test "${xe.name}" with ${xe.questionCount} questions at position (${Math.round(Je.x)}, ${Math.round(Je.y)})`),alert("Test Generated! Check the new node on the canvas.")}catch(Oe){console.error("Test generation failed:",Oe),alert("Test generation failed. Check console for details."),at(t.id,"test_generation_failed",`Test generation failed: ${Oe.message}`)}finally{s(!1)}},bn=()=>{const te={nodes:x,edges:C,uploadedFiles:c,projectDetails:t,shapeMemory:F,nodePositions:$,changeLogs:Nv(t.id)},he=`project_board_${t.title.replace(/\s/g,".")}.json`,_e=new Blob([JSON.stringify(te,null,2)],{type:"application/json"}),ye=URL.createObjectURL(_e),Ne=document.createElement("a");Ne.href=ye,Ne.download=he,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(ye),at(t.id,"project_exported",`Project data exported to ${he} (${(_e.size/1024).toFixed(1)} KB)`)},Un=D.some(te=>te.type==="test"||te.type==="practice"||te.type==="notes"),xn=async()=>{if(!v){alert("Please select a shape to develop notes for.");return}U(!0);try{const te=v.data.label,he=v.data.description||"",_e=D.map(Je=>Je.path),ye=D.map(Je=>Je.compressed_path),Oe=(await Ki.post("/generate-notes",{topic:te,existingContent:he,sourceFilePaths:_e,compressedFilePaths:ye})).data.notesContent;_(Je=>Je.map(gt=>gt.id===v.id?{...gt,data:{...gt.data,description:Oe}}:gt));const Fe=F[v.id]||{};Ue(v.id,{...Fe,description:Oe}),at(t.id,"notes_developed",`Developed notes for node "${te}" using ${_e.length} source files`),alert("Notes developed successfully!")}catch(te){console.error("Develop notes failed:",te),alert("Develop notes failed. Check console for details."),at(t.id,"notes_development_failed",`Notes development failed for node "${v.data.label}": ${te.message}`)}U(!1)},zt=async()=>{if(x.length===0&&D.length===0){alert("Please add shapes or import files to generate a study guide.");return}z(!0);try{const te=x.map(Oe=>Oe.data.label).filter(Boolean),he=D.map(Oe=>Oe.path),_e=D.map(Oe=>Oe.compressed_path),ye=await Ki.post("/generate-study-guide",{topics:te,sourceFilePaths:he,compressedFilePaths:_e}),Ne=il(ye.data.nodes);_(Ne),T(ye.data.edges),w(null),at(t.id,"study_guide_generated",`Generated study guide with ${ye.data.nodes.length} nodes and ${ye.data.edges.length} connections from ${te.length} topics and ${he.length} files`),alert("Study Guide Generated! Check the new layout on the canvas.")}catch(te){console.error("Generate study guide failed:",te),alert("Generate study guide failed. Check console for details."),at(t.id,"study_guide_generation_failed",`Study guide generation failed: ${te.message}`)}z(!1)},Ut=async()=>{if(!v){alert("Please select a shape to autofill information for.");return}oe(!0);try{const te=v.data.label,he=D.map(Fe=>Fe.path),_e=D.map(Fe=>Fe.compressed_path),Ne=(await Ki.post("/autofill-info",{topic:te,existingContent:v.data.description||"",sourceFilePaths:he,compressed_file_paths:_e})).data.filledContent;_(Fe=>Fe.map(Je=>Je.id===v.id?{...Je,data:{...Je.data,aiSummary:Ne}}:Je));const Oe=F[v.id]||{};Ue(v.id,{...Oe,aiSummary:Ne}),at(t.id,"ai_autofill_completed",`Generated AI summary for node "${te}" using ${he.length} source files`),alert("AI Summary generated!")}catch(te){console.error("Autofill information failed:",te),alert("Autofill failed."),_(he=>he.map(_e=>_e.id===v.id?{..._e,data:{..._e.data,aiSummary:"Autofill failed."}}:_e)),at(t.id,"ai_autofill_failed",`AI autofill failed for node "${v.data.label}": ${te.message}`)}oe(!1)},Gt=x.find(te=>te.id===(v==null?void 0:v.id)),ut=v?F[v.id]:null,sn=()=>{switch(ee){case"syncing":return b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600"});case"success":return b.jsx(xb,{className:"h-4 w-4 text-green-600"});case"error":return b.jsx(vR,{className:"h-4 w-4 text-red-600"});default:return b.jsx(xb,{className:"h-4 w-4 text-gray-400"})}},Er=()=>{switch(ee){case"syncing":return"Syncing...";case"success":return ce?`Synced ${ce.toLocaleTimeString()}`:"Synced";case"error":return"Sync failed";default:return"Not synced"}};return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(lt,{variant:"ghost",onClick:e,className:"flex items-center",children:[b.jsx(vm,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:t.title}),b.jsx("p",{className:"text-sm text-gray-500",children:t.subject})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-gray-50 rounded-md",children:[sn(),b.jsx("span",{className:"text-xs text-gray-600",children:Er()})]}),b.jsxs(lt,{variant:"outline",size:"sm",onClick:()=>j(!0),children:[b.jsx(wm,{className:"h-4 w-4 mr-1"}),"History"]}),b.jsxs(lt,{variant:"outline",size:"sm",children:[b.jsx(LR,{className:"h-4 w-4 mr-1"}),"Settings"]}),b.jsxs(lt,{size:"sm",onClick:bn,children:[b.jsx(bR,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),b.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[b.jsx("div",{className:"w-80 bg-white border-r border-gray-200 p-6 overflow-y-auto",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[b.jsx(Q_,{className:"h-5 w-5 mr-2"}),"Import Materials"]}),i&&b.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:b.jsx("p",{className:"text-red-600 text-sm",children:i})}),b.jsx(lt,{onClick:()=>{var te;return(te=J.current)==null?void 0:te.click()},variant:"outline",className:"w-full mb-4 h-20 border-dashed border-2",disabled:r,children:b.jsxs("div",{className:"text-center",children:[b.jsx(Y_,{className:"h-6 w-6 mx-auto mb-1"}),b.jsx("span",{className:"text-sm",children:r?"Processing...":"Click to import files"})]})}),b.jsx("input",{ref:J,type:"file",multiple:!0,onChange:Vt,className:"hidden",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg"})]}),D.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Imported Files"}),b.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:D.map(te=>b.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(ti,{className:"h-4 w-4 mr-2 text-gray-500"}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm text-gray-700 truncate",children:te.file.name}),b.jsxs(tu,{value:te.type,onValueChange:he=>zn(te.id,he),children:[b.jsx(ru,{className:"w-20 h-6 text-xs",children:b.jsx(nu,{})}),b.jsxs(su,{children:[b.jsx(uo,{value:"test",children:"Test"}),b.jsx(uo,{value:"practice",children:"Practice"}),b.jsx(uo,{value:"notes",children:"Notes"})]})]})]})]})},te.id))})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[b.jsx(Lv,{className:"h-5 w-5 mr-2"}),"Add Shapes"]}),b.jsx("div",{className:"space-y-2",children:fH.map(te=>{const he=te.icon;return b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:()=>Qt(te.type),children:[b.jsx(he,{className:"h-4 w-4 mr-2"}),te.label]},te.type)})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Canvas Tools"}),b.jsx("div",{className:"space-y-2",children:b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:zt,disabled:B||x.length===0&&D.length===0,children:[B?b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}):b.jsx($R,{className:"h-4 w-4 mr-2"}),B?"Generating Guide...":"Generate Study Guide"]})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Tools"}),b.jsx("div",{className:"space-y-2",children:ze.map(te=>{const he=te.icon;return b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:()=>lr(te.name),disabled:f,children:[b.jsx(he,{className:"h-4 w-4 mr-2"}),te.display_name]},te.name)})}),f&&b.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}),b.jsx("p",{className:"text-orange-600 text-sm",children:"AI is processing..."})]})}),g&&b.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[b.jsx("h5",{className:"text-sm font-medium text-green-700 mb-2",children:"AI Output"}),b.jsx("div",{className:"text-sm text-green-600 whitespace-pre-wrap max-h-40 overflow-y-auto",children:g})]})]})]})}),b.jsx("div",{className:"flex-1 relative",children:b.jsxs(VN,{ref:ae,nodes:x,edges:C,onNodesChange:_r,onEdgesChange:Wt,onConnect:On,onNodeClick:Pt,nodeTypes:hH,fitView:!0,className:"bg-gray-100",children:[b.jsx($6,{}),b.jsx(O6,{}),b.jsx(j6,{})]})}),b.jsx("div",{className:"w-80 bg-white border-l border-gray-200 p-6 overflow-y-auto",children:b.jsxs("div",{className:"space-y-6",children:[Gt?Gt.type==="testNode"?b.jsx(m2,{data:Gt.data}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Edit Shape"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(yn,{htmlFor:"node-title",children:"Title"}),b.jsx(rs,{id:"node-title",value:Gt.data.label||"",onChange:Kt,placeholder:"Enter title"})]}),b.jsxs("div",{children:[b.jsx(yn,{htmlFor:"node-description",children:"Information"}),b.jsx("div",{ref:ge,className:"min-h-[200px] border border-gray-300 rounded-md"})]}),b.jsxs(lt,{variant:"destructive",onClick:wt,className:"w-full",children:[b.jsx(J_,{className:"h-4 w-4 mr-2"}),"Delete Shape"]})]})]}),ut&&b.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[b.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[b.jsx(X_,{className:"h-4 w-4 mr-1"}),"Shape Memory"]}),b.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[ut.createdAt&&b.jsxs("div",{children:["Created: ",new Date(ut.createdAt).toLocaleString()]}),ut.lastModified&&b.jsxs("div",{children:["Modified: ",new Date(ut.lastModified).toLocaleString()]}),ut.lastMoved&&b.jsxs("div",{children:["Last Moved: ",new Date(ut.lastMoved).toLocaleString()]}),(ut.position||$[v.id])&&b.jsxs("div",{children:["Position: (",Math.round((ut.position||$[v.id]).x),", ",Math.round((ut.position||$[v.id]).y),")"]}),b.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[ut.description&&b.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"Description"}),ut.aiSummary&&b.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:"AI Summary"})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Tools (Selected Node)"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:Ut,disabled:!Gt||Q,children:[Q?b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}):b.jsx(CR,{className:"h-4 w-4 mr-2"}),Q?"Autofilling...":"Autofill Information"]}),(Gt.data.aiSummary||(ut==null?void 0:ut.aiSummary))&&b.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[b.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Summary"}),b.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:((ut==null?void 0:ut.aiSummary)||Gt.data.aiSummary||"").split(`
`).map((te,he)=>b.jsxs("div",{children:[" ",te]},he))})]}),b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:xn,disabled:!Gt||P,children:[P?b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}):b.jsx(ti,{className:"h-4 w-4 mr-2"}),P?"Developing Notes...":"Develop Notes"]})]})]})]}):b.jsxs("div",{className:"text-center text-gray-500",children:[b.jsx("p",{className:"text-sm",children:"Click a shape to view/edit its details."}),b.jsx("p",{className:"text-xs mt-2",children:"Each shape now has persistent memory that saves your information automatically."})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Generate New Test"}),b.jsxs(lt,{size:"sm",onClick:rn,disabled:!Un,children:[b.jsx(zR,{className:"h-4 w-4 mr-1"}),"New Test"]})]}),!Un&&b.jsx("p",{className:"text-xs text-gray-500",children:"Upload 'test', 'practice', or 'notes' files to enable test generation."})]})]})})]}),b.jsx(ik,{open:O,onOpenChange:k,children:b.jsxs(ak,{children:[b.jsx(lk,{children:b.jsx(ck,{children:"Generate New Test"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(yn,{htmlFor:"test-name",children:"Test Name"}),b.jsx(rs,{id:"test-name",value:xe.name,onChange:te=>wn("name",te.target.value),placeholder:"Enter test name"})]}),b.jsxs("div",{children:[b.jsx(yn,{htmlFor:"question-count",children:"Number of Questions"}),b.jsx(rs,{id:"question-count",type:"number",min:"1",max:"100",value:xe.questionCount,onChange:te=>wn("questionCount",parseInt(te.target.value))})]}),b.jsxs("div",{children:[b.jsx(yn,{children:"Question Type"}),b.jsxs(tu,{value:xe.type,onValueChange:te=>wn("type",te),children:[b.jsx(ru,{children:b.jsx(nu,{})}),b.jsxs(su,{children:[b.jsx(uo,{value:"mcq",children:"Multiple Choice"}),b.jsx(uo,{value:"frq",children:"Free Response"})]})]})]}),b.jsxs("div",{className:"flex justify-end space-x-2",children:[b.jsx(lt,{variant:"outline",onClick:hn,children:"Cancel"}),b.jsx(lt,{onClick:Xn,disabled:r,children:r?"Generating...":"Generate Test"})]})]})]})}),b.jsx(gH,{projectId:t.id,isOpen:W,onClose:()=>j(!1)}),i&&b.jsx("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i})]})}const Zf=(t,e)=>`project_${t}_${e}`,gl=(t,e,n)=>{try{const r=Zf(t,e);return localStorage.setItem(r,JSON.stringify(n)),!0}catch(r){return console.error("Error saving to localStorage:",r),!1}},Jf=(t,e,n=null)=>{try{const r=Zf(t,e),s=localStorage.getItem(r);return s?JSON.parse(s):n}catch(r){return console.error("Error loading from localStorage:",r),n}},at=(t,e,n)=>{const r=new Date().toISOString(),s={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:r,action:e,details:n,user:"current_user"},c=[...Jf(t,"changeLogs",[]),s].slice(-1e3);return gl(t,"changeLogs",c),s},Nv=t=>Jf(t,"changeLogs",[]),gH=({projectId:t,isOpen:e,onClose:n})=>{const[r,s]=N.useState([]),[i,l]=N.useState([]),[c,d]=N.useState("all");N.useEffect(()=>{if(e){const v=Nv(t);s(v),l(v)}},[e,t]),N.useEffect(()=>{l(c==="all"?r:r.filter(v=>v.action===c))},[c,r]);const f=v=>new Date(v).toLocaleString(),h=v=>{switch(v){case"node_created":case"shape_created":case"connection_created":case"test_generated":case"study_guide_generated":case"ai_autofill_completed":case"notes_developed":case"backend_sync_success":case"backend_load_success":return"text-green-600";case"node_updated":case"node_moved":case"node_positioned":case"node_resized":case"node_label_updated":case"shape_memory_saved":case"file_type_changed":case"project_saved":return"text-orange-600";case"node_deleted":case"connection_deleted":case"file_deleted":case"backend_sync_failed":case"backend_sync_error":case"backend_load_error":return"text-red-600";case"file_uploaded":case"file_imported":case"project_loaded":case"project_exported":case"ai_tool_executed":case"ai_arrange_completed":return"text-purple-600";case"node_selected":return"text-gray-600";default:return"text-gray-700"}},g=v=>{switch(v){case"node_created":case"shape_created":return"+";case"node_deleted":case"connection_deleted":case"file_deleted":return"";case"node_moved":case"node_positioned":return"";case"connection_created":return"";case"file_uploaded":case"file_imported":return"";case"project_saved":return"";case"project_exported":return"";case"ai_tool_executed":case"ai_autofill_completed":case"ai_arrange_completed":return"";case"test_generated":return"";case"study_guide_generated":return"";case"notes_developed":return"";case"backend_sync_success":case"backend_load_success":return"";case"backend_sync_failed":case"backend_sync_error":case"backend_load_error":return"";default:return""}},m=[...new Set(r.map(v=>v.action))];return b.jsx(ik,{open:e,onOpenChange:n,children:b.jsxs(ak,{className:"max-w-4xl max-h-[80vh]",children:[b.jsx(lk,{children:b.jsxs(ck,{className:"flex items-center",children:[b.jsx(wm,{className:"h-5 w-5 mr-2"}),"Change History (",r.length," entries)"]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(yn,{htmlFor:"action-filter",className:"text-sm",children:"Filter by action:"}),b.jsxs(tu,{value:c,onValueChange:d,children:[b.jsx(ru,{className:"w-48",children:b.jsx(nu,{})}),b.jsxs(su,{children:[b.jsx(uo,{value:"all",children:"All Actions"}),m.map(v=>b.jsx(uo,{value:v,children:v.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase())},v))]})]}),b.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",i.length," of ",r.length," entries"]})]}),b.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md",children:i.length>0?b.jsx("div",{className:"space-y-1 p-2",children:i.map(v=>b.jsxs("div",{className:"flex items-start space-x-3 p-2 hover:bg-gray-50 rounded-md",children:[b.jsx("div",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-sm",children:g(v.action)}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("span",{className:`text-sm font-medium ${h(v.action)}`,children:v.action.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase())}),b.jsx("span",{className:"text-xs text-gray-500",children:f(v.timestamp)})]}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.details})]})]},v.id))}):b.jsxs("div",{className:"p-8 text-center text-gray-500",children:[b.jsx(wm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),b.jsx("p",{children:"No change history available"}),b.jsx("p",{className:"text-sm",children:"Actions will appear here as you work on your project"})]})})]})]})})},mH=["Math","Science","History","Art","Computer Science","English"],vH=[{value:"private",label:"Private - Only you can see this"},{value:"view_only",label:"View Only (Coming Soon)",disabled:!0},{value:"edit",label:"Collaborative (Coming Soon)",disabled:!0}],yH="https://nexus-backend-f2td.onrender.com";Ze.defaults.baseURL=yH;function wH({onBack:t,onProjectCreated:e}){const{user:n}=ku(),[r,s]=N.useState(!1),[i,l]=N.useState(""),[c,d]=N.useState(!1),[f,h]=N.useState(null),[g,m]=N.useState(!1),[v,w]=N.useState([]),[x,_]=N.useState(!1),[C,T]=N.useState(""),O=N.useRef(null),[k,P]=N.useState({title:"",description:"",subject:"",access_level:"private"}),[U]=N.useState([{name:"summarize",display_name:"Summarize Content",icon:ym},{name:"analyze",display_name:"Analyze Files",icon:K_},{name:"translate",display_name:"Translate Text",icon:Z_},{name:"extract",display_name:"Extract Key Points",icon:ti}]),B=async D=>{var M,W;if(D.preventDefault(),s(!0),l(""),d(!1),!k.title.trim()||!k.description.trim()||!k.subject){l("Please fill in all required fields"),s(!1);return}try{const j=await Ze.post("/api/projects",{title:k.title.trim(),description:k.description.trim(),subject:k.subject,access_level:k.access_level,user_id:n.id||n.user_id||n.email,created_at:new Date().toISOString()},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token||""}`},withCredentials:!0});if(j.data.success){const H=j.data.project;h(H),d(!0),P({title:"",description:"",subject:"",access_level:"private"}),e&&typeof e=="function"&&e(H)}else l(j.data.message||"Failed to create project. Please try again.")}catch(j){if(console.error("Error creating project:",j),j.response){const H=((M=j.response.data)==null?void 0:M.error)||((W=j.response.data)==null?void 0:W.message)||`Server error: ${j.response.status}`;l(H)}else j.request?l("Unable to connect to server. Please check if the backend is running."):l("Failed to create project. Please try again.")}finally{s(!1)}},z=(D,M)=>{P(W=>({...W,[D]:M})),i&&l("")},Q=async D=>{const M=Array.from(D.target.files);for(const W of M)try{const j=new FormData;j.append("file",W),j.append("project_id",(f==null?void 0:f.id)||"temp");const H=await Ze.post("/api/files",j,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});H.data.success&&w(R=>[...R,H.data.file])}catch(j){console.error("Error uploading file:",j),l(`Failed to upload ${W.name}`)}},oe=async D=>{try{(await Ze.delete(`/api/files/${D}`,{withCredentials:!0})).data.success&&w(W=>W.filter(j=>j.id!==D))}catch(M){console.error("Error deleting file:",M),l("Failed to delete file")}},L=async D=>{if(!k.description.trim()&&v.length===0){l("Please add some content or upload files before using AI tools");return}_(!0),l("");try{const M=await Ze.post("/api/ai-tools/execute",{tool_name:D,input:k.description,project_id:(f==null?void 0:f.id)||"temp",selected_files:v.map(W=>W.id)},{withCredentials:!0});M.data.success?T(M.data.output):l("AI tool execution failed")}catch(M){console.error("Error executing AI tool:",M),l("Failed to execute AI tool")}finally{_(!1)}},X=()=>{f&&(e&&typeof e=="function"&&e(f),m(!0))};return g&&f?b.jsx(pH,{project:f,onBack:()=>m(!1)}):c?b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:b.jsx(Xc,{className:"w-full max-w-lg",children:b.jsx(Yc,{className:"pt-6",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(AR,{className:"h-8 w-8 text-green-600"})}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Project Created Successfully!"}),b.jsxs("p",{className:"text-gray-600 mb-6",children:['Your project "',(f==null?void 0:f.title)||k.title,'" has been created and is ready for collaboration.']}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs(lt,{onClick:X,className:"w-full bg-orange-600 hover:bg-orange-500",children:[b.jsx(ti,{className:"h-4 w-4 mr-2"}),"Open Project Board"]}),b.jsxs(lt,{variant:"outline",onClick:t,className:"w-full",children:[b.jsx(vm,{className:"h-4 w-4 mr-2"}),"Back to Homepage"]})]}),b.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[b.jsx("p",{children:"In the project board you can:"}),b.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs",children:[b.jsxs("span",{className:"flex items-center",children:[b.jsx(ti,{className:"h-3 w-3 mr-1"}),"Import files"]}),b.jsxs("span",{className:"flex items-center",children:[b.jsx(Eb,{className:"h-3 w-3 mr-1"}),"Collaborate"]}),b.jsxs("span",{className:"flex items-center",children:[b.jsx(Cb,{className:"h-3 w-3 mr-1"}),"Use AI tools"]})]})]})]})})})}):b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(lt,{variant:"ghost",onClick:t,className:"flex items-center",children:[b.jsx(vm,{className:"h-4 w-4 mr-2"}),"Back to Homepage"]}),b.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Create New Project"}),b.jsx("div",{className:"w-24"})," "]})}),b.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[b.jsx("div",{className:"w-80 bg-white border-r border-gray-200 p-6 overflow-y-auto",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[b.jsx(Q_,{className:"h-5 w-5 mr-2"}),"File Management"]}),b.jsxs(lt,{onClick:()=>{var D;return(D=O.current)==null?void 0:D.click()},variant:"outline",className:"w-full mb-4",children:[b.jsx(Y_,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),b.jsx("input",{ref:O,type:"file",multiple:!0,onChange:Q,className:"hidden",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg"})]}),v.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Files"}),b.jsx("div",{className:"space-y-2",children:v.map(D=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(ti,{className:"h-4 w-4 mr-2 text-gray-500"}),b.jsx("span",{className:"text-sm text-gray-700 truncate",children:D.name})]}),b.jsx("div",{className:"flex items-center space-x-1",children:b.jsx(lt,{size:"sm",variant:"ghost",onClick:()=>oe(D.id),children:b.jsx(J_,{className:"h-3 w-3"})})})]},D.id))})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Templates"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(lt,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>z("description","Research project focusing on..."),children:[b.jsx(ym,{className:"h-4 w-4 mr-2"}),"Research Project"]}),b.jsxs(lt,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>z("description","Study group for exam preparation..."),children:[b.jsx(Eb,{className:"h-4 w-4 mr-2"}),"Study Group"]}),b.jsxs(lt,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>z("description","Lab report and analysis..."),children:[b.jsx(ti,{className:"h-4 w-4 mr-2"}),"Lab Report"]})]})]})]})}),b.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs(Xc,{children:[b.jsx(Nf,{children:b.jsx(kf,{children:"Project Details"})}),b.jsx(Yc,{children:b.jsxs("form",{onSubmit:B,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"title",children:"Project Title *"}),b.jsx(rs,{id:"title",value:k.title,onChange:D=>z("title",D.target.value),placeholder:"Enter your project title",required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"description",children:"Description *"}),b.jsx(RM,{id:"description",value:k.description,onChange:D=>z("description",D.target.value),placeholder:"Describe your project...",rows:6,required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"subject",children:"Subject *"}),b.jsxs(tu,{value:k.subject,onValueChange:D=>z("subject",D),children:[b.jsx(ru,{children:b.jsx(nu,{placeholder:"Select a subject"})}),b.jsx(su,{children:mH.map(D=>b.jsx(uo,{value:D,children:D},D))})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(yn,{htmlFor:"access_level",children:"Access Level"}),b.jsxs(tu,{value:k.access_level,onValueChange:D=>z("access_level",D),children:[b.jsx(ru,{children:b.jsx(nu,{})}),b.jsx(su,{children:vH.map(D=>b.jsx(uo,{value:D.value,children:D.label},D.value))})]})]})]}),i&&b.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:b.jsx("p",{className:"text-red-600 text-sm",children:i})}),b.jsxs("div",{className:"flex justify-end space-x-4",children:[b.jsx(lt,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),b.jsx(lt,{type:"submit",disabled:r,className:"bg-orange-600 hover:bg-blue-700",children:r?"Creating...":"Create Project"})]})]})})]})})}),b.jsx("div",{className:"w-80 bg-white border-l border-gray-200 p-6 overflow-y-auto",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[b.jsx(Cb,{className:"h-5 w-5 mr-2"}),"AI Assistant"]}),b.jsx("div",{className:"space-y-3",children:U.map(D=>{const M=D.icon;return b.jsxs(lt,{variant:"outline",className:"w-full justify-start",onClick:()=>L(D.name),disabled:x,children:[b.jsx(M,{className:"h-4 w-4 mr-2"}),D.display_name]},D.name)})}),x&&b.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600 mr-2"}),b.jsx("p",{className:"text-orange-600 text-sm",children:"AI is processing..."})]})}),C&&b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Output"}),b.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:b.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:C})}),b.jsxs(lt,{size:"sm",variant:"outline",className:"mt-2 w-full",onClick:()=>{const D=k.description,M=D?`${D}

${C}`:C;z("description",M),T("")},children:[b.jsx(Lv,{className:"h-3 w-3 mr-1"}),"Add to Description"]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Suggestions"}),b.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[b.jsx("p",{children:" Upload relevant documents to get better AI insights"}),b.jsx("p",{children:" Use the summarize tool to condense long content"}),b.jsx("p",{children:" Try the analyze tool to identify key concepts"}),b.jsx("p",{children:" Extract key points for quick reference"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project Stats"}),b.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Files uploaded:"}),b.jsx("span",{children:v.length})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Description length:"}),b.jsxs("span",{children:[k.description.length," chars"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Subject:"}),b.jsx("span",{children:k.subject||"Not selected"})]})]})]})]})})]})]})}const bH="/assets/logo-ChmDkQgC.png";function xH(){const{user:t,loading:e,login:n,logout:r}=ku(),[s,i]=N.useState(!1),[l,c]=N.useState("home"),d=f=>{i(!1)};return e?b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx(PM,{onCreateProject:()=>c("create-project"),onLogout:r}),l==="home"&&b.jsx(oI,{}),l==="create-project"&&b.jsx(wH,{onBack:()=>c("home")})]}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsxs("div",{className:"text-center",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:b.jsx("img",{src:bH,alt:"Nexus Logo",className:"h-32 w-auto flex-shrink-0"})}),b.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"A Community for Studying & Connectiung with Students"})]}),b.jsx(lt,{onClick:()=>i(!0),className:"bg-orange-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Get Started"})]})}),b.jsx(GR,{isOpen:s,onClose:()=>i(!1),onAuthSuccess:d})]})}function SH(){const[t,e]=N.useState("Loading...");return N.useEffect(()=>{fetch("https://nexus-backend-f2td.onrender.com/api").then(n=>n.json()).then(n=>e(n.message)).catch(()=>e(" Failed to fetch backend"))},[]),b.jsx(nI,{children:b.jsx(xH,{})})}tT.createRoot(document.getElementById("root")).render(b.jsx(N.StrictMode,{children:b.jsx(SH,{})}))});export default _H();
